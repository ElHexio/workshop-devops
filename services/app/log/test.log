  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "articles" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "body" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20190306183951)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-03-07 15:32:32.752786"], ["updated_at", "2019-03-07 15:32:32.752786"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 15:32:32.817461', '2019-03-07 15:32:32.817461', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 15:32:32.817461', '2019-03-07 15:32:32.817461', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 15:34:04.713758', '2019-03-07 15:34:04.713758', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 15:34:04.713758', '2019-03-07 15:34:04.713758', 298486374)[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-03-07 15:34:04.726479"], ["updated_at", "2019-03-07 15:34:04.726479"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 15:37:38.966789', '2019-03-07 15:37:38.966789', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 15:37:38.966789', '2019-03-07 15:37:38.966789', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 15:57:12.099466', '2019-03-07 15:57:12.099466', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 15:57:12.099466', '2019-03-07 15:57:12.099466', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:05:57.293422', '2019-03-07 17:05:57.293422', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:05:57.293422', '2019-03-07 17:05:57.293422', 298486374)[0m
  [1m[35m (3.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:06:16.058341', '2019-03-07 17:06:16.058341', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:06:16.058341', '2019-03-07 17:06:16.058341', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:06:36.376253', '2019-03-07 17:06:36.376253', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:06:36.376253', '2019-03-07 17:06:36.376253', 298486374)[0m
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:06:48.304930', '2019-03-07 17:06:48.304930', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:06:48.304930', '2019-03-07 17:06:48.304930', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:07:19.454337', '2019-03-07 17:07:19.454337', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:07:19.454337', '2019-03-07 17:07:19.454337', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:26:57.779099', '2019-03-07 17:26:57.779099', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:26:57.779099', '2019-03-07 17:26:57.779099', 298486374)[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.7ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Dude!"], ["body", "Where is my car?"], ["created_at", "2019-03-07 17:26:57.819389"], ["updated_at", "2019-03-07 17:26:57.819389"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:27:15.361802', '2019-03-07 17:27:15.361802', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:27:15.361802', '2019-03-07 17:27:15.361802', 298486374)[0m
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Dude!"], ["body", "Where is my car?"], ["created_at", "2019-03-07 17:27:15.377612"], ["updated_at", "2019-03-07 17:27:15.377612"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:28:05.693827', '2019-03-07 17:28:05.693827', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:28:05.693827', '2019-03-07 17:28:05.693827', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Dude!"], ["body", "Where is my car?"], ["created_at", "2019-03-07 17:28:05.709990"], ["updated_at", "2019-03-07 17:28:05.709990"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:29:35.108276', '2019-03-07 17:29:35.108276', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:29:35.108276', '2019-03-07 17:29:35.108276', 298486374)[0m
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Dude!"], ["body", "Where is my car?"], ["created_at", "2019-03-07 17:29:35.141643"], ["updated_at", "2019-03-07 17:29:35.141643"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:30:17.156424', '2019-03-07 17:30:17.156424', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:30:17.156424', '2019-03-07 17:30:17.156424', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Dude!"], ["body", "Where is my car?"], ["created_at", "2019-03-07 17:30:17.201964"], ["updated_at", "2019-03-07 17:30:17.201964"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:30:23.614206', '2019-03-07 17:30:23.614206', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:30:23.614206', '2019-03-07 17:30:23.614206', 298486374)[0m
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Dude!"], ["body", "Where is my car?"], ["created_at", "2019-03-07 17:30:23.628185"], ["updated_at", "2019-03-07 17:30:23.628185"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:30:31.609700', '2019-03-07 17:30:31.609700', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:30:31.609700', '2019-03-07 17:30:31.609700', 298486374)[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Dude!"], ["body", "Where is my car?"], ["created_at", "2019-03-07 17:30:31.623692"], ["updated_at", "2019-03-07 17:30:31.623692"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:30:47.131995', '2019-03-07 17:30:47.131995', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:30:47.131995', '2019-03-07 17:30:47.131995', 298486374)[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Dude!"], ["body", "Where is my car?"], ["created_at", "2019-03-07 17:30:47.146672"], ["updated_at", "2019-03-07 17:30:47.146672"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:31:14.398345', '2019-03-07 17:31:14.398345', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:31:14.398345', '2019-03-07 17:31:14.398345', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:32:52.435051', '2019-03-07 17:32:52.435051', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:32:52.435051', '2019-03-07 17:32:52.435051', 298486374)[0m
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (1.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Dude!"], ["body", "Where is my car?"], ["created_at", "2019-03-07 17:32:52.455206"], ["updated_at", "2019-03-07 17:32:52.455206"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mArticle Load (1.7ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:39:34.200746', '2019-03-07 17:39:34.200746', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:39:34.200746', '2019-03-07 17:39:34.200746', 298486374)[0m
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.9ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Dude!"], ["body", "Where is my car?"], ["created_at", "2019-03-07 17:39:34.220719"], ["updated_at", "2019-03-07 17:39:34.220719"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:41:56.297307', '2019-03-07 17:41:56.297307', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', '2019-03-07 17:41:56.297307', '2019-03-07 17:41:56.297307', 298486374)[0m
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.7ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Dude!"], ["body", "Where is my car?"], ["created_at", "2019-03-07 17:41:56.314483"], ["updated_at", "2019-03-07 17:41:56.314483"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-07 17:43:39.576101', '2019-03-07 17:43:39.576101')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-07 17:43:39.576101', '2019-03-07 17:43:39.576101')[0m
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Dude!"], ["body", "Where is my car?"], ["created_at", "2019-03-07 17:43:39.597536"], ["updated_at", "2019-03-07 17:43:39.597536"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-07 17:49:54.004794', '2019-03-07 17:49:54.004794')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-07 17:49:54.004794', '2019-03-07 17:49:54.004794')[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-07 21:49:54 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.0ms)
  Rendered articles/new.html.slim within layouts/application (110.1ms)
Completed 200 OK in 370ms (Views: 360.4ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-07 21:49:54 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-07 17:49:54.748616"], ["updated_at", "2019-03-07 17:49:54.748616"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-07 21:49:54 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.5ms)
Completed 200 OK in 9ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-07 17:51:21.242220', '2019-03-07 17:51:21.242220')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-07 17:51:21.242220', '2019-03-07 17:51:21.242220')[0m
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-07 21:51:21 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (20.1ms)
  Rendered articles/new.html.slim within layouts/application (73.1ms)
Completed 200 OK in 290ms (Views: 283.9ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-07 21:51:21 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-07 17:51:21.740953"], ["updated_at", "2019-03-07 17:51:21.740953"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-07 21:51:21 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.7ms)
Completed 200 OK in 9ms (Views: 4.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-07 17:52:33.129240', '2019-03-07 17:52:33.129240')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-07 17:52:33.129240', '2019-03-07 17:52:33.129240')[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-07 21:52:33 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (16.2ms)
  Rendered articles/new.html.slim within layouts/application (77.0ms)
Completed 200 OK in 238ms (Views: 227.8ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-07 21:52:33 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-07 17:52:33.457914"], ["updated_at", "2019-03-07 17:52:33.457914"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-07 21:52:33 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.5ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-07 17:54:50.728410', '2019-03-07 17:54:50.728410')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-07 17:54:50.728410', '2019-03-07 17:54:50.728410')[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-07 21:54:50 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (16.7ms)
  Rendered articles/new.html.slim within layouts/application (69.2ms)
Completed 200 OK in 321ms (Views: 313.4ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-07 21:54:51 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-07 17:54:51.244057"], ["updated_at", "2019-03-07 17:54:51.244057"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-07 21:54:51 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.5ms)
Completed 200 OK in 8ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New one"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-07 17:55:37.122273', '2019-03-07 17:55:37.122273')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-07 17:55:37.122273', '2019-03-07 17:55:37.122273')[0m
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-07 21:55:37 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (17.4ms)
  Rendered articles/new.html.slim within layouts/application (78.3ms)
Completed 200 OK in 239ms (Views: 228.9ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-07 21:55:37 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-07 17:55:37.454117"], ["updated_at", "2019-03-07 17:55:37.454117"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-07 21:55:37 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-07 17:55:51.770027', '2019-03-07 17:55:51.770027')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-07 17:55:51.770027', '2019-03-07 17:55:51.770027')[0m
  [1m[35m (2.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-07 21:55:51 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (7.6ms)
  Rendered articles/new.html.slim within layouts/application (48.4ms)
Completed 200 OK in 287ms (Views: 279.5ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-07 21:55:52 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-07 17:55:52.144536"], ["updated_at", "2019-03-07 17:55:52.144536"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-07 21:55:52 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.5ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-07 18:00:23.444370', '2019-03-07 18:00:23.444370')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-07 18:00:23.444370', '2019-03-07 18:00:23.444370')[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-07 22:00:23 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (17.3ms)
  Rendered articles/new.html.slim within layouts/application (113.1ms)
Completed 200 OK in 289ms (Views: 282.4ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-07 22:00:23 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-07 18:00:23.930933"], ["updated_at", "2019-03-07 18:00:23.930933"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-07 22:00:23 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.4ms)
Completed 200 OK in 9ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/articles/1/edit" for 127.0.0.1 at 2019-03-07 22:00:23 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.7ms)
  Rendered articles/edit.html.slim within layouts/application (4.7ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started PUT "/articles/1" for 127.0.0.1 at 2019-03-07 22:00:23 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-07 18:00:23.957306"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/1
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles/1" for 127.0.0.1 at 2019-03-07 22:00:23 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-07 18:04:15.722233', '2019-03-07 18:04:15.722233')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-07 18:04:15.722233', '2019-03-07 18:04:15.722233')[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/articles/1/edit" for 127.0.0.1 at 2019-03-07 22:04:15 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (21.9ms)
  Rendered articles/edit.html.slim within layouts/application (74.8ms)
Completed 200 OK in 287ms (Views: 278.1ms | ActiveRecord: 0.2ms)
Started PUT "/articles/1" for 127.0.0.1 at 2019-03-07 22:04:16 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-07 18:04:16.220331"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/1
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/1" for 127.0.0.1 at 2019-03-07 22:04:16 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.5ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started DELETE "/articles/1" for 127.0.0.1 at 2019-03-07 22:04:16 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (1.9ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 2.1ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-07 22:04:16 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.8ms)
  Rendered articles/new.html.slim within layouts/application (4.8ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-07 22:04:16 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-07 18:04:16.250253"], ["updated_at", "2019-03-07 18:04:16.250253"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-07 22:04:16 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-07 18:04:33.662140', '2019-03-07 18:04:33.662140')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-07 18:04:33.662140', '2019-03-07 18:04:33.662140')[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-07 22:04:33 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (13.8ms)
  Rendered articles/new.html.slim within layouts/application (77.1ms)
Completed 200 OK in 235ms (Views: 229.4ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-07 22:04:34 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-07 18:04:34.012281"], ["updated_at", "2019-03-07 18:04:34.012281"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-07 22:04:34 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.5ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started DELETE "/articles/1" for 127.0.0.1 at 2019-03-07 22:04:34 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/articles/1/edit" for 127.0.0.1 at 2019-03-07 22:04:34 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.7ms)
  Rendered articles/edit.html.slim within layouts/application (4.8ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started PUT "/articles/1" for 127.0.0.1 at 2019-03-07 22:04:34 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-07 18:04:34.040482"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/1
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/1" for 127.0.0.1 at 2019-03-07 22:04:34 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-07 18:04:43.581349', '2019-03-07 18:04:43.581349')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-07 18:04:43.581349', '2019-03-07 18:04:43.581349')[0m
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-07 22:04:43 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (8.0ms)
  Rendered articles/new.html.slim within layouts/application (42.2ms)
Completed 200 OK in 255ms (Views: 244.7ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-07 22:04:43 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-07 18:04:43.906920"], ["updated_at", "2019-03-07 18:04:43.906920"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-07 22:04:43 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.5ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/articles/1/edit" for 127.0.0.1 at 2019-03-07 22:04:43 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.6ms)
  Rendered articles/edit.html.slim within layouts/application (4.8ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.1ms)
Started PUT "/articles/1" for 127.0.0.1 at 2019-03-07 22:04:43 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-07 18:04:43.932811"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/1
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/1" for 127.0.0.1 at 2019-03-07 22:04:43 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started DELETE "/articles/1" for 127.0.0.1 at 2019-03-07 22:04:43 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.5ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-09 11:37:35.154184', '2019-03-09 11:37:35.154184')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-09 11:37:35.154184', '2019-03-09 11:37:35.154184')[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 15:37:35 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (26.0ms)
  Rendered articles/new.html.slim within layouts/application (83.7ms)
Completed 200 OK in 299ms (Views: 288.7ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 15:37:35 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-09 11:37:35.652269"], ["updated_at", "2019-03-09 11:37:35.652269"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 15:37:35 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.3ms)
Completed 200 OK in 8ms (Views: 3.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started DELETE "/articles/1" for 127.0.0.1 at 2019-03-09 15:37:35 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/articles/1/edit" for 127.0.0.1 at 2019-03-09 15:37:35 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.6ms)
  Rendered articles/edit.html.slim within layouts/application (4.7ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started PUT "/articles/1" for 127.0.0.1 at 2019-03-09 15:37:35 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-09 11:37:35.683339"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/1
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/1" for 127.0.0.1 at 2019-03-09 15:37:35 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-09 11:37:50.940143', '2019-03-09 11:37:50.940143')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-09 11:37:50.940143', '2019-03-09 11:37:50.940143')[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 15:37:51 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (21.4ms)
  Rendered articles/new.html.slim within layouts/application (96.1ms)
Completed 200 OK in 272ms (Views: 255.6ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 15:37:51 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-09 11:37:51.397151"], ["updated_at", "2019-03-09 11:37:51.397151"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 15:37:51 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.4ms)
Completed 200 OK in 8ms (Views: 3.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/articles/1/edit" for 127.0.0.1 at 2019-03-09 15:37:51 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.7ms)
  Rendered articles/edit.html.slim within layouts/application (5.2ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.1ms)
Started PUT "/articles/1" for 127.0.0.1 at 2019-03-09 15:37:51 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-09 11:37:51.422876"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/1
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/1" for 127.0.0.1 at 2019-03-09 15:37:51 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started DELETE "/articles/1" for 127.0.0.1 at 2019-03-09 15:37:51 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.5ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-09 11:37:58.763219', '2019-03-09 11:37:58.763219')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-09 11:37:58.763219', '2019-03-09 11:37:58.763219')[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/articles/1/edit" for 127.0.0.1 at 2019-03-09 15:37:58 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (6.2ms)
  Rendered articles/edit.html.slim within layouts/application (33.3ms)
Completed 200 OK in 257ms (Views: 248.7ms | ActiveRecord: 0.2ms)
Started PUT "/articles/1" for 127.0.0.1 at 2019-03-09 15:37:59 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-09 11:37:59.151846"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/1
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/1" for 127.0.0.1 at 2019-03-09 15:37:59 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 15:37:59 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.6ms)
  Rendered articles/new.html.slim within layouts/application (4.4ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 15:37:59 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-09 11:37:59.171921"], ["updated_at", "2019-03-09 11:37:59.171921"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 15:37:59 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started DELETE "/articles/1" for 127.0.0.1 at 2019-03-09 15:37:59 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.4ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-09 11:38:11.413795', '2019-03-09 11:38:11.413795')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-09 11:38:11.413795', '2019-03-09 11:38:11.413795')[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started DELETE "/articles/1" for 127.0.0.1 at 2019-03-09 15:38:11 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/articles/1/edit" for 127.0.0.1 at 2019-03-09 15:38:11 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (22.0ms)
  Rendered articles/edit.html.slim within layouts/application (76.7ms)
Completed 200 OK in 285ms (Views: 283.7ms | ActiveRecord: 0.1ms)
Started PUT "/articles/1" for 127.0.0.1 at 2019-03-09 15:38:11 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-09 11:38:11.838222"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/1
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started GET "/articles/1" for 127.0.0.1 at 2019-03-09 15:38:11 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.4ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 15:38:11 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.6ms)
  Rendered articles/new.html.slim within layouts/application (4.4ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 15:38:11 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-09 11:38:11.861265"], ["updated_at", "2019-03-09 11:38:11.861265"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 15:38:11 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-09 11:38:37.616682', '2019-03-09 11:38:37.616682')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-09 11:38:37.616682', '2019-03-09 11:38:37.616682')[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 15:38:37 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (12.3ms)
  Rendered articles/new.html.slim within layouts/application (65.7ms)
Completed 200 OK in 294ms (Views: 284.3ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 15:38:38 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-09 11:38:38.108042"], ["updated_at", "2019-03-09 11:38:38.108042"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 15:38:38 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.3ms)
Completed 200 OK in 8ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started DELETE "/articles/1" for 127.0.0.1 at 2019-03-09 15:38:38 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/articles/1/edit" for 127.0.0.1 at 2019-03-09 15:38:38 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.6ms)
  Rendered articles/edit.html.slim within layouts/application (4.7ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.0ms)
Started PUT "/articles/1" for 127.0.0.1 at 2019-03-09 15:38:38 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-09 11:38:38.137949"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/1
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/1" for 127.0.0.1 at 2019-03-09 15:38:38 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-09 11:38:51.289749', '2019-03-09 11:38:51.289749')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-09 11:38:51.289749', '2019-03-09 11:38:51.289749')[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 15:38:51 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (12.1ms)
  Rendered articles/new.html.slim within layouts/application (63.8ms)
Completed 200 OK in 297ms (Views: 287.2ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 15:38:51 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-09 11:38:51.784953"], ["updated_at", "2019-03-09 11:38:51.784953"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 15:38:51 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.5ms)
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started DELETE "/articles/1" for 127.0.0.1 at 2019-03-09 15:38:51 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.4ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mArticle Load (1.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/articles/1/edit" for 127.0.0.1 at 2019-03-09 15:42:00 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (8.3ms)
  Rendered articles/edit.html.slim within layouts/application (22.7ms)
Completed 200 OK in 36ms (Views: 29.9ms | ActiveRecord: 0.1ms)
Started PUT "/articles/1" for 127.0.0.1 at 2019-03-09 15:42:00 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.9ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-09 11:42:00.962128"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/1
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)
Started GET "/articles/1" for 127.0.0.1 at 2019-03-09 15:42:00 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-09 13:16:22.531886', '2019-03-09 13:16:22.531886')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-09 13:16:22.531886', '2019-03-09 13:16:22.531886')[0m
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started DELETE "/articles/1" for 127.0.0.1 at 2019-03-09 17:16:22 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 14ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 17:16:22 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (15.1ms)
  Rendered articles/new.html.slim within layouts/application (101.4ms)
Completed 200 OK in 436ms (Views: 432.7ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 17:16:23 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-09 13:16:23.245017"], ["updated_at", "2019-03-09 13:16:23.245017"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 17:16:23 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" ORDER BY "articles"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-09 13:17:33.168719', '2019-03-09 13:17:33.168719')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-09 13:17:33.168719', '2019-03-09 13:17:33.168719')[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 17:17:33 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (28.6ms)
  Rendered articles/new.html.slim within layouts/application (83.6ms)
Completed 200 OK in 316ms (Views: 303.8ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 17:17:33 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-09 13:17:33.673096"], ["updated_at", "2019-03-09 13:17:33.673096"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 17:17:33 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.7ms)
Completed 200 OK in 10ms (Views: 3.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started DELETE "/articles/1" for 127.0.0.1 at 2019-03-09 17:17:33 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/articles/1/edit" for 127.0.0.1 at 2019-03-09 17:17:33 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.8ms)
  Rendered articles/edit.html.slim within layouts/application (5.0ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.0ms)
Started PUT "/articles/1" for 127.0.0.1 at 2019-03-09 17:17:33 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-09 13:17:33.708084"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/1
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
Started GET "/articles/1" for 127.0.0.1 at 2019-03-09 17:17:33 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (1, 'Dude?', 'Where is my car?', '2019-03-09 13:19:10.518798', '2019-03-09 13:19:10.518798')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("id", "title", "body", "created_at", "updated_at") VALUES (2, 'Luke!', 'I am your father!', '2019-03-09 13:19:10.518798', '2019-03-09 13:19:10.518798')[0m
  [1m[35m (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 17:19:10 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (32.6ms)
  Rendered articles/new.html.slim within layouts/application (118.9ms)
Completed 200 OK in 283ms (Views: 273.6ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 17:19:11 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-09 13:19:11.022310"], ["updated_at", "2019-03-09 13:19:11.022310"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 17:19:11 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.7ms)
Completed 200 OK in 10ms (Views: 4.0ms | ActiveRecord: 0.2ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started DELETE "/articles/1" for 127.0.0.1 at 2019-03-09 17:19:11 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/articles/1/edit" for 127.0.0.1 at 2019-03-09 17:19:11 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.8ms)
  Rendered articles/edit.html.slim within layouts/application (5.2ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.1ms)
Started PUT "/articles/1" for 127.0.0.1 at 2019-03-09 17:19:11 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-09 13:19:11.055858"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/1
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/1" for 127.0.0.1 at 2019-03-09 17:19:11 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 13:20:13.023191', '2019-03-09 13:20:13.023191', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 13:20:13.023191', '2019-03-09 13:20:13.023191', 298486374)[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 17:20:13 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (21.1ms)
  Rendered articles/new.html.slim within layouts/application (71.4ms)
Completed 200 OK in 287ms (Views: 280.6ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 17:20:13 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-09 13:20:13.514432"], ["updated_at", "2019-03-09 13:20:13.514432"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 17:20:13 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.5ms)
Completed 200 OK in 8ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 17:20:13 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.8ms)
  Rendered articles/edit.html.slim within layouts/application (5.1ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.1ms)
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:20:13 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-09 13:20:13.540530"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:20:13 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:20:13 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.5ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.9ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 13:21:57.695592', '2019-03-09 13:21:57.695592', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 13:21:57.695592', '2019-03-09 13:21:57.695592', 298486374)[0m
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 17:21:57 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (30.6ms)
  Rendered articles/new.html.slim within layouts/application (119.5ms)
Completed 200 OK in 280ms (Views: 272.7ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 17:21:58 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-09 13:21:58.197871"], ["updated_at", "2019-03-09 13:21:58.197871"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 17:21:58 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.5ms)
Completed 200 OK in 9ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:21:58 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 17:21:58 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.9ms)
  Rendered articles/edit.html.slim within layouts/application (5.2ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.1ms)
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:21:58 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.5ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-09 13:21:58.229226"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:21:58 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 13:22:12.422966', '2019-03-09 13:22:12.422966', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 13:22:12.422966', '2019-03-09 13:22:12.422966', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:22:12 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 17:22:12 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (12.6ms)
  Rendered articles/edit.html.slim within layouts/application (65.2ms)
Completed 200 OK in 232ms (Views: 230.2ms | ActiveRecord: 0.0ms)
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:22:12 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-09 13:22:12.898554"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:22:12 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 17:22:12 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.6ms)
  Rendered articles/new.html.slim within layouts/application (4.4ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 17:22:12 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-09 13:22:12.925489"], ["updated_at", "2019-03-09 13:22:12.925489"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 17:22:12 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 13:22:25.968634', '2019-03-09 13:22:25.968634', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 13:22:25.968634', '2019-03-09 13:22:25.968634', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 17:22:26 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (19.5ms)
  Rendered articles/new.html.slim within layouts/application (88.3ms)
Completed 200 OK in 256ms (Views: 246.4ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 17:22:26 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-09 13:22:26.329933"], ["updated_at", "2019-03-09 13:22:26.329933"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 17:22:26 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.4ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 17:22:26 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (2.1ms)
  Rendered articles/edit.html.slim within layouts/application (5.9ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.1ms)
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:22:26 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-09 13:22:26.355391"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:22:26 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:22:26 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.4ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 13:27:17.693581', '2019-03-09 13:27:17.693581', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 13:27:17.693581', '2019-03-09 13:27:17.693581', 298486374)[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 17:27:17 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (13.1ms)
  Rendered articles/edit.html.slim within layouts/application (62.2ms)
Completed 200 OK in 251ms (Views: 242.3ms | ActiveRecord: 0.1ms)
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:27:18 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-09 13:27:18.226272"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:27:18 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:27:18 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 17:27:18 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.6ms)
  Rendered articles/new.html.slim within layouts/application (4.4ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 17:27:18 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-09 13:27:18.252514"], ["updated_at", "2019-03-09 13:27:18.252514"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 17:27:18 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.9ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 13:27:29.522754', '2019-03-09 13:27:29.522754', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 13:27:29.522754', '2019-03-09 13:27:29.522754', 298486374)[0m
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:27:29 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 17:27:29 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (9.5ms)
  Rendered articles/new.html.slim within layouts/application (67.6ms)
Completed 200 OK in 230ms (Views: 228.0ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 17:27:29 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-09 13:27:29.982839"], ["updated_at", "2019-03-09 13:27:29.982839"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 17:27:29 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 17:27:29 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.8ms)
  Rendered articles/edit.html.slim within layouts/application (5.0ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.1ms)
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:27:30 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-09 13:27:30.007195"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:27:30 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 13:27:48.120979', '2019-03-09 13:27:48.120979', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 13:27:48.120979', '2019-03-09 13:27:48.120979', 298486374)[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 17:27:48 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (13.5ms)
  Rendered articles/new.html.slim within layouts/application (73.7ms)
Completed 200 OK in 319ms (Views: 308.1ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 17:27:48 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-09 13:27:48.594239"], ["updated_at", "2019-03-09 13:27:48.594239"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 17:27:48 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.5ms)
Completed 200 OK in 8ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:27:48 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.6ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 17:27:48 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.7ms)
  Rendered articles/edit.html.slim within layouts/application (5.2ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.0ms)
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:27:48 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-09 13:27:48.629085"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:27:48 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 13:28:39.264450', '2019-03-09 13:28:39.264450', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 13:28:39.264450', '2019-03-09 13:28:39.264450', 298486374)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_visiting_the_index
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:28:48 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.6ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (33.0ms)
  Rendered articles/index.html.slim within layouts/application (69.6ms)
Completed 200 OK in 385ms (Views: 375.6ms | ActiveRecord: 0.6ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 17:28:49 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 17:28:49 +0400
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 13:31:18.813995', '2019-03-09 13:31:18.813995', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 13:31:18.813995', '2019-03-09 13:31:18.813995', 298486374)[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_visiting_the_index
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:31:22 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (3.8ms)
  Rendered articles/index.html.slim within layouts/application (25.6ms)
Completed 200 OK in 324ms (Views: 317.1ms | ActiveRecord: 0.4ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 17:31:22 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 17:31:22 +0400
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 13:32:35.491454', '2019-03-09 13:32:35.491454', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 13:32:35.491454', '2019-03-09 13:32:35.491454', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_visiting_the_index
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:32:38 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (4.2ms)
  Rendered articles/index.html.slim within layouts/application (29.3ms)
Completed 200 OK in 364ms (Views: 357.4ms | ActiveRecord: 0.4ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 17:32:38 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 17:32:38 +0400
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_create_new_article
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 13:33:26.218256', '2019-03-09 13:33:26.218256', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 13:33:26.218256', '2019-03-09 13:33:26.218256', 298486374)[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_create_new_article
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_visiting_the_index
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:33:29 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (3.7ms)
  Rendered articles/index.html.slim within layouts/application (27.9ms)
Completed 200 OK in 352ms (Views: 345.3ms | ActiveRecord: 0.3ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 17:33:29 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 17:33:29 +0400
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 13:34:25.602865', '2019-03-09 13:34:25.602865', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 13:34:25.602865', '2019-03-09 13:34:25.602865', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_create_new_article
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:34:28 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (3.6ms)
  Rendered articles/index.html.slim within layouts/application (27.2ms)
Completed 200 OK in 388ms (Views: 380.6ms | ActiveRecord: 0.3ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 17:34:28 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 17:34:28 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 17:34:29 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.6ms)
  Rendered articles/new.html.slim within layouts/application (58.4ms)
Completed 200 OK in 62ms (Views: 59.9ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 17:34:29 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Creating an Article", "body"=>"Created this article successfully!"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Creating an Article"], ["body", "Created this article successfully!"], ["created_at", "2019-03-09 13:34:29.636872"], ["updated_at", "2019-03-09 13:34:29.636872"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:56104/articles/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 17:34:29 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (3.0ms)
Completed 200 OK in 9ms (Views: 4.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_visiting_the_index
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:34:29 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.1ms)
  Rendered articles/index.html.slim within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 13:36:32.365940', '2019-03-09 13:36:32.365940', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 13:36:32.365940', '2019-03-09 13:36:32.365940', 298486374)[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_create_new_article
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:36:35 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.5ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (3.9ms)
  Rendered articles/index.html.slim within layouts/application (29.3ms)
Completed 200 OK in 384ms (Views: 376.1ms | ActiveRecord: 0.5ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 17:36:36 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 17:36:36 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 17:36:36 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (9.8ms)
  Rendered articles/new.html.slim within layouts/application (59.1ms)
Completed 200 OK in 63ms (Views: 60.8ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 17:36:37 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new article", "body"=>"My new article body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (1.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "My new article"], ["body", "My new article body"], ["created_at", "2019-03-09 13:36:37.148862"], ["updated_at", "2019-03-09 13:36:37.148862"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:56721/articles/980190963
Completed 302 Found in 5ms (ActiveRecord: 1.7ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 17:36:37 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.8ms)
Completed 200 OK in 8ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_visiting_the_index
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:36:37 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.6ms)
  Rendered articles/index.html.slim within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 13:36:57.833498', '2019-03-09 13:36:57.833498', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 13:36:57.833498', '2019-03-09 13:36:57.833498', 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_create_new_article
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:37:00 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (3.7ms)
  Rendered articles/index.html.slim within layouts/application (25.9ms)
Completed 200 OK in 339ms (Views: 332.8ms | ActiveRecord: 0.3ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 17:37:00 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 17:37:00 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 17:37:01 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.3ms)
  Rendered articles/new.html.slim within layouts/application (59.8ms)
Completed 200 OK in 63ms (Views: 61.3ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 17:37:01 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new article", "body"=>"My new article body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "My new article"], ["body", "My new article body"], ["created_at", "2019-03-09 13:37:01.494147"], ["updated_at", "2019-03-09 13:37:01.494147"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:56904/articles/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 17:37:01 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.6ms)
Completed 200 OK in 7ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_visiting_the_index
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:37:04 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.6ms)
  Rendered articles/index.html.slim within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 13:47:37.587612', '2019-03-09 13:47:37.587612', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 13:47:37.587612', '2019-03-09 13:47:37.587612', 298486374)[0m
  [1m[35m (2.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_create_new_article
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:47:41 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (3.6ms)
  Rendered articles/index.html.slim within layouts/application (28.1ms)
Completed 200 OK in 360ms (Views: 352.6ms | ActiveRecord: 0.3ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 17:47:41 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 17:47:41 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 17:47:42 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (12.4ms)
  Rendered articles/new.html.slim within layouts/application (63.1ms)
Completed 200 OK in 68ms (Views: 65.4ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 17:47:42 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new article", "body"=>"My new article body"}, "commit"=>"Create Article"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.8ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "My new article"], ["body", "My new article body"], ["created_at", "2019-03-09 13:47:42.510434"], ["updated_at", "2019-03-09 13:47:42.510434"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:59840/articles/980190963
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 17:47:42 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (3.4ms)
Completed 200 OK in 9ms (Views: 4.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:47:45 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.6ms)
  Rendered articles/index.html.slim within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 17:47:45 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.9ms)
  Rendered articles/edit.html.slim within layouts/application (7.1ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_visiting_the_index
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:47:48 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.0ms)
  Rendered articles/index.html.slim within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 13:49:48.592239', '2019-03-09 13:49:48.592239', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 13:49:48.592239', '2019-03-09 13:49:48.592239', 298486374)[0m
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:49:52 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (3.4ms)
  Rendered articles/index.html.slim within layouts/application (26.9ms)
Completed 200 OK in 285ms (Views: 279.5ms | ActiveRecord: 0.4ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 17:49:52 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 17:49:52 +0400
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 17:49:53 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.2ms)
  Rendered articles/edit.html.slim within layouts/application (60.6ms)
Completed 200 OK in 68ms (Views: 62.1ms | ActiveRecord: 0.2ms)
Started PATCH "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:49:53 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"Where is my car?"}, "commit"=>"Update Article", "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.6ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 13:49:53.399735"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:60684/articles/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:49:53 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.6ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_visiting_the_index
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:49:56 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_create_new_article
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:49:56 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.6ms)
  Rendered articles/index.html.slim within layouts/application (1.3ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 17:49:56 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (2.6ms)
  Rendered articles/new.html.slim within layouts/application (8.0ms)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 17:49:56 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new article", "body"=>"My new article body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "My new article"], ["body", "My new article body"], ["created_at", "2019-03-09 13:49:56.635792"], ["updated_at", "2019-03-09 13:49:56.635792"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:60684/articles/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 17:49:56 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 13:50:54.448345', '2019-03-09 13:50:54.448345', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 13:50:54.448345', '2019-03-09 13:50:54.448345', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_create_new_article
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:50:57 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (4.4ms)
  Rendered articles/index.html.slim within layouts/application (29.6ms)
Completed 200 OK in 349ms (Views: 341.4ms | ActiveRecord: 0.4ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 17:50:57 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 17:50:57 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 17:50:58 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (9.9ms)
  Rendered articles/new.html.slim within layouts/application (57.4ms)
Completed 200 OK in 61ms (Views: 59.0ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 17:50:58 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new article", "body"=>"My new article body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "My new article"], ["body", "My new article body"], ["created_at", "2019-03-09 13:50:58.779680"], ["updated_at", "2019-03-09 13:50:58.779680"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:61474/articles/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 17:50:58 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.8ms)
Completed 200 OK in 8ms (Views: 4.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:51:01 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.2ms)
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 17:51:01 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.9ms)
  Rendered articles/edit.html.slim within layouts/application (5.6ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:51:01 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"Where is my car?"}, "commit"=>"Update Article", "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 13:51:01.731104"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:61474/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:51:01 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_visiting_the_index
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:51:01 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.6ms)
  Rendered articles/index.html.slim within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 13:51:47.589018', '2019-03-09 13:51:47.589018', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 13:51:47.589018', '2019-03-09 13:51:47.589018', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:51:50 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.5ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (5.7ms)
  Rendered articles/index.html.slim within layouts/application (30.3ms)
Completed 200 OK in 402ms (Views: 393.9ms | ActiveRecord: 0.5ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 17:51:50 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 17:51:50 +0400
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 17:51:51 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (1.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (9.8ms)
  Rendered articles/edit.html.slim within layouts/application (56.8ms)
Completed 200 OK in 68ms (Views: 58.4ms | ActiveRecord: 1.2ms)
Started PATCH "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:51:52 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"Where is my car?"}, "commit"=>"Update Article", "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.5ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 13:51:52.048953"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:62004/articles/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 17:51:52 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_create_new_article
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:51:52 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.0ms)
  Rendered articles/index.html.slim within layouts/application (3.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms)
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 17:51:52 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (3.3ms)
  Rendered articles/new.html.slim within layouts/application (7.3ms)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 17:51:52 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new article", "body"=>"My new article body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "My new article"], ["body", "My new article body"], ["created_at", "2019-03-09 13:51:52.711238"], ["updated_at", "2019-03-09 13:51:52.711238"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:62004/articles/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 17:51:52 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_visiting_the_index
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 17:51:52 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.9ms)
  Rendered articles/index.html.slim within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 14:11:24.268634', '2019-03-09 14:11:24.268634', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 14:11:24.268634', '2019-03-09 14:11:24.268634', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_create_new_article
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:11:27 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (4.6ms)
  Rendered articles/index.html.slim within layouts/application (30.1ms)
Completed 200 OK in 336ms (Views: 328.8ms | ActiveRecord: 0.4ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 18:11:28 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 18:11:28 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 18:11:28 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (9.7ms)
  Rendered articles/new.html.slim within layouts/application (57.9ms)
Completed 200 OK in 62ms (Views: 59.6ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 18:11:29 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new article", "body"=>"My new article body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "My new article"], ["body", "My new article body"], ["created_at", "2019-03-09 14:11:29.196700"], ["updated_at", "2019-03-09 14:11:29.196700"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:50634/articles/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 18:11:29 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.6ms)
Completed 200 OK in 8ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_visiting_the_index
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:11:29 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.0ms)
  Rendered articles/index.html.slim within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:11:29 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.6ms)
  Rendered articles/index.html.slim within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms)
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:11:29 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:50634/articles
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:11:29 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.4ms)
  Rendered articles/index.html.slim within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:11:30 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.8ms)
  Rendered articles/index.html.slim within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.3ms)
Started GET "/articles/298486374/edit" for 127.0.0.1 at 2019-03-09 18:11:30 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.9ms)
  Rendered articles/edit.html.slim within layouts/application (5.6ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:11:30 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"I am your father!"}, "commit"=>"Update Article", "id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 14:11:30.593615"], ["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:50634/articles/298486374
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:11:30 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 14:13:05.363591', '2019-03-09 14:13:05.363591', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 14:13:05.363591', '2019-03-09 14:13:05.363591', 298486374)[0m
  [1m[35m (2.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:13:08 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (4.1ms)
  Rendered articles/index.html.slim within layouts/application (29.1ms)
Completed 200 OK in 366ms (Views: 360.0ms | ActiveRecord: 0.3ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 18:13:09 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 18:13:09 +0400
Started GET "/articles/298486374/edit" for 127.0.0.1 at 2019-03-09 18:13:09 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.2ms)
  Rendered articles/edit.html.slim within layouts/application (59.5ms)
Completed 200 OK in 67ms (Views: 60.9ms | ActiveRecord: 0.2ms)
Started PATCH "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:13:10 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"I am your father!"}, "commit"=>"Update Article", "id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 14:13:10.110510"], ["id", 298486374]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:51170/articles/298486374
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
Started GET "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:13:10 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.9ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_visiting_the_index
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:13:10 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.9ms)
  Rendered articles/index.html.slim within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_create_new_article
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:13:10 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms)
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 18:13:10 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (2.0ms)
  Rendered articles/new.html.slim within layouts/application (5.7ms)
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 18:13:10 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new article", "body"=>"My new article body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "My new article"], ["body", "My new article body"], ["created_at", "2019-03-09 14:13:10.883587"], ["updated_at", "2019-03-09 14:13:10.883587"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:51170/articles/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 18:13:10 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:13:11 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.1ms)
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:13:11 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:51170/articles
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:13:11 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.4ms)
  Rendered articles/index.html.slim within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 14:13:48.462076', '2019-03-09 14:13:48.462076', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 14:13:48.462076', '2019-03-09 14:13:48.462076', 298486374)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_create_new_article
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:13:51 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (4.5ms)
  Rendered articles/index.html.slim within layouts/application (27.2ms)
Completed 200 OK in 319ms (Views: 312.8ms | ActiveRecord: 0.3ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 18:13:51 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 18:13:51 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 18:13:51 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.7ms)
  Rendered articles/new.html.slim within layouts/application (59.4ms)
Completed 200 OK in 63ms (Views: 60.8ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 18:13:52 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new article", "body"=>"My new article body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (1.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "My new article"], ["body", "My new article body"], ["created_at", "2019-03-09 14:13:52.409394"], ["updated_at", "2019-03-09 14:13:52.409394"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:51468/articles/980190963
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 18:13:52 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.7ms)
Completed 200 OK in 8ms (Views: 4.3ms | ActiveRecord: 0.2ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:13:52 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms)
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:13:52 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:51468/articles
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:13:52 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.3ms)
  Rendered articles/index.html.slim within layouts/application (1.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_visiting_the_index
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:13:55 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:13:55 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.4ms)
  Rendered articles/index.html.slim within layouts/application (3.1ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.2ms)
Started GET "/articles/298486374/edit" for 127.0.0.1 at 2019-03-09 18:13:55 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.9ms)
  Rendered articles/edit.html.slim within layouts/application (6.5ms)
Completed 200 OK in 12ms (Views: 8.6ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:13:55 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"I am your father!"}, "commit"=>"Update Article", "id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 14:13:55.913339"], ["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:51468/articles/298486374
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started GET "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:13:55 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 14:14:13.396895', '2019-03-09 14:14:13.396895', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 14:14:13.396895', '2019-03-09 14:14:13.396895', 298486374)[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_create_new_article
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:14:15 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.7ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (5.0ms)
  Rendered articles/index.html.slim within layouts/application (35.8ms)
Completed 200 OK in 409ms (Views: 395.6ms | ActiveRecord: 0.7ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 18:14:16 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 18:14:16 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 18:14:16 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (9.6ms)
  Rendered articles/new.html.slim within layouts/application (56.8ms)
Completed 200 OK in 61ms (Views: 58.2ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 18:14:17 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new article", "body"=>"My new article body"}, "commit"=>"Create Article"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "My new article"], ["body", "My new article body"], ["created_at", "2019-03-09 14:14:17.273330"], ["updated_at", "2019-03-09 14:14:17.273330"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:51799/articles/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 18:14:17 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.7ms)
Completed 200 OK in 8ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:14:17 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.6ms)
  Rendered articles/index.html.slim within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms)
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:14:17 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.8ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:51799/articles
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:14:17 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.4ms)
  Rendered articles/index.html.slim within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:14:20 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.1ms)
  Rendered articles/index.html.slim within layouts/application (3.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.2ms)
Started GET "/articles/298486374/edit" for 127.0.0.1 at 2019-03-09 18:14:20 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.7ms)
  Rendered articles/edit.html.slim within layouts/application (5.4ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:14:20 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"I am your father!"}, "commit"=>"Update Article", "id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 14:14:20.511298"], ["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:51799/articles/298486374
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started GET "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:14:20 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_visiting_the_index
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:14:20 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.7ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 14:14:38.304573', '2019-03-09 14:14:38.304573', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 14:14:38.304573', '2019-03-09 14:14:38.304573', 298486374)[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:14:40 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (4.0ms)
  Rendered articles/index.html.slim within layouts/application (27.2ms)
Completed 200 OK in 335ms (Views: 328.4ms | ActiveRecord: 0.3ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 18:14:41 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 18:14:41 +0400
Started GET "/articles/298486374/edit" for 127.0.0.1 at 2019-03-09 18:14:41 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (9.5ms)
  Rendered articles/edit.html.slim within layouts/application (56.5ms)
Completed 200 OK in 65ms (Views: 58.0ms | ActiveRecord: 0.3ms)
Started PATCH "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:14:41 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"I am your father!"}, "commit"=>"Update Article", "id"=>"298486374"}
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.6ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 14:14:41.919111"], ["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:52128/articles/298486374
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
Started GET "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:14:41 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_visiting_the_index
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:14:42 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.7ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:14:42 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.6ms)
  Rendered articles/index.html.slim within layouts/application (3.8ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.3ms)
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:14:42 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:52128/articles
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:14:42 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_create_new_article
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:14:42 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 18:14:42 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.7ms)
  Rendered articles/new.html.slim within layouts/application (5.7ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 18:14:42 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new article", "body"=>"My new article body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "My new article"], ["body", "My new article body"], ["created_at", "2019-03-09 14:14:42.980144"], ["updated_at", "2019-03-09 14:14:42.980144"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:52128/articles/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 18:14:42 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 14:15:12.618579', '2019-03-09 14:15:12.618579', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 14:15:12.618579', '2019-03-09 14:15:12.618579', 298486374)[0m
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_create_new_article
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:15:15 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.6ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (4.3ms)
  Rendered articles/index.html.slim within layouts/application (27.8ms)
Completed 200 OK in 359ms (Views: 352.1ms | ActiveRecord: 0.6ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 18:15:15 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 18:15:15 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 18:15:16 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (11.6ms)
  Rendered articles/new.html.slim within layouts/application (75.8ms)
Completed 200 OK in 79ms (Views: 77.5ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 18:15:16 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new article", "body"=>"My new article body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "My new article"], ["body", "My new article body"], ["created_at", "2019-03-09 14:15:16.768612"], ["updated_at", "2019-03-09 14:15:16.768612"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:52407/articles/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 18:15:16 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (3.4ms)
Completed 200 OK in 10ms (Views: 5.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:15:16 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.7ms)
  Rendered articles/index.html.slim within layouts/application (4.3ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.4ms)
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:15:17 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:52407/articles
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:15:17 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.4ms)
  Rendered articles/index.html.slim within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:15:17 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.6ms)
  Rendered articles/index.html.slim within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
Started GET "/articles/298486374/edit" for 127.0.0.1 at 2019-03-09 18:15:17 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.9ms)
  Rendered articles/edit.html.slim within layouts/application (6.2ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:15:17 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"I am your father!"}, "commit"=>"Update Article", "id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 14:15:17.559316"], ["id", 298486374]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:52407/articles/298486374
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:15:17 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.5ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_visiting_the_index
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:15:17 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 14:42:25.667162', '2019-03-09 14:42:25.667162', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 14:42:25.667162', '2019-03-09 14:42:25.667162', 298486374)[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_create_new_article
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:42:29 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (4.3ms)
  Rendered articles/index.html.slim within layouts/application (30.7ms)
Completed 200 OK in 355ms (Views: 347.8ms | ActiveRecord: 0.4ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 18:42:29 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 18:42:29 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 18:42:30 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.7ms)
  Rendered articles/new.html.slim within layouts/application (60.4ms)
Completed 200 OK in 64ms (Views: 61.9ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 18:42:30 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new article", "body"=>"My new article body"}, "commit"=>"Create Article"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "My new article"], ["body", "My new article body"], ["created_at", "2019-03-09 14:42:30.506151"], ["updated_at", "2019-03-09 14:42:30.506151"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:54680/articles/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 18:42:30 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.7ms)
Completed 200 OK in 9ms (Views: 4.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:42:30 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.8ms)
  Rendered articles/index.html.slim within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.1ms)
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:42:30 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.4ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:54680/articles
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:42:30 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.5ms)
  Rendered articles/index.html.slim within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:42:31 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms)
Started GET "/articles/298486374/edit" for 127.0.0.1 at 2019-03-09 18:42:31 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (2.7ms)
  Rendered articles/edit.html.slim within layouts/application (6.8ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:42:31 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"I am your father!"}, "commit"=>"Update Article", "id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 14:42:31.735233"], ["id", 298486374]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:54680/articles/298486374
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:42:31 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 14:42:51.659084', '2019-03-09 14:42:51.659084', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 14:42:51.659084', '2019-03-09 14:42:51.659084', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
ArticlesTest: test_create_new_article
-------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:42:55 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.6ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (4.2ms)
  Rendered articles/index.html.slim within layouts/application (29.7ms)
Completed 200 OK in 371ms (Views: 362.7ms | ActiveRecord: 0.6ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 18:42:55 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 18:42:55 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 18:42:56 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (9.7ms)
  Rendered articles/new.html.slim within layouts/application (60.0ms)
Completed 200 OK in 63ms (Views: 61.4ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 18:42:56 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new article", "body"=>"My new article body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "My new article"], ["body", "My new article body"], ["created_at", "2019-03-09 14:42:56.540319"], ["updated_at", "2019-03-09 14:42:56.540319"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:54899/articles/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 18:42:56 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.6ms)
Completed 200 OK in 8ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:42:56 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.8ms)
  Rendered articles/index.html.slim within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.2ms)
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:42:56 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:54899/articles
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:42:56 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.4ms)
  Rendered articles/index.html.slim within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 18:42:59 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.3ms)
  Rendered articles/index.html.slim within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.2ms)
Started GET "/articles/298486374/edit" for 127.0.0.1 at 2019-03-09 18:42:59 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (2.0ms)
  Rendered articles/edit.html.slim within layouts/application (7.4ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:42:59 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"I am your father!"}, "commit"=>"Update Article", "id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 14:42:59.793069"], ["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:54899/articles/298486374
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/298486374" for 127.0.0.1 at 2019-03-09 18:42:59 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 18:18:46.290903', '2019-03-09 18:18:46.290903', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 18:18:46.290903', '2019-03-09 18:18:46.290903', 298486374)[0m
  [1m[35m (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 22:18:46 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (18.7ms)
  Rendered articles/new.html.slim within layouts/application (103.5ms)
Completed 200 OK in 290ms (Views: 271.2ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 22:18:46 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New one", "body"=>"Something interesting"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New one"], ["body", "Something interesting"], ["created_at", "2019-03-09 18:18:46.781965"], ["updated_at", "2019-03-09 18:18:46.781965"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 22:18:46 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.6ms)
Completed 200 OK in 9ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-09 22:18:46 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 22:18:46 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.7ms)
  Rendered articles/edit.html.slim within layouts/application (4.8ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-09 22:18:46 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-09 18:18:46.813363"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 22:18:46 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 18:22:34.539970', '2019-03-09 18:22:34.539970', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 18:22:34.539970', '2019-03-09 18:22:34.539970', 298486374)[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:22:38 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (4.1ms)
  Rendered articles/index.html.slim within layouts/application (48.5ms)
Completed 200 OK in 339ms (Views: 333.3ms | ActiveRecord: 0.3ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 22:22:38 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 22:22:38 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 22:22:39 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.2ms)
  Rendered articles/new.html.slim within layouts/application (65.0ms)
Completed 200 OK in 69ms (Views: 66.7ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 22:22:40 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new article", "body"=>"My new article body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "My new article"], ["body", "My new article body"], ["created_at", "2019-03-09 18:22:40.093965"], ["updated_at", "2019-03-09 18:22:40.093965"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:62126/articles/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 22:22:40 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (4.4ms)
Completed 200 OK in 12ms (Views: 6.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:22:40 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.6ms)
  Rendered articles/index.html.slim within layouts/application (4.1ms)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.2ms)
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 22:22:40 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.5ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:62126/articles
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:22:40 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.4ms)
  Rendered articles/index.html.slim within layouts/application (1.3ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:22:40 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms)
Started GET "/articles/298486374/edit" for 127.0.0.1 at 2019-03-09 22:22:40 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (3.1ms)
  Rendered articles/edit.html.slim within layouts/application (7.2ms)
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/298486374" for 127.0.0.1 at 2019-03-09 22:22:40 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"I am your father!"}, "commit"=>"Update Article", "id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 18:22:40.997721"], ["id", 298486374]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:62126/articles/298486374
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/298486374" for 127.0.0.1 at 2019-03-09 22:22:41 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 18:47:05.305343', '2019-03-09 18:47:05.305343', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 18:47:05.305343', '2019-03-09 18:47:05.305343', 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:47:08 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.5ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (3.8ms)
  Rendered articles/index.html.slim within layouts/application (58.7ms)
Completed 200 OK in 392ms (Views: 381.7ms | ActiveRecord: 0.5ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 22:47:09 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 22:47:09 +0400
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:47:12 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.9ms)
  Rendered articles/index.html.slim within layouts/application (2.2ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.2ms)
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 22:47:12 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.4ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:51940/articles
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:47:12 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.4ms)
  Rendered articles/index.html.slim within layouts/application (1.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:47:12 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.6ms)
  Rendered articles/index.html.slim within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.2ms)
Started GET "/articles/298486374/edit" for 127.0.0.1 at 2019-03-09 22:47:12 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.2ms)
  Rendered articles/edit.html.slim within layouts/application (73.2ms)
Completed 200 OK in 77ms (Views: 74.6ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/298486374" for 127.0.0.1 at 2019-03-09 22:47:13 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"I am your father!"}, "commit"=>"Update Article", "id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 18:47:13.087440"], ["id", 298486374]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:51940/articles/298486374
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/298486374" for 127.0.0.1 at 2019-03-09 22:47:13 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.5ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 18:49:30.730796', '2019-03-09 18:49:30.730796', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 18:49:30.730796', '2019-03-09 18:49:30.730796', 298486374)[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:49:34 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (3.7ms)
  Rendered articles/index.html.slim within layouts/application (63.3ms)
Completed 200 OK in 256ms (Views: 248.4ms | ActiveRecord: 0.3ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 22:49:34 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 22:49:34 +0400
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 22:49:35 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.4ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:52791/articles
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:49:35 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.4ms)
  Rendered articles/index.html.slim within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:49:35 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.3ms)
  Rendered articles/index.html.slim within layouts/application (3.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms)
Started GET "/articles/298486374/edit" for 127.0.0.1 at 2019-03-09 22:49:35 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.4ms)
  Rendered articles/edit.html.slim within layouts/application (60.5ms)
Completed 200 OK in 64ms (Views: 61.8ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/298486374" for 127.0.0.1 at 2019-03-09 22:49:35 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"I am your father!"}, "commit"=>"Update Article", "id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 18:49:35.826044"], ["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:52791/articles/298486374
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started GET "/articles/298486374" for 127.0.0.1 at 2019-03-09 22:49:35 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (3.6ms)
Completed 200 OK in 10ms (Views: 5.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:49:36 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.8ms)
  Rendered articles/index.html.slim within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.3ms)
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 22:49:36 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.8ms)
  Rendered articles/new.html.slim within layouts/application (5.5ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 18:52:11.990905', '2019-03-09 18:52:11.990905', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 18:52:11.990905', '2019-03-09 18:52:11.990905', 298486374)[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:52:15 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (3.7ms)
  Rendered articles/index.html.slim within layouts/application (57.7ms)
Completed 200 OK in 223ms (Views: 215.3ms | ActiveRecord: 0.3ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 22:52:15 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 22:52:15 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 22:52:16 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (11.4ms)
  Rendered articles/new.html.slim within layouts/application (63.3ms)
Completed 200 OK in 68ms (Views: 65.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:52:19 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.6ms)
  Rendered articles/index.html.slim within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms)
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 22:52:19 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.4ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:53654/articles
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:52:19 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.3ms)
  Rendered articles/index.html.slim within layouts/application (1.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:52:19 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started GET "/articles/298486374/edit" for 127.0.0.1 at 2019-03-09 22:52:19 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (2.9ms)
  Rendered articles/edit.html.slim within layouts/application (8.1ms)
Completed 200 OK in 14ms (Views: 10.8ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/298486374" for 127.0.0.1 at 2019-03-09 22:52:19 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"I am your father!"}, "commit"=>"Update Article", "id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 18:52:19.734091"], ["id", 298486374]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:53654/articles/298486374
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/298486374" for 127.0.0.1 at 2019-03-09 22:52:19 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.4ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 18:52:41.004959', '2019-03-09 18:52:41.004959', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 18:52:41.004959', '2019-03-09 18:52:41.004959', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:52:43 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (3.5ms)
  Rendered articles/index.html.slim within layouts/application (82.1ms)
Completed 200 OK in 247ms (Views: 239.6ms | ActiveRecord: 0.3ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 22:52:43 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 22:52:43 +0400
Started GET "/articles/298486374/edit" for 127.0.0.1 at 2019-03-09 22:52:47 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (9.8ms)
  Rendered articles/edit.html.slim within layouts/application (56.8ms)
Completed 200 OK in 65ms (Views: 59.3ms | ActiveRecord: 0.2ms)
Started PATCH "/articles/298486374" for 127.0.0.1 at 2019-03-09 22:52:47 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"I am your father!"}, "commit"=>"Update Article", "id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.5ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 18:52:47.807211"], ["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:53979/articles/298486374
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
Started GET "/articles/298486374" for 127.0.0.1 at 2019-03-09 22:52:47 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:52:47 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.8ms)
  Rendered articles/index.html.slim within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 22:52:48 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (2.2ms)
  Rendered articles/new.html.slim within layouts/application (6.7ms)
Completed 200 OK in 47ms (Views: 46.1ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 22:52:48 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Title", "body"=>"Body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-09 18:52:48.353682"], ["updated_at", "2019-03-09 18:52:48.353682"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:53979/articles/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 22:52:48 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:52:48 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms)
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 22:52:48 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.6ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:53979/articles
Completed 302 Found in 3ms (ActiveRecord: 0.9ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 22:52:48 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.4ms)
  Rendered articles/index.html.slim within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 19:01:37.242835', '2019-03-09 19:01:37.242835', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 19:01:37.242835', '2019-03-09 19:01:37.242835', 298486374)[0m
  [1m[35m (2.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:01:40 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (3.8ms)
  Rendered articles/index.html.slim within layouts/application (46.9ms)
Completed 200 OK in 331ms (Views: 323.1ms | ActiveRecord: 0.3ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 23:01:41 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 23:01:41 +0400
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 23:01:41 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:56241/articles
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:01:41 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.4ms)
  Rendered articles/index.html.slim within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:01:41 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.7ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 23:01:42 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (9.9ms)
  Rendered articles/new.html.slim within layouts/application (62.4ms)
Completed 200 OK in 66ms (Views: 64.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:01:42 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (2.8ms)
  Rendered articles/index.html.slim within layouts/application (4.7ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.2ms)
Started GET "/articles/298486374/edit" for 127.0.0.1 at 2019-03-09 23:01:43 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (4.0ms)
  Rendered articles/edit.html.slim within layouts/application (9.4ms)
Completed 200 OK in 14ms (Views: 11.9ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/298486374" for 127.0.0.1 at 2019-03-09 23:01:43 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"I am your father!"}, "commit"=>"Update Article", "id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 19:01:43.390836"], ["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:56241/articles/298486374
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
Started GET "/articles/298486374" for 127.0.0.1 at 2019-03-09 23:01:43 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.6ms)
Completed 200 OK in 9ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 19:02:10.369862', '2019-03-09 19:02:10.369862', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 19:02:10.369862', '2019-03-09 19:02:10.369862', 298486374)[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:02:12 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (4.0ms)
  Rendered articles/index.html.slim within layouts/application (58.8ms)
Completed 200 OK in 218ms (Views: 211.2ms | ActiveRecord: 0.3ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 23:02:13 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 23:02:13 +0400
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 23:02:13 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:56462/articles
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:02:13 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.5ms)
  Rendered articles/index.html.slim within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:02:14 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.9ms)
  Rendered articles/index.html.slim within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.2ms)
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 23:02:14 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.2ms)
  Rendered articles/new.html.slim within layouts/application (60.3ms)
Completed 200 OK in 63ms (Views: 61.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:02:14 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.2ms)
  Rendered articles/index.html.slim within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.2ms)
Started GET "/articles/298486374/edit" for 127.0.0.1 at 2019-03-09 23:02:14 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.7ms)
  Rendered articles/edit.html.slim within layouts/application (44.9ms)
Completed 200 OK in 49ms (Views: 47.0ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/298486374" for 127.0.0.1 at 2019-03-09 23:02:15 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"I am your father!"}, "commit"=>"Update Article", "id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 19:02:15.319244"], ["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:56462/articles/298486374
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/298486374" for 127.0.0.1 at 2019-03-09 23:02:15 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.8ms)
Completed 200 OK in 8ms (Views: 4.5ms | ActiveRecord: 0.1ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 19:03:21.033281', '2019-03-09 19:03:21.033281', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 19:03:21.033281', '2019-03-09 19:03:21.033281', 298486374)[0m
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:03:23 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (4.9ms)
  Rendered articles/index.html.slim within layouts/application (54.6ms)
Completed 200 OK in 359ms (Views: 350.6ms | ActiveRecord: 0.3ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 23:03:23 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 23:03:23 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 23:03:24 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.0ms)
  Rendered articles/new.html.slim within layouts/application (59.1ms)
Completed 200 OK in 63ms (Views: 60.7ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 23:03:24 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Title", "body"=>"Body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-09 19:03:24.865232"], ["updated_at", "2019-03-09 19:03:24.865232"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:56837/articles/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 23:03:24 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.7ms)
Completed 200 OK in 8ms (Views: 4.2ms | ActiveRecord: 0.2ms)
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:03:24 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms)
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 23:03:25 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.6ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:56837/articles
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:03:25 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.4ms)
  Rendered articles/index.html.slim within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:03:25 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.6ms)
  Rendered articles/index.html.slim within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms)
Started GET "/articles/298486374/edit" for 127.0.0.1 at 2019-03-09 23:03:25 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (2.4ms)
  Rendered articles/edit.html.slim within layouts/application (6.7ms)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/298486374" for 127.0.0.1 at 2019-03-09 23:03:25 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"My new updated title", "body"=>"I am your father!"}, "commit"=>"Update Article", "id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "My new updated title"], ["updated_at", "2019-03-09 19:03:25.611549"], ["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:56837/articles/298486374
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
Started GET "/articles/298486374" for 127.0.0.1 at 2019-03-09 23:03:25 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 19:10:04.461492', '2019-03-09 19:10:04.461492', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 19:10:04.461492', '2019-03-09 19:10:04.461492', 298486374)[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:10:07 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (3.6ms)
  Rendered articles/index.html.slim within layouts/application (47.4ms)
Completed 200 OK in 349ms (Views: 339.8ms | ActiveRecord: 0.3ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 23:10:08 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 23:10:08 +0400
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 23:10:08 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:58585/articles
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:10:08 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.4ms)
  Rendered articles/index.html.slim within layouts/application (1.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:10:09 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.6ms)
  Rendered articles/index.html.slim within layouts/application (1.3ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms)
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 23:10:09 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.0ms)
  Rendered articles/edit.html.slim within layouts/application (58.9ms)
Completed 200 OK in 63ms (Views: 60.2ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:10:09 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"", "body"=>"Where is my car?"}, "commit"=>"Update Article", "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (2.2ms)
  Rendered articles/edit.html.slim within layouts/application (3.3ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:10:10 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.0ms)
  Rendered articles/index.html.slim within layouts/application (2.5ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.2ms)
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 23:10:10 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.6ms)
  Rendered articles/new.html.slim within layouts/application (5.1ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 23:10:10 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Title", "body"=>"Body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-09 19:10:10.389379"], ["updated_at", "2019-03-09 19:10:10.389379"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:58585/articles/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 23:10:10 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.6ms)
Completed 200 OK in 8ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 19:10:34.168134', '2019-03-09 19:10:34.168134', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 19:10:34.168134', '2019-03-09 19:10:34.168134', 298486374)[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:10:36 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.7ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (4.0ms)
  Rendered articles/index.html.slim within layouts/application (74.5ms)
Completed 200 OK in 395ms (Views: 386.1ms | ActiveRecord: 0.7ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 23:10:37 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 23:10:37 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 23:10:37 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (9.8ms)
  Rendered articles/new.html.slim within layouts/application (61.3ms)
Completed 200 OK in 67ms (Views: 63.3ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 23:10:38 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Title", "body"=>"Body"}, "commit"=>"Create Article"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.8ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-09 19:10:38.046037"], ["updated_at", "2019-03-09 19:10:38.046037"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:58798/articles/980190963
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 23:10:38 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.9ms)
Completed 200 OK in 8ms (Views: 4.7ms | ActiveRecord: 0.2ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:10:38 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.8ms)
  Rendered articles/index.html.slim within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.1ms)
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 23:10:38 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.4ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:58798/articles
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:10:38 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.4ms)
  Rendered articles/index.html.slim within layouts/application (1.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:10:38 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 23:10:38 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (3.2ms)
  Rendered articles/edit.html.slim within layouts/application (8.4ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:10:38 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"", "body"=>"Where is my car?"}, "commit"=>"Update Article", "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (2.0ms)
  Rendered articles/edit.html.slim within layouts/application (2.9ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.2ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 19:11:49.032790', '2019-03-09 19:11:49.032790', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 19:11:49.032790', '2019-03-09 19:11:49.032790', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:11:51 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (3.6ms)
  Rendered articles/index.html.slim within layouts/application (43.3ms)
Completed 200 OK in 324ms (Views: 316.7ms | ActiveRecord: 0.3ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 23:11:51 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 23:11:51 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 23:11:52 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (9.6ms)
  Rendered articles/new.html.slim within layouts/application (59.8ms)
Completed 200 OK in 62ms (Views: 61.1ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 23:11:52 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Title", "body"=>"Body"}, "commit"=>"Create Article"}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-09 19:11:52.535594"], ["updated_at", "2019-03-09 19:11:52.535594"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:59191/articles/980190963
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 23:11:52 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (4.7ms)
Completed 200 OK in 13ms (Views: 7.7ms | ActiveRecord: 0.2ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:11:52 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 23:11:57 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.5ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:59191/articles
Completed 302 Found in 2ms (ActiveRecord: 0.7ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:11:57 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
  [1m[36mArticle Load (0.5ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:11:58 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.0ms)
  Rendered articles/index.html.slim within layouts/application (2.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.1ms)
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 23:11:58 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (2.4ms)
  Rendered articles/edit.html.slim within layouts/application (12.0ms)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:11:58 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Dude?", "body"=>"New body"}, "commit"=>"Update Article", "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "body" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["body", "New body"], ["updated_at", "2019-03-09 19:11:58.378221"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:59191/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:11:58 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 19:13:47.406593', '2019-03-09 19:13:47.406593', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 19:13:47.406593', '2019-03-09 19:13:47.406593', 298486374)[0m
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:13:49 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (5.5ms)
  Rendered articles/index.html.slim within layouts/application (61.7ms)
Completed 200 OK in 243ms (Views: 236.2ms | ActiveRecord: 0.3ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 23:13:50 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 23:13:50 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 23:13:50 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.8ms)
  Rendered articles/new.html.slim within layouts/application (60.8ms)
Completed 200 OK in 65ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:13:53 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.6ms)
  Rendered articles/index.html.slim within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms)
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 23:13:53 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:59768/articles
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:13:53 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.4ms)
  Rendered articles/index.html.slim within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:13:53 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (2.0ms)
  Rendered articles/index.html.slim within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.1ms)
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 23:13:53 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (8.8ms)
  Rendered articles/edit.html.slim within layouts/application (19.0ms)
Completed 200 OK in 27ms (Views: 22.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 19:14:14.831626', '2019-03-09 19:14:14.831626', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 19:14:14.831626', '2019-03-09 19:14:14.831626', 298486374)[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:14:17 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (4.1ms)
  Rendered articles/index.html.slim within layouts/application (48.5ms)
Completed 200 OK in 326ms (Views: 317.6ms | ActiveRecord: 0.4ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 23:14:17 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 23:14:17 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 23:14:17 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (9.8ms)
  Rendered articles/new.html.slim within layouts/application (59.2ms)
Completed 200 OK in 62ms (Views: 60.4ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 23:14:18 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Title", "body"=>"Body"}, "commit"=>"Create Article"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.7ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-09 19:14:18.331410"], ["updated_at", "2019-03-09 19:14:18.331410"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:60160/articles/980190963
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 23:14:18 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (3.1ms)
Completed 200 OK in 9ms (Views: 4.9ms | ActiveRecord: 0.2ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:14:18 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.2ms)
  Rendered articles/index.html.slim within layouts/application (2.9ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms)
Started DELETE "/articles/298486374" for 127.0.0.1 at 2019-03-09 23:14:18 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:60160/articles
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:14:18 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.4ms)
  Rendered articles/index.html.slim within layouts/application (1.3ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:14:18 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.2ms)
  Rendered articles/index.html.slim within layouts/application (3.2ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.3ms)
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 23:14:18 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.8ms)
  Rendered articles/edit.html.slim within layouts/application (5.4ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:14:19 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Dude?", "body"=>"New body"}, "commit"=>"Update Article", "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "body" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["body", "New body"], ["updated_at", "2019-03-09 19:14:19.024816"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:60160/articles/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:14:19 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 19:19:58.532903', '2019-03-09 19:19:58.532903', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 19:19:58.532903', '2019-03-09 19:19:58.532903', 298486374)[0m
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:20:01 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.8ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (5.0ms)
  Rendered articles/index.html.slim within layouts/application (88.4ms)
Completed 200 OK in 428ms (Views: 417.5ms | ActiveRecord: 0.8ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 23:20:02 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 23:20:02 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 23:20:03 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (9.9ms)
  Rendered articles/new.html.slim within layouts/application (62.1ms)
Completed 200 OK in 66ms (Views: 63.5ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 23:20:03 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Title", "body"=>"Body"}, "commit"=>"Create Article"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-09 19:20:03.424234"], ["updated_at", "2019-03-09 19:20:03.424234"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:61650/articles/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 23:20:03 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.5ms)
Completed 200 OK in 8ms (Views: 4.1ms | ActiveRecord: 0.2ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:20:03 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.9ms)
  Rendered articles/index.html.slim within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.1ms)
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 23:20:03 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (2.4ms)
  Rendered articles/edit.html.slim within layouts/application (7.4ms)
Completed 200 OK in 12ms (Views: 8.9ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:20:03 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Dude?", "body"=>"New body"}, "commit"=>"Update Article", "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "body" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["body", "New body"], ["updated_at", "2019-03-09 19:20:03.902392"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:61650/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:20:03 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.9ms)
Completed 200 OK in 7ms (Views: 3.2ms | ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:20:04 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.6ms)
  Rendered articles/index.html.slim within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms)
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:20:04 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:61650/articles
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:20:04 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.3ms)
  Rendered articles/index.html.slim within layouts/application (1.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 19:20:44.746758', '2019-03-09 19:20:44.746758', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 19:20:44.746758', '2019-03-09 19:20:44.746758', 298486374)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:20:48 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (3.7ms)
  Rendered articles/index.html.slim within layouts/application (61.4ms)
Completed 200 OK in 233ms (Views: 225.1ms | ActiveRecord: 0.2ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 23:20:48 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 23:20:48 +0400
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 23:20:48 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (9.8ms)
  Rendered articles/edit.html.slim within layouts/application (61.1ms)
Completed 200 OK in 67ms (Views: 62.7ms | ActiveRecord: 0.2ms)
Started PATCH "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:20:49 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Dude?", "body"=>"New body"}, "commit"=>"Update Article", "id"=>"980190962"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.5ms)[0m  [1m[33mUPDATE "articles" SET "body" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["body", "New body"], ["updated_at", "2019-03-09 19:20:49.240982"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:61929/articles/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:20:49 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.4ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:20:49 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms)
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:20:49 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:61929/articles
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:20:49 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.7ms)
  Rendered articles/index.html.slim within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:20:50 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.6ms)
  Rendered articles/index.html.slim within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 23:20:50 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.7ms)
  Rendered articles/new.html.slim within layouts/application (4.8ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 23:20:50 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Title", "body"=>"Body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-09 19:20:50.486677"], ["updated_at", "2019-03-09 19:20:50.486677"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:61929/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 23:20:50 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 19:21:57.267333', '2019-03-09 19:21:57.267333', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 19:21:57.267333', '2019-03-09 19:21:57.267333', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:21:59 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.5ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (4.0ms)
  Rendered articles/index.html.slim within layouts/application (49.3ms)
Completed 200 OK in 381ms (Views: 374.8ms | ActiveRecord: 0.5ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 23:22:00 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 23:22:00 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 23:22:00 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.1ms)
  Rendered articles/new.html.slim within layouts/application (58.4ms)
Completed 200 OK in 63ms (Views: 60.2ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 23:22:01 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Title", "body"=>"Body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-09 19:22:01.120844"], ["updated_at", "2019-03-09 19:22:01.120844"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:62308/articles/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 23:22:01 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (3.0ms)
Completed 200 OK in 9ms (Views: 4.9ms | ActiveRecord: 0.2ms)
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:22:01 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.6ms)
  Rendered articles/index.html.slim within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:22:01 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.4ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:62308/articles
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:22:01 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.3ms)
  Rendered articles/index.html.slim within layouts/application (1.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:22:01 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.8ms)
  Rendered articles/index.html.slim within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.1ms)
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 23:22:02 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.8ms)
  Rendered articles/edit.html.slim within layouts/application (5.7ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:22:02 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Dude?", "body"=>"New body"}, "commit"=>"Update Article", "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "body" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["body", "New body"], ["updated_at", "2019-03-09 19:22:02.299117"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:62308/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:22:02 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 19:28:23.888737', '2019-03-09 19:28:23.888737', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 19:28:23.888737', '2019-03-09 19:28:23.888737', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:28:27 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (1.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (5.1ms)
  Rendered articles/index.html.slim within layouts/application (104.2ms)
Completed 200 OK in 285ms (Views: 276.7ms | ActiveRecord: 1.1ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 23:28:27 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 23:28:27 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 23:28:28 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.5ms)
  Rendered articles/new.html.slim within layouts/application (60.0ms)
Completed 200 OK in 63ms (Views: 61.4ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 23:28:28 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Title", "body"=>"Body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-09 19:28:28.535638"], ["updated_at", "2019-03-09 19:28:28.535638"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:64031/articles/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 23:28:28 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (3.4ms)
Completed 200 OK in 9ms (Views: 5.2ms | ActiveRecord: 0.2ms)
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:28:28 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.0ms)
  Rendered articles/index.html.slim within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms)
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:28:28 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:64031/articles
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:28:28 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.8ms)
  Rendered articles/index.html.slim within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:28:29 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.1ms)
  Rendered articles/index.html.slim within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.1ms)
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 23:28:29 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (2.6ms)
  Rendered articles/edit.html.slim within layouts/application (6.7ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:28:29 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Dude?", "body"=>"New body"}, "commit"=>"Update Article", "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "body" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["body", "New body"], ["updated_at", "2019-03-09 19:28:29.696591"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:64031/articles/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:28:29 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 19:31:00.353049', '2019-03-09 19:31:00.353049', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 19:31:00.353049', '2019-03-09 19:31:00.353049', 298486374)[0m
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:31:03 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (4.2ms)
  Rendered articles/index.html.slim within layouts/application (60.6ms)
Completed 200 OK in 231ms (Views: 224.2ms | ActiveRecord: 0.4ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 23:31:03 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 23:31:03 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 23:31:04 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.3ms)
  Rendered articles/new.html.slim within layouts/application (60.0ms)
Completed 200 OK in 63ms (Views: 61.5ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 23:31:04 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Title", "body"=>"Body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-09 19:31:04.907792"], ["updated_at", "2019-03-09 19:31:04.907792"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:64754/articles/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 23:31:04 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.5ms)
Completed 200 OK in 8ms (Views: 3.8ms | ActiveRecord: 0.2ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:31:05 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.8ms)
  Rendered articles/index.html.slim within layouts/application (1.7ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.1ms)
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:31:05 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.5ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:64754/articles
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:31:05 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.5ms)
  Rendered articles/index.html.slim within layouts/application (1.6ms)
Completed 200 OK in 39ms (Views: 38.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:31:05 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.6ms)
  Rendered articles/index.html.slim within layouts/application (3.5ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.2ms)
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 23:31:05 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.9ms)
  Rendered articles/edit.html.slim within layouts/application (5.9ms)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:31:06 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Dude?", "body"=>"New body"}, "commit"=>"Update Article", "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "body" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["body", "New body"], ["updated_at", "2019-03-09 19:31:06.071417"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:64754/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:31:06 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (15.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-09 19:31:47.314028', '2019-03-09 19:31:47.314028', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-09 19:31:47.314028', '2019-03-09 19:31:47.314028', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:31:49 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (3.8ms)
  Rendered articles/index.html.slim within layouts/application (68.4ms)
Completed 200 OK in 245ms (Views: 238.1ms | ActiveRecord: 0.4ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-09 23:31:50 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-09 23:31:50 +0400
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:31:50 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.4ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:65030/articles
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:31:50 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.4ms)
  Rendered articles/index.html.slim within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:31:50 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.9ms)
  Rendered articles/index.html.slim within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms)
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-09 23:31:50 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.2ms)
  Rendered articles/edit.html.slim within layouts/application (59.3ms)
Completed 200 OK in 62ms (Views: 60.8ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:31:51 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Dude?", "body"=>"New body"}, "commit"=>"Update Article", "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "body" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["body", "New body"], ["updated_at", "2019-03-09 19:31:51.167997"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:65030/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-09 23:31:51 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (3.3ms)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-09 23:31:51 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (41.7ms)
  Rendered articles/index.html.slim within layouts/application (42.9ms)
Completed 200 OK in 45ms (Views: 43.9ms | ActiveRecord: 0.2ms)
Started GET "/articles/new" for 127.0.0.1 at 2019-03-09 23:31:51 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (1.7ms)
  Rendered articles/new.html.slim within layouts/application (5.1ms)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-09 23:31:51 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Title", "body"=>"Body"}, "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-09 19:31:51.667701"], ["updated_at", "2019-03-09 19:31:51.667701"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:65030/articles/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-09 23:31:51 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (2.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 05:09:57.230165', '2019-03-10 05:09:57.230165', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 05:09:57.230165', '2019-03-10 05:09:57.230165', 298486374)[0m
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 09:09:57 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.9ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 05:09:57.448252"], ["updated_at", "2019-03-10 05:09:57.448252"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 09:09:57 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-10 09:09:57 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (24.1ms)
  Rendered articles/edit.html.slim within layouts/application (92.5ms)
Completed 200 OK in 303ms (Views: 300.6ms | ActiveRecord: 0.0ms)
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 09:09:57 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.7ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 05:09:57.774818"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.9ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-10 09:09:57 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 05:10:14.411497', '2019-03-10 05:10:14.411497', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 05:10:14.411497', '2019-03-10 05:10:14.411497', 298486374)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-10 09:10:14 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (10.2ms)
  Rendered articles/edit.html.slim within layouts/application (63.6ms)
Completed 200 OK in 285ms (Views: 278.8ms | ActiveRecord: 0.1ms)
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 09:10:14 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 05:10:14.912133"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-10 09:10:14 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  Rendered articles/show.html.slim within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 09:10:14 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 05:10:14.924373"], ["updated_at", "2019-03-10 05:10:14.924373"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 09:10:14 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.2ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 1ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 05:11:03.170511', '2019-03-10 05:11:03.170511', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 05:11:03.170511', '2019-03-10 05:11:03.170511', 298486374)[0m
  [1m[35m (3.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 09:11:03 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 05:11:03.378552"], ["updated_at", "2019-03-10 05:11:03.378552"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 30ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 09:11:03 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 09:11:03 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 05:11:03.395490"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 05:11:45.268246', '2019-03-10 05:11:45.268246', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 05:11:45.268246', '2019-03-10 05:11:45.268246', 298486374)[0m
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 09:11:45 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 09:11:45 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 05:11:45.499267"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 09:11:45 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 05:11:45.505013"], ["updated_at", "2019-03-10 05:11:45.505013"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "articles" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "body" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20190310111201)[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20190306183951);

[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-03-10 13:16:04.921923"], ["updated_at", "2019-03-10 13:16:04.921923"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:16:04.994116', '2019-03-10 13:16:04.994116', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:16:04.994116', '2019-03-10 13:16:04.994116', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:16:05 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 42e1bb8b-3b1f-434d-92cb-ef66d15b9ff9) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:16:05.265755"], ["updated_at", "2019-03-10 13:16:05.265755"]]
[ActiveJob] [UploadArticleImageJob] [42e1bb8b-3b1f-434d-92cb-ef66d15b9ff9] Performing UploadArticleImageJob (Job ID: 42e1bb8b-3b1f-434d-92cb-ef66d15b9ff9) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] [UploadArticleImageJob] [42e1bb8b-3b1f-434d-92cb-ef66d15b9ff9] Error performing UploadArticleImageJob (Job ID: 42e1bb8b-3b1f-434d-92cb-ef66d15b9ff9) from Async(default) in 0.84ms: NoMethodError (undefined method `id' for nil:NilClass):
/Users/Alex/thinknetica/blog/app/helpers/articles_helper.rb:4:in `upload_image'
/Users/Alex/thinknetica/blog/app/jobs/upload_article_image_job.rb:5:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:39:in `block in perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/i18n-1.6.0/lib/i18n.rb:297:in `with_locale'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:26:in `block (4 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `block in instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:25:in `block (3 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `block in tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:22:in `block (2 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:38:in `perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:24:in `block in execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:28:in `block (4 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:73:in `block in wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:72:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:27:in `block (3 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:22:in `execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Completed 302 Found in 11ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:16:05 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 14ms (ActiveRecord: 0.8ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:16:05 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:16:05.299387"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:16:39.544423', '2019-03-10 13:16:39.544423', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:16:39.544423', '2019-03-10 13:16:39.544423', 298486374)[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:16:39 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.5ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:17:06.300995"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 26593ms (ActiveRecord: 0.9ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:17:06 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: caaf55ac-a853-4059-8823-26d8dfa274ad) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:17:28.318827"], ["updated_at", "2019-03-10 13:17:28.318827"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 22010ms (ActiveRecord: 0.8ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [caaf55ac-a853-4059-8823-26d8dfa274ad] Performing UploadArticleImageJob (Job ID: caaf55ac-a853-4059-8823-26d8dfa274ad) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [caaf55ac-a853-4059-8823-26d8dfa274ad] Error performing UploadArticleImageJob (Job ID: caaf55ac-a853-4059-8823-26d8dfa274ad) from Async(default) in 3.71ms: NoMethodError (undefined method `id' for nil:NilClass):
/Users/Alex/thinknetica/blog/app/helpers/articles_helper.rb:4:in `upload_image'
/Users/Alex/thinknetica/blog/app/jobs/upload_article_image_job.rb:5:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:39:in `block in perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/i18n-1.6.0/lib/i18n.rb:297:in `with_locale'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:26:in `block (4 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `block in instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:25:in `block (3 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `block in tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:22:in `block (2 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:38:in `perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:24:in `block in execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:28:in `block (4 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:73:in `block in wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:72:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:27:in `block (3 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:22:in `execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:17:28 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 21ms (ActiveRecord: 1.2ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:18:06.830368', '2019-03-10 13:18:06.830368', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:18:06.830368', '2019-03-10 13:18:06.830368', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:18:06 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:18:07.024309"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:18:07 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 82da5e14-c825-42ce-8460-894019cac823) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [82da5e14-c825-42ce-8460-894019cac823] Performing UploadArticleImageJob (Job ID: 82da5e14-c825-42ce-8460-894019cac823) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:18:07.036006"], ["updated_at", "2019-03-10 13:18:07.036006"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:18:07 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [82da5e14-c825-42ce-8460-894019cac823] Error performing UploadArticleImageJob (Job ID: 82da5e14-c825-42ce-8460-894019cac823) from Async(default) in 16435.03ms: NoMethodError (undefined method `id' for nil:NilClass):
/Users/Alex/thinknetica/blog/app/helpers/articles_helper.rb:4:in `upload_image'
/Users/Alex/thinknetica/blog/app/jobs/upload_article_image_job.rb:6:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:39:in `block in perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/i18n-1.6.0/lib/i18n.rb:297:in `with_locale'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:26:in `block (4 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `block in instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:25:in `block (3 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `block in tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:22:in `block (2 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:38:in `perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:24:in `block in execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:28:in `block (4 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:73:in `block in wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:72:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:27:in `block (3 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:22:in `execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 16429ms (ActiveRecord: 1.1ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:18:38.304079', '2019-03-10 13:18:38.304079', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:18:38.304079', '2019-03-10 13:18:38.304079', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:18:38 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 14ms (ActiveRecord: 0.9ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:18:38 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: c5316392-1d48-4ff8-9e15-fd1b99da8932) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [c5316392-1d48-4ff8-9e15-fd1b99da8932] Performing UploadArticleImageJob (Job ID: c5316392-1d48-4ff8-9e15-fd1b99da8932) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
  [1m[36mArticle Create (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:18:38.432858"], ["updated_at", "2019-03-10 13:18:38.432858"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [c5316392-1d48-4ff8-9e15-fd1b99da8932] Error performing UploadArticleImageJob (Job ID: c5316392-1d48-4ff8-9e15-fd1b99da8932) from Async(default) in 1.75ms: NoMethodError (undefined method `id' for nil:NilClass):
/Users/Alex/thinknetica/blog/app/helpers/articles_helper.rb:4:in `upload_image'
/Users/Alex/thinknetica/blog/app/jobs/upload_article_image_job.rb:5:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:39:in `block in perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/i18n-1.6.0/lib/i18n.rb:297:in `with_locale'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:26:in `block (4 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `block in instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:25:in `block (3 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `block in tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:22:in `block (2 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:38:in `perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:24:in `block in execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:28:in `block (4 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:73:in `block in wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:72:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:27:in `block (3 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:22:in `execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:18:38 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:18:38.441991"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:18:55.504027', '2019-03-10 13:18:55.504027', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:18:55.504027', '2019-03-10 13:18:55.504027', 298486374)[0m
  [1m[35m (2.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:18:55 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:18:55.592969"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:18:55 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 59b4f2e7-b604-4f61-bfd5-8e1528290fb9) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
[ActiveJob] [UploadArticleImageJob] [59b4f2e7-b604-4f61-bfd5-8e1528290fb9] Performing UploadArticleImageJob (Job ID: 59b4f2e7-b604-4f61-bfd5-8e1528290fb9) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:18:55.605544"], ["updated_at", "2019-03-10 13:18:55.605544"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:18:55 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 53654ms (ActiveRecord: 0.5ms)
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [59b4f2e7-b604-4f61-bfd5-8e1528290fb9] Performed UploadArticleImageJob (Job ID: 59b4f2e7-b604-4f61-bfd5-8e1528290fb9) from Async(default) in 53691.25ms
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:19:57.983226', '2019-03-10 13:19:57.983226', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:19:57.983226', '2019-03-10 13:19:57.983226', 298486374)[0m
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:19:58 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 9d4ed281-c177-4441-abf4-9f364f0b5316) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
[ActiveJob] [UploadArticleImageJob] [9d4ed281-c177-4441-abf4-9f364f0b5316] Performing UploadArticleImageJob (Job ID: 9d4ed281-c177-4441-abf4-9f364f0b5316) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:19:58.194291"], ["updated_at", "2019-03-10 13:19:58.194291"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 19ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:19:58 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 27136ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:20:25 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.6ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:20:25.358493"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [9d4ed281-c177-4441-abf4-9f364f0b5316] Performed UploadArticleImageJob (Job ID: 9d4ed281-c177-4441-abf4-9f364f0b5316) from Async(default) in 27179.49ms
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:20:27.487089', '2019-03-10 13:20:27.487089', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:20:27.487089', '2019-03-10 13:20:27.487089', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:20:27 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:20:27.649636"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:20:27 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: e90f3359-1090-4337-b1cc-e4eca0cb144e) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:20:27.660722"], ["updated_at", "2019-03-10 13:20:27.660722"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [e90f3359-1090-4337-b1cc-e4eca0cb144e] Performing UploadArticleImageJob (Job ID: e90f3359-1090-4337-b1cc-e4eca0cb144e) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:20:27 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [e90f3359-1090-4337-b1cc-e4eca0cb144e] Error performing UploadArticleImageJob (Job ID: e90f3359-1090-4337-b1cc-e4eca0cb144e) from Async(default) in 31622.76ms: NoMethodError (undefined method `id' for nil:NilClass):
/Users/Alex/thinknetica/blog/app/helpers/articles_helper.rb:5:in `upload_image'
/Users/Alex/thinknetica/blog/app/jobs/upload_article_image_job.rb:6:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:39:in `block in perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/i18n-1.6.0/lib/i18n.rb:297:in `with_locale'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:26:in `block (4 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `block in instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:25:in `block (3 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `block in tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:22:in `block (2 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:38:in `perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:24:in `block in execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:28:in `block (4 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:73:in `block in wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:72:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:27:in `block (3 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:22:in `execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 31623ms (ActiveRecord: 0.8ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:23:00.374142', '2019-03-10 13:23:00.374142', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:23:00.374142', '2019-03-10 13:23:00.374142', 298486374)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:23:00 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:23:00.561975"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:23:00 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 1604ddc1-7890-48ee-abee-65fc524c70ea) to Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:23:00.574134"], ["updated_at", "2019-03-10 13:23:00.574134"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:23:00 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 15ms (ActiveRecord: 1.0ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:23:35.686166', '2019-03-10 13:23:35.686166', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:23:35.686166', '2019-03-10 13:23:35.686166', 298486374)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:23:35 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 20ms (ActiveRecord: 1.3ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:23:35 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:23:35.903269"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:23:35 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: ac8a042c-66f8-4fc1-a963-d206ef3f7133) to Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:23:35.910448"], ["updated_at", "2019-03-10 13:23:35.910448"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:23:54.926828', '2019-03-10 13:23:54.926828', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:23:54.926828', '2019-03-10 13:23:54.926828', 298486374)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:23:54 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: d84e0a76-a5cf-4368-a017-c7cb6b66e473) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:23:55.014350"], ["updated_at", "2019-03-10 13:23:55.014350"]]
[ActiveJob] [UploadArticleImageJob] [d84e0a76-a5cf-4368-a017-c7cb6b66e473] Performing UploadArticleImageJob (Job ID: d84e0a76-a5cf-4368-a017-c7cb6b66e473) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 21ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:23:55 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:23:55.033031"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:23:55 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 523666ms (ActiveRecord: 0.4ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [d84e0a76-a5cf-4368-a017-c7cb6b66e473] Performed UploadArticleImageJob (Job ID: d84e0a76-a5cf-4368-a017-c7cb6b66e473) from Async(default) in 523721.5ms
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:32:41.585161', '2019-03-10 13:32:41.585161', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:32:41.585161', '2019-03-10 13:32:41.585161', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d06d9e38-2dc6-4ed9-9352-c511c3ed5ac7] Performing UploadArticleImageJob (Job ID: d06d9e38-2dc6-4ed9-9352-c511c3ed5ac7) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa854563b10 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [d06d9e38-2dc6-4ed9-9352-c511c3ed5ac7]   [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d06d9e38-2dc6-4ed9-9352-c511c3ed5ac7]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d06d9e38-2dc6-4ed9-9352-c511c3ed5ac7] [36m  Disk Storage (2.7ms) [0m[32mUploaded file to key: iAG3uCH2xF64kyLdWRvwB8t9 (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [d06d9e38-2dc6-4ed9-9352-c511c3ed5ac7]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d06d9e38-2dc6-4ed9-9352-c511c3ed5ac7]   [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "iAG3uCH2xF64kyLdWRvwB8t9"], ["filename", "article_#<Article:0x00007fa856c1a858>"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 13:33:37.660325"]]
[ActiveJob] [UploadArticleImageJob] [d06d9e38-2dc6-4ed9-9352-c511c3ed5ac7]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d06d9e38-2dc6-4ed9-9352-c511c3ed5ac7]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d06d9e38-2dc6-4ed9-9352-c511c3ed5ac7]   [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 13:33:37.682778"]]
[ActiveJob] [UploadArticleImageJob] [d06d9e38-2dc6-4ed9-9352-c511c3ed5ac7]   [1m[36mArticle Update (0.2ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 13:33:37.685297"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [d06d9e38-2dc6-4ed9-9352-c511c3ed5ac7]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d06d9e38-2dc6-4ed9-9352-c511c3ed5ac7] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5b133122-878a-41cd-a36b-ccae10c4cfb4) to Test(default) with arguments: #<GlobalID:0x00007fa853ba7018 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [d06d9e38-2dc6-4ed9-9352-c511c3ed5ac7] Performed UploadArticleImageJob (Job ID: d06d9e38-2dc6-4ed9-9352-c511c3ed5ac7) from Test(default) in 56086.41ms
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:33:37 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:33:37.908014"], ["updated_at", "2019-03-10 13:33:37.908014"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:33:37 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:33:37 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:33:37.922764"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:33:40.290900', '2019-03-10 13:33:40.290900', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:33:40.290900', '2019-03-10 13:33:40.290900', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:33:40 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:33:40.372309"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:33:40 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:33:40.381033"], ["updated_at", "2019-03-10 13:33:40.381033"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:33:40 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d4beb1d1-4abe-4701-b49d-bc3e791d7be6] Performing UploadArticleImageJob (Job ID: d4beb1d1-4abe-4701-b49d-bc3e791d7be6) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa8545ba168 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [d4beb1d1-4abe-4701-b49d-bc3e791d7be6]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d4beb1d1-4abe-4701-b49d-bc3e791d7be6] [36m  Disk Storage (2.7ms) [0m[32mUploaded file to key: 3nWpt8UDVQHwWk8hH3VP7hSk (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [d4beb1d1-4abe-4701-b49d-bc3e791d7be6]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d4beb1d1-4abe-4701-b49d-bc3e791d7be6]   [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "3nWpt8UDVQHwWk8hH3VP7hSk"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 13:33:45.655841"]]
[ActiveJob] [UploadArticleImageJob] [d4beb1d1-4abe-4701-b49d-bc3e791d7be6]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d4beb1d1-4abe-4701-b49d-bc3e791d7be6]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d4beb1d1-4abe-4701-b49d-bc3e791d7be6]   [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 13:33:45.668435"]]
[ActiveJob] [UploadArticleImageJob] [d4beb1d1-4abe-4701-b49d-bc3e791d7be6]   [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 13:33:45.671012"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [d4beb1d1-4abe-4701-b49d-bc3e791d7be6]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d4beb1d1-4abe-4701-b49d-bc3e791d7be6] Enqueued ActiveStorage::AnalyzeJob (Job ID: bfc750f7-5a6c-4038-829a-119d49c4ac39) to Test(default) with arguments: #<GlobalID:0x00007fa8545b00a0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [d4beb1d1-4abe-4701-b49d-bc3e791d7be6] Performed UploadArticleImageJob (Job ID: d4beb1d1-4abe-4701-b49d-bc3e791d7be6) from Test(default) in 5272.34ms
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:35:31.882401', '2019-03-10 13:35:31.882401', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:35:31.882401', '2019-03-10 13:35:31.882401', 298486374)[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [c83d7860-782b-41cb-8f3b-1cb2318809cc] Performing UploadArticleImageJob (Job ID: c83d7860-782b-41cb-8f3b-1cb2318809cc) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa856bd3b88 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [c83d7860-782b-41cb-8f3b-1cb2318809cc]   [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [c83d7860-782b-41cb-8f3b-1cb2318809cc] [36m  Disk Storage (2.9ms) [0m[32mUploaded file to key: 6WBKjydE9xfZf9b9MsZY3p6T (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [c83d7860-782b-41cb-8f3b-1cb2318809cc]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [c83d7860-782b-41cb-8f3b-1cb2318809cc]   [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "6WBKjydE9xfZf9b9MsZY3p6T"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 13:35:33.971273"]]
[ActiveJob] [UploadArticleImageJob] [c83d7860-782b-41cb-8f3b-1cb2318809cc]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [c83d7860-782b-41cb-8f3b-1cb2318809cc]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [c83d7860-782b-41cb-8f3b-1cb2318809cc]   [1m[36mActiveStorage::Attachment Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 13:35:33.982160"]]
[ActiveJob] [UploadArticleImageJob] [c83d7860-782b-41cb-8f3b-1cb2318809cc]   [1m[36mArticle Update (0.2ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 13:35:33.984192"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [c83d7860-782b-41cb-8f3b-1cb2318809cc]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [c83d7860-782b-41cb-8f3b-1cb2318809cc] Enqueued ActiveStorage::AnalyzeJob (Job ID: a9f62b00-f31a-4639-9306-ff40f8534570) to Test(default) with arguments: #<GlobalID:0x00007fa853ba0240 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [c83d7860-782b-41cb-8f3b-1cb2318809cc] Performed UploadArticleImageJob (Job ID: c83d7860-782b-41cb-8f3b-1cb2318809cc) from Test(default) in 2086.82ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:35:34 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.5ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:35:34 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:35:34.228679"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:35:34 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:35:34.234186"], ["updated_at", "2019-03-10 13:35:34.234186"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:38:23.965091', '2019-03-10 13:38:23.965091', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:38:23.965091', '2019-03-10 13:38:23.965091', 298486374)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [e161b4b0-3e87-47dc-9daf-fb3ff136f5ee] Performing UploadArticleImageJob (Job ID: e161b4b0-3e87-47dc-9daf-fb3ff136f5ee) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa854342868 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [e161b4b0-3e87-47dc-9daf-fb3ff136f5ee]   [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [e161b4b0-3e87-47dc-9daf-fb3ff136f5ee] [36m  Disk Storage (2.9ms) [0m[32mUploaded file to key: GbBDdZmdgcJzZDotBicXdXkv (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [e161b4b0-3e87-47dc-9daf-fb3ff136f5ee]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [e161b4b0-3e87-47dc-9daf-fb3ff136f5ee]   [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "GbBDdZmdgcJzZDotBicXdXkv"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 13:38:24.044472"]]
[ActiveJob] [UploadArticleImageJob] [e161b4b0-3e87-47dc-9daf-fb3ff136f5ee]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [e161b4b0-3e87-47dc-9daf-fb3ff136f5ee]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [e161b4b0-3e87-47dc-9daf-fb3ff136f5ee]   [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 13:38:24.056650"]]
[ActiveJob] [UploadArticleImageJob] [e161b4b0-3e87-47dc-9daf-fb3ff136f5ee]   [1m[36mArticle Update (0.2ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 13:38:24.058804"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [e161b4b0-3e87-47dc-9daf-fb3ff136f5ee]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [e161b4b0-3e87-47dc-9daf-fb3ff136f5ee] Enqueued ActiveStorage::AnalyzeJob (Job ID: 16673316-f4ed-43e7-9089-91e148f5913a) to Test(default) with arguments: #<GlobalID:0x00007fa856416bc0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [e161b4b0-3e87-47dc-9daf-fb3ff136f5ee] Performed UploadArticleImageJob (Job ID: e161b4b0-3e87-47dc-9daf-fb3ff136f5ee) from Test(default) in 78.59ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:38:24 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:38:24.224884"], ["updated_at", "2019-03-10 13:38:24.224884"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:38:24 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:38:24 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:38:24.254843"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:38:32.946287', '2019-03-10 13:38:32.946287', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:38:32.946287', '2019-03-10 13:38:32.946287', 298486374)[0m
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:38:33 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 28ms (ActiveRecord: 1.0ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:38:33 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:38:33.063684"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:38:33 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:38:33.069275"], ["updated_at", "2019-03-10 13:38:33.069275"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [38e1e983-43e8-49d7-8e4d-e25a1c0c6144] Performing UploadArticleImageJob (Job ID: 38e1e983-43e8-49d7-8e4d-e25a1c0c6144) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa856309bd8 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [38e1e983-43e8-49d7-8e4d-e25a1c0c6144]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [38e1e983-43e8-49d7-8e4d-e25a1c0c6144] [36m  Disk Storage (2.7ms) [0m[32mUploaded file to key: 6DBbAZfNfLJTdeLCLxLaTD2C (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [38e1e983-43e8-49d7-8e4d-e25a1c0c6144]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [38e1e983-43e8-49d7-8e4d-e25a1c0c6144]   [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "6DBbAZfNfLJTdeLCLxLaTD2C"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 13:38:33.126905"]]
[ActiveJob] [UploadArticleImageJob] [38e1e983-43e8-49d7-8e4d-e25a1c0c6144]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [38e1e983-43e8-49d7-8e4d-e25a1c0c6144]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [38e1e983-43e8-49d7-8e4d-e25a1c0c6144]   [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 13:38:33.146536"]]
[ActiveJob] [UploadArticleImageJob] [38e1e983-43e8-49d7-8e4d-e25a1c0c6144]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 13:38:33.148731"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [38e1e983-43e8-49d7-8e4d-e25a1c0c6144]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [38e1e983-43e8-49d7-8e4d-e25a1c0c6144] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6410220e-abfe-4af4-9607-c6ef64a81e1c) to Test(default) with arguments: #<GlobalID:0x00007fa856bcb8c0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [38e1e983-43e8-49d7-8e4d-e25a1c0c6144] Performed UploadArticleImageJob (Job ID: 38e1e983-43e8-49d7-8e4d-e25a1c0c6144) from Test(default) in 76.14ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:38:45.174378', '2019-03-10 13:38:45.174378', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:38:45.174378', '2019-03-10 13:38:45.174378', 298486374)[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.7ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d927b2a1-5e87-40f4-99f2-29063346c572] Performing UploadArticleImageJob (Job ID: d927b2a1-5e87-40f4-99f2-29063346c572) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa854513930 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [d927b2a1-5e87-40f4-99f2-29063346c572]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d927b2a1-5e87-40f4-99f2-29063346c572] [36m  Disk Storage (3.4ms) [0m[32mUploaded file to key: n9HV8aQc6fKznv9BUBu7ug1i (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [d927b2a1-5e87-40f4-99f2-29063346c572]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d927b2a1-5e87-40f4-99f2-29063346c572]   [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "n9HV8aQc6fKznv9BUBu7ug1i"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 13:38:45.255793"]]
[ActiveJob] [UploadArticleImageJob] [d927b2a1-5e87-40f4-99f2-29063346c572]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d927b2a1-5e87-40f4-99f2-29063346c572]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d927b2a1-5e87-40f4-99f2-29063346c572]   [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 13:38:45.267025"]]
[ActiveJob] [UploadArticleImageJob] [d927b2a1-5e87-40f4-99f2-29063346c572]   [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 13:38:45.268602"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [d927b2a1-5e87-40f4-99f2-29063346c572]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d927b2a1-5e87-40f4-99f2-29063346c572] Enqueued ActiveStorage::AnalyzeJob (Job ID: d66d74d6-132f-4369-8a2a-d6e9a31024b7) to Test(default) with arguments: #<GlobalID:0x00007fa85639e2b0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [d927b2a1-5e87-40f4-99f2-29063346c572] Performed UploadArticleImageJob (Job ID: d927b2a1-5e87-40f4-99f2-29063346c572) from Test(default) in 77.47ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:38:50 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:38:50.393665"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (2.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:38:50 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:38:50.419602"], ["updated_at", "2019-03-10 13:38:50.419602"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:38:50 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.2ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:41:57.835850', '2019-03-10 13:41:57.835850', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:41:57.835850', '2019-03-10 13:41:57.835850', 298486374)[0m
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [42ad8c80-8375-4f16-8440-1d1fe7bbcf53] Performing UploadArticleImageJob (Job ID: 42ad8c80-8375-4f16-8440-1d1fe7bbcf53) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa856c03388 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [42ad8c80-8375-4f16-8440-1d1fe7bbcf53]   [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [42ad8c80-8375-4f16-8440-1d1fe7bbcf53] [36m  Disk Storage (2.8ms) [0m[32mUploaded file to key: cTa99QZGRw3LhX42zXqr2zMV (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [42ad8c80-8375-4f16-8440-1d1fe7bbcf53]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [42ad8c80-8375-4f16-8440-1d1fe7bbcf53]   [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "cTa99QZGRw3LhX42zXqr2zMV"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 13:41:57.936225"]]
[ActiveJob] [UploadArticleImageJob] [42ad8c80-8375-4f16-8440-1d1fe7bbcf53]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [42ad8c80-8375-4f16-8440-1d1fe7bbcf53]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [42ad8c80-8375-4f16-8440-1d1fe7bbcf53]   [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 13:41:57.947228"]]
[ActiveJob] [UploadArticleImageJob] [42ad8c80-8375-4f16-8440-1d1fe7bbcf53]   [1m[36mArticle Update (0.2ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 13:41:57.948936"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [42ad8c80-8375-4f16-8440-1d1fe7bbcf53]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [42ad8c80-8375-4f16-8440-1d1fe7bbcf53] Enqueued ActiveStorage::AnalyzeJob (Job ID: b1ad81c1-f331-439d-87b2-b57d8e17462a) to Test(default) with arguments: #<GlobalID:0x00007fa8562f8270 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [42ad8c80-8375-4f16-8440-1d1fe7bbcf53] Performed UploadArticleImageJob (Job ID: 42ad8c80-8375-4f16-8440-1d1fe7bbcf53) from Test(default) in 97.43ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:41:58 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:41:58 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:41:58.195231"], ["updated_at", "2019-03-10 13:41:58.195231"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:41:58 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:41:58.202530"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:44:08.355990', '2019-03-10 13:44:08.355990', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:44:08.355990', '2019-03-10 13:44:08.355990', 298486374)[0m
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
ActiveSupport::TestCase: test_image_path
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
ArticleTest: test_image_path
----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
ArticlesControllerTest: test_image_path
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
Rails::Generators::TestCase: test_image_path
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
ActionMailer::TestCase: test_image_path
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ActionDispatch::IntegrationTest: test_image_path
------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [910b9b76-8518-4bf2-89dc-6d71e7f734dc] Performing UploadArticleImageJob (Job ID: 910b9b76-8518-4bf2-89dc-6d71e7f734dc) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa854193da0 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [910b9b76-8518-4bf2-89dc-6d71e7f734dc] Error performing UploadArticleImageJob (Job ID: 910b9b76-8518-4bf2-89dc-6d71e7f734dc) from Test(default) in 0.68ms: Errno::ENOENT (No such file or directory @ rb_sysopen - /Users/Alex/thinknetica/blog/test/../fixtures/files/test_image.jpeg):
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/2.6.0/open-uri.rb:37:in `initialize'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/2.6.0/open-uri.rb:37:in `open'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/2.6.0/open-uri.rb:37:in `open'
/Users/Alex/thinknetica/blog/app/helpers/articles_helper.rb:3:in `upload_image'
/Users/Alex/thinknetica/blog/app/jobs/upload_article_image_job.rb:5:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:39:in `block in perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/i18n-1.6.0/lib/i18n.rb:292:in `with_locale'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:26:in `block (4 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `block in instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:25:in `block (3 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `block in tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:22:in `block (2 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:38:in `perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:18:in `perform_now'
/Users/Alex/thinknetica/blog/test/jobs/upload_article_image_job_test.rb:6:in `block in <class:UploadArticleImageJobTest>'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/test.rb:98:in `block (3 levels) in run'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/test.rb:195:in `capture_exceptions'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/test.rb:95:in `block (2 levels) in run'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:265:in `time_it'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/test.rb:94:in `block in run'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:360:in `on_signal'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/test.rb:211:in `with_info_handler'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest/test.rb:93:in `run'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:960:in `run_one_method'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:334:in `run_one_method'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:321:in `block (2 levels) in run'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:320:in `each'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:320:in `block in run'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:360:in `on_signal'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:347:in `with_info_handler'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:319:in `run'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/railties-5.2.2/lib/rails/test_unit/line_filtering.rb:10:in `run'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:159:in `block in __run'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:159:in `map'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:159:in `__run'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:136:in `run'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/gems/2.6.0/gems/minitest-5.11.3/lib/minitest.rb:63:in `block in autorun'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/site_ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/site_ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'
-e:1:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UploadArticleImageJobTest: test_image_path
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ActionController::TestCase: test_image_path
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ActiveJob::TestCase: test_image_path
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:44:09 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:44:09.406537"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:44:09 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.2ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 14ms (ActiveRecord: 1.2ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
BlogFlowTest: test_image_path
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:44:09 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:44:09.431644"], ["updated_at", "2019-03-10 13:44:09.431644"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:45:07.703329', '2019-03-10 13:45:07.703329', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:45:07.703329', '2019-03-10 13:45:07.703329', 298486374)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
ActionDispatch::IntegrationTest: test_image_path
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
ArticlesControllerTest: test_image_path
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ActiveJob::TestCase: test_image_path
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
Rails::Generators::TestCase: test_image_path
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
ActionController::TestCase: test_image_path
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
ActionMailer::TestCase: test_image_path
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
ArticleTest: test_image_path
----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:45:07 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:45:07.943465"], ["updated_at", "2019-03-10 13:45:07.943465"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:45:07 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.4ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 19ms (ActiveRecord: 1.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:45:07 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.7ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.5ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:45:07.986004"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
BlogFlowTest: test_image_path
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.9ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [58e5cb65-a42f-411b-bfe9-6240c42244e8] Performing UploadArticleImageJob (Job ID: 58e5cb65-a42f-411b-bfe9-6240c42244e8) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa8542af068 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [58e5cb65-a42f-411b-bfe9-6240c42244e8]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [58e5cb65-a42f-411b-bfe9-6240c42244e8] [36m  Disk Storage (2.8ms) [0m[32mUploaded file to key: 2QKFNLSfBiwyRrf599fg3yro (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [58e5cb65-a42f-411b-bfe9-6240c42244e8]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [58e5cb65-a42f-411b-bfe9-6240c42244e8]   [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "2QKFNLSfBiwyRrf599fg3yro"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 13:45:08.103945"]]
[ActiveJob] [UploadArticleImageJob] [58e5cb65-a42f-411b-bfe9-6240c42244e8]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [58e5cb65-a42f-411b-bfe9-6240c42244e8]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [58e5cb65-a42f-411b-bfe9-6240c42244e8]   [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 13:45:08.114671"]]
[ActiveJob] [UploadArticleImageJob] [58e5cb65-a42f-411b-bfe9-6240c42244e8]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 13:45:08.116448"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [58e5cb65-a42f-411b-bfe9-6240c42244e8]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [58e5cb65-a42f-411b-bfe9-6240c42244e8] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0369bdd4-7621-423f-9591-45c37f4d5870) to Test(default) with arguments: #<GlobalID:0x00007fa856a5b148 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [58e5cb65-a42f-411b-bfe9-6240c42244e8] Performed UploadArticleImageJob (Job ID: 58e5cb65-a42f-411b-bfe9-6240c42244e8) from Test(default) in 118.93ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UploadArticleImageJobTest: test_image_path
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
ActiveSupport::TestCase: test_image_path
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:46:38.479262', '2019-03-10 13:46:38.479262', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:46:38.479262', '2019-03-10 13:46:38.479262', 298486374)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d69b068b-eee1-40fb-b0d4-a70fb326b9fe] Performing UploadArticleImageJob (Job ID: d69b068b-eee1-40fb-b0d4-a70fb326b9fe) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa854430270 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [d69b068b-eee1-40fb-b0d4-a70fb326b9fe]   [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d69b068b-eee1-40fb-b0d4-a70fb326b9fe] [36m  Disk Storage (2.7ms) [0m[32mUploaded file to key: oSN6o1fZD4SCCdJJXtagsCa9 (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [d69b068b-eee1-40fb-b0d4-a70fb326b9fe]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d69b068b-eee1-40fb-b0d4-a70fb326b9fe]   [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "oSN6o1fZD4SCCdJJXtagsCa9"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 13:46:38.586228"]]
[ActiveJob] [UploadArticleImageJob] [d69b068b-eee1-40fb-b0d4-a70fb326b9fe]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d69b068b-eee1-40fb-b0d4-a70fb326b9fe]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d69b068b-eee1-40fb-b0d4-a70fb326b9fe]   [1m[36mActiveStorage::Attachment Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 13:46:38.606672"]]
[ActiveJob] [UploadArticleImageJob] [d69b068b-eee1-40fb-b0d4-a70fb326b9fe]   [1m[36mArticle Update (0.2ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 13:46:38.609054"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [d69b068b-eee1-40fb-b0d4-a70fb326b9fe]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d69b068b-eee1-40fb-b0d4-a70fb326b9fe] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0e19f79d-6d03-4e61-8e25-a3fa0f3a63d3) to Test(default) with arguments: #<GlobalID:0x00007fa856baa7b0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [d69b068b-eee1-40fb-b0d4-a70fb326b9fe] Performed UploadArticleImageJob (Job ID: d69b068b-eee1-40fb-b0d4-a70fb326b9fe) from Test(default) in 116.91ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:46:38 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:46:38.804737"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:46:38 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:46:38.812161"], ["updated_at", "2019-03-10 13:46:38.812161"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:46:38 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:47:19.473325', '2019-03-10 13:47:19.473325', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:47:19.473325', '2019-03-10 13:47:19.473325', 298486374)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [7bf64294-4389-412d-a34d-7119d05fbf13] Performing UploadArticleImageJob (Job ID: 7bf64294-4389-412d-a34d-7119d05fbf13) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa856387240 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [7bf64294-4389-412d-a34d-7119d05fbf13]   [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [7bf64294-4389-412d-a34d-7119d05fbf13] [36m  Disk Storage (2.7ms) [0m[32mUploaded file to key: BgoDo62QaJDADiCy4uzeUfhr (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [7bf64294-4389-412d-a34d-7119d05fbf13]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [7bf64294-4389-412d-a34d-7119d05fbf13]   [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "BgoDo62QaJDADiCy4uzeUfhr"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 13:47:19.551934"]]
[ActiveJob] [UploadArticleImageJob] [7bf64294-4389-412d-a34d-7119d05fbf13]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [7bf64294-4389-412d-a34d-7119d05fbf13]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [7bf64294-4389-412d-a34d-7119d05fbf13]   [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 13:47:19.579043"]]
[ActiveJob] [UploadArticleImageJob] [7bf64294-4389-412d-a34d-7119d05fbf13]   [1m[36mArticle Update (0.2ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 13:47:19.581038"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [7bf64294-4389-412d-a34d-7119d05fbf13]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [7bf64294-4389-412d-a34d-7119d05fbf13] Enqueued ActiveStorage::AnalyzeJob (Job ID: e9a273b2-b615-42df-b1fb-5bf15393e2e1) to Test(default) with arguments: #<GlobalID:0x00007fa8561275e0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [7bf64294-4389-412d-a34d-7119d05fbf13] Performed UploadArticleImageJob (Job ID: 7bf64294-4389-412d-a34d-7119d05fbf13) from Test(default) in 92.44ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:47:19 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:47:19.778536"], ["updated_at", "2019-03-10 13:47:19.778536"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:47:19 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.4ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:47:19 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.7ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:47:19.810029"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:48:54.893797', '2019-03-10 13:48:54.893797', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:48:54.893797', '2019-03-10 13:48:54.893797', 298486374)[0m
  [1m[35m (3.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:48:55 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 24ms (ActiveRecord: 1.3ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:48:55 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:48:55.118412"], ["updated_at", "2019-03-10 13:48:55.118412"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:48:55 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:48:55.130596"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [06efc2b0-d014-409c-8e3a-8df3f1eeba8f] Performing UploadArticleImageJob (Job ID: 06efc2b0-d014-409c-8e3a-8df3f1eeba8f) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa856315a28 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [06efc2b0-d014-409c-8e3a-8df3f1eeba8f]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [06efc2b0-d014-409c-8e3a-8df3f1eeba8f] [36m  Disk Storage (2.7ms) [0m[32mUploaded file to key: J1ffnApR4Nx2zb9J6QB5CiDo (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [06efc2b0-d014-409c-8e3a-8df3f1eeba8f]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [06efc2b0-d014-409c-8e3a-8df3f1eeba8f]   [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "J1ffnApR4Nx2zb9J6QB5CiDo"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 13:48:55.251356"]]
[ActiveJob] [UploadArticleImageJob] [06efc2b0-d014-409c-8e3a-8df3f1eeba8f]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [06efc2b0-d014-409c-8e3a-8df3f1eeba8f]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [06efc2b0-d014-409c-8e3a-8df3f1eeba8f]   [1m[36mActiveStorage::Attachment Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 13:48:55.262528"]]
[ActiveJob] [UploadArticleImageJob] [06efc2b0-d014-409c-8e3a-8df3f1eeba8f]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 13:48:55.264492"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [06efc2b0-d014-409c-8e3a-8df3f1eeba8f]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [06efc2b0-d014-409c-8e3a-8df3f1eeba8f] Enqueued ActiveStorage::AnalyzeJob (Job ID: 076564a5-6a5f-4024-8685-cba212bd2d5c) to Test(default) with arguments: #<GlobalID:0x00007fa856a1e3b0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [06efc2b0-d014-409c-8e3a-8df3f1eeba8f] Performed UploadArticleImageJob (Job ID: 06efc2b0-d014-409c-8e3a-8df3f1eeba8f) from Test(default) in 16823.47ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:52:21.513611', '2019-03-10 13:52:21.513611', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:52:21.513611', '2019-03-10 13:52:21.513611', 298486374)[0m
  [1m[35m (4.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.5ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:52:21 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:52:21.783171"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:52:21 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 16ms (ActiveRecord: 1.2ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:52:21 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
Completed 500 Internal Server Error in 22546ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:53:58.343547', '2019-03-10 13:53:58.343547', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:53:58.343547', '2019-03-10 13:53:58.343547', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:53:58 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
Completed 500 Internal Server Error in 8566ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:55:28.342860', '2019-03-10 13:55:28.342860', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:55:28.342860', '2019-03-10 13:55:28.342860', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:55:28 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 390245e0-1615-4a6b-976f-b00ad3ccd68a) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:56:07.170968"], ["updated_at", "2019-03-10 13:56:07.170968"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] [UploadArticleImageJob] [390245e0-1615-4a6b-976f-b00ad3ccd68a] Performing UploadArticleImageJob (Job ID: 390245e0-1615-4a6b-976f-b00ad3ccd68a) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 3b015354-dca6-4417-8222-3e7e08151ebf) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa85640ce90 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 53964ms (ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3b015354-dca6-4417-8222-3e7e08151ebf] Performing UploadArticleImageJob (Job ID: 3b015354-dca6-4417-8222-3e7e08151ebf) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa856436b00 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:56:22 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [390245e0-1615-4a6b-976f-b00ad3ccd68a] Error performing UploadArticleImageJob (Job ID: 390245e0-1615-4a6b-976f-b00ad3ccd68a) from Async(default) in 23239.46ms: NoMethodError (undefined method `id' for nil:NilClass):
/Users/Alex/thinknetica/blog/app/helpers/articles_helper.rb:4:in `upload_image'
/Users/Alex/thinknetica/blog/app/jobs/upload_article_image_job.rb:6:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:39:in `block in perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/i18n-1.6.0/lib/i18n.rb:297:in `with_locale'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:26:in `block (4 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `block in instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:25:in `block (3 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `block in tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:22:in `block (2 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:38:in `perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:24:in `block in execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:28:in `block (4 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:73:in `block in wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:72:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:27:in `block (3 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:22:in `execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Completed 500 Internal Server Error in 9263ms (ActiveRecord: 0.5ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:56:31 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:56:31.741902"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [2c0470af-3020-4ea4-b677-a72365891954] Performing UploadArticleImageJob (Job ID: 2c0470af-3020-4ea4-b677-a72365891954) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa8546c2038 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [3b015354-dca6-4417-8222-3e7e08151ebf]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3b015354-dca6-4417-8222-3e7e08151ebf] [36m  Disk Storage (4.2ms) [0m[32mUploaded file to key: jGtpSkK5g9CNH3oEFrL13U4q (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [3b015354-dca6-4417-8222-3e7e08151ebf]   [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3b015354-dca6-4417-8222-3e7e08151ebf]   [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "jGtpSkK5g9CNH3oEFrL13U4q"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 13:56:46.092500"]]
[ActiveJob] [UploadArticleImageJob] [3b015354-dca6-4417-8222-3e7e08151ebf]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3b015354-dca6-4417-8222-3e7e08151ebf]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3b015354-dca6-4417-8222-3e7e08151ebf]   [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 13:56:46.105129"]]
[ActiveJob] [UploadArticleImageJob] [3b015354-dca6-4417-8222-3e7e08151ebf]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 13:56:46.106305"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [3b015354-dca6-4417-8222-3e7e08151ebf]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3b015354-dca6-4417-8222-3e7e08151ebf] Enqueued ActiveStorage::AnalyzeJob (Job ID: a5ac3831-45f3-442d-ae42-3f76430f0f90) to Test(default) with arguments: #<GlobalID:0x00007fa853e57470 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [3b015354-dca6-4417-8222-3e7e08151ebf] Performed UploadArticleImageJob (Job ID: 3b015354-dca6-4417-8222-3e7e08151ebf) from Async(default) in 23644.06ms
[ActiveJob] [UploadArticleImageJob] [2c0470af-3020-4ea4-b677-a72365891954]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [2c0470af-3020-4ea4-b677-a72365891954] [36m  Disk Storage (2.6ms) [0m[32mUploaded file to key: T3qnrg4nVwixAhTKrU5UnNkg (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [2c0470af-3020-4ea4-b677-a72365891954]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [2c0470af-3020-4ea4-b677-a72365891954]   [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "T3qnrg4nVwixAhTKrU5UnNkg"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 13:56:46.115149"]]
[ActiveJob] [UploadArticleImageJob] [2c0470af-3020-4ea4-b677-a72365891954]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [2c0470af-3020-4ea4-b677-a72365891954]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [2c0470af-3020-4ea4-b677-a72365891954]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 2], ["created_at", "2019-03-10 13:56:46.116721"]]
[ActiveJob] [UploadArticleImageJob] [2c0470af-3020-4ea4-b677-a72365891954]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 13:56:46.117384"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [2c0470af-3020-4ea4-b677-a72365891954]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [2c0470af-3020-4ea4-b677-a72365891954] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1258acc3-7ac6-4aef-9fde-674a78d2696b) to Test(default) with arguments: #<GlobalID:0x00007fa85a9176e8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/2>>
[ActiveJob] [UploadArticleImageJob] [2c0470af-3020-4ea4-b677-a72365891954] Performed UploadArticleImageJob (Job ID: 2c0470af-3020-4ea4-b677-a72365891954) from Test(default) in 14368.63ms
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:57:10.271857', '2019-03-10 13:57:10.271857', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:57:10.271857', '2019-03-10 13:57:10.271857', 298486374)[0m
  [1m[35m (2.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:57:10 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 2ced4ec1-fd88-4cdb-ad60-7ca183145fce) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
[ActiveJob] [UploadArticleImageJob] [2ced4ec1-fd88-4cdb-ad60-7ca183145fce] Performing UploadArticleImageJob (Job ID: 2ced4ec1-fd88-4cdb-ad60-7ca183145fce) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", nil
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.8ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:57:17.357806"], ["updated_at", "2019-03-10 13:57:17.357806"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] [UploadArticleImageJob] [2ced4ec1-fd88-4cdb-ad60-7ca183145fce] Error performing UploadArticleImageJob (Job ID: 2ced4ec1-fd88-4cdb-ad60-7ca183145fce) from Async(default) in 13647.91ms: NoMethodError (undefined method `id' for nil:NilClass):
/Users/Alex/thinknetica/blog/app/helpers/articles_helper.rb:4:in `upload_image'
/Users/Alex/thinknetica/blog/app/jobs/upload_article_image_job.rb:6:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:39:in `block in perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/i18n-1.6.0/lib/i18n.rb:297:in `with_locale'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:26:in `block (4 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `block in instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:25:in `block (3 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `block in tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:22:in `block (2 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:38:in `perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:24:in `block in execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:28:in `block (4 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:73:in `block in wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:72:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:27:in `block (3 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:22:in `execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 84350450-9f7f-4099-b24a-ded075b874f5) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa8561e8740 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 24434ms (ActiveRecord: 1.0ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [84350450-9f7f-4099-b24a-ded075b874f5] Performing UploadArticleImageJob (Job ID: 84350450-9f7f-4099-b24a-ded075b874f5) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa856a47d50 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:57:34 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:57:34.893424"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:57:34 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 1437ms (ActiveRecord: 1.3ms)
[ActiveJob] [UploadArticleImageJob] [84350450-9f7f-4099-b24a-ded075b874f5]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [2e49a9d6-d5b4-4b23-99cb-521b0c726fd5] Performing UploadArticleImageJob (Job ID: 2e49a9d6-d5b4-4b23-99cb-521b0c726fd5) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa8546967a8 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [84350450-9f7f-4099-b24a-ded075b874f5] [36m  Disk Storage (4.6ms) [0m[32mUploaded file to key: 4zLTLtTj7qADGFc6gXCqJUFG (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [84350450-9f7f-4099-b24a-ded075b874f5]   [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [84350450-9f7f-4099-b24a-ded075b874f5]   [1m[36mActiveStorage::Blob Create (1.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "4zLTLtTj7qADGFc6gXCqJUFG"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 13:57:36.392264"]]
[ActiveJob] [UploadArticleImageJob] [84350450-9f7f-4099-b24a-ded075b874f5]   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [84350450-9f7f-4099-b24a-ded075b874f5]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [84350450-9f7f-4099-b24a-ded075b874f5]   [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 13:57:36.407687"]]
[ActiveJob] [UploadArticleImageJob] [84350450-9f7f-4099-b24a-ded075b874f5]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 13:57:36.409786"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [84350450-9f7f-4099-b24a-ded075b874f5]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [84350450-9f7f-4099-b24a-ded075b874f5] Enqueued ActiveStorage::AnalyzeJob (Job ID: f19d048b-93fa-4691-94e8-45f70bc4e635) to Test(default) with arguments: #<GlobalID:0x00007fa856570188 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [84350450-9f7f-4099-b24a-ded075b874f5] Performed UploadArticleImageJob (Job ID: 84350450-9f7f-4099-b24a-ded075b874f5) from Async(default) in 1525.96ms
[ActiveJob] [UploadArticleImageJob] [2e49a9d6-d5b4-4b23-99cb-521b0c726fd5]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [2e49a9d6-d5b4-4b23-99cb-521b0c726fd5] [36m  Disk Storage (4.7ms) [0m[32mUploaded file to key: xey53hzZxNunjuNQGRUKxCmc (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [2e49a9d6-d5b4-4b23-99cb-521b0c726fd5]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [2e49a9d6-d5b4-4b23-99cb-521b0c726fd5]   [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xey53hzZxNunjuNQGRUKxCmc"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 13:57:37.182426"]]
[ActiveJob] [UploadArticleImageJob] [2e49a9d6-d5b4-4b23-99cb-521b0c726fd5]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [2e49a9d6-d5b4-4b23-99cb-521b0c726fd5]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [2e49a9d6-d5b4-4b23-99cb-521b0c726fd5]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 2], ["created_at", "2019-03-10 13:57:37.184402"]]
[ActiveJob] [UploadArticleImageJob] [2e49a9d6-d5b4-4b23-99cb-521b0c726fd5]   [1m[36mArticle Update (0.2ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 13:57:37.185109"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [2e49a9d6-d5b4-4b23-99cb-521b0c726fd5]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [2e49a9d6-d5b4-4b23-99cb-521b0c726fd5] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4f7105ae-559b-4efe-bc6d-1f9ae0fcb809) to Test(default) with arguments: #<GlobalID:0x00007fa853dd3fa8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/2>>
[ActiveJob] [UploadArticleImageJob] [2e49a9d6-d5b4-4b23-99cb-521b0c726fd5] Performed UploadArticleImageJob (Job ID: 2e49a9d6-d5b4-4b23-99cb-521b0c726fd5) from Test(default) in 800.3ms
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:58:28.386465', '2019-03-10 13:58:28.386465', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:58:28.386465', '2019-03-10 13:58:28.386465', 298486374)[0m
  [1m[35m (3.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:58:28 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 20ms (ActiveRecord: 0.8ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:58:28 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:58:40.534659"], ["updated_at", "2019-03-10 13:58:40.534659"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 7f28a53d-d495-40b2-9a5a-6d7c698fadeb) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa856bb95d0 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 30781ms (ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [7f28a53d-d495-40b2-9a5a-6d7c698fadeb] Performing UploadArticleImageJob (Job ID: 7f28a53d-d495-40b2-9a5a-6d7c698fadeb) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa8563ae8e0 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [7f28a53d-d495-40b2-9a5a-6d7c698fadeb]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:58:59 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:58:59.434787"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:58:59.443385', '2019-03-10 13:58:59.443385', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:58:59.443385', '2019-03-10 13:58:59.443385', 298486374)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [a18340d3-a641-4b9a-bbbb-6f1fa7d0a639] Performing UploadArticleImageJob (Job ID: a18340d3-a641-4b9a-bbbb-6f1fa7d0a639) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa856c66690 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [a18340d3-a641-4b9a-bbbb-6f1fa7d0a639]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [7f28a53d-d495-40b2-9a5a-6d7c698fadeb] [36m  Disk Storage (9.6ms) [0m[32mUploaded file to key: N2dF9rdACBTVskBg9c2BphPa (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [7f28a53d-d495-40b2-9a5a-6d7c698fadeb]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [7f28a53d-d495-40b2-9a5a-6d7c698fadeb]   [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "N2dF9rdACBTVskBg9c2BphPa"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 13:58:59.453203"]]
[ActiveJob] [UploadArticleImageJob] [7f28a53d-d495-40b2-9a5a-6d7c698fadeb]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [7f28a53d-d495-40b2-9a5a-6d7c698fadeb]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [7f28a53d-d495-40b2-9a5a-6d7c698fadeb]   [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 13:58:59.466169"]]
[ActiveJob] [UploadArticleImageJob] [7f28a53d-d495-40b2-9a5a-6d7c698fadeb]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 13:58:59.467499"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [7f28a53d-d495-40b2-9a5a-6d7c698fadeb]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [7f28a53d-d495-40b2-9a5a-6d7c698fadeb] Enqueued ActiveStorage::AnalyzeJob (Job ID: f966e057-9105-4526-b221-147d303aaa89) to Test(default) with arguments: #<GlobalID:0x00007fa853da4fc8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [7f28a53d-d495-40b2-9a5a-6d7c698fadeb] Performed UploadArticleImageJob (Job ID: 7f28a53d-d495-40b2-9a5a-6d7c698fadeb) from Async(default) in 81.49ms
[ActiveJob] [UploadArticleImageJob] [a18340d3-a641-4b9a-bbbb-6f1fa7d0a639] [36m  Disk Storage (20.1ms) [0m[32mUploaded file to key: w6TJCrsahUL11gQTPSbgYDP2 (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [a18340d3-a641-4b9a-bbbb-6f1fa7d0a639]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [a18340d3-a641-4b9a-bbbb-6f1fa7d0a639]   [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "w6TJCrsahUL11gQTPSbgYDP2"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 13:58:59.471951"]]
[ActiveJob] [UploadArticleImageJob] [a18340d3-a641-4b9a-bbbb-6f1fa7d0a639]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [a18340d3-a641-4b9a-bbbb-6f1fa7d0a639]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [a18340d3-a641-4b9a-bbbb-6f1fa7d0a639]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 2], ["created_at", "2019-03-10 13:58:59.473503"]]
[ActiveJob] [UploadArticleImageJob] [a18340d3-a641-4b9a-bbbb-6f1fa7d0a639]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 13:58:59.474072"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [a18340d3-a641-4b9a-bbbb-6f1fa7d0a639]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [a18340d3-a641-4b9a-bbbb-6f1fa7d0a639] Enqueued ActiveStorage::AnalyzeJob (Job ID: f3bf5cce-22e4-41ec-a034-92a904533948) to Test(default) with arguments: #<GlobalID:0x00007fa853d8f150 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/2>>
[ActiveJob] [UploadArticleImageJob] [a18340d3-a641-4b9a-bbbb-6f1fa7d0a639] Performed UploadArticleImageJob (Job ID: a18340d3-a641-4b9a-bbbb-6f1fa7d0a639) from Test(default) in 26.82ms
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 13:59:56.562983', '2019-03-10 13:59:56.562983', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 13:59:56.562983', '2019-03-10 13:59:56.562983', 298486374)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [680fff82-7c9c-4337-8adb-f6cf72765d56] Performing UploadArticleImageJob (Job ID: 680fff82-7c9c-4337-8adb-f6cf72765d56) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa856c3f950 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [680fff82-7c9c-4337-8adb-f6cf72765d56]   [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [680fff82-7c9c-4337-8adb-f6cf72765d56] [36m  Disk Storage (3.3ms) [0m[32mUploaded file to key: P6TwFGLpLUSDunp9MBe4XJiv (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [680fff82-7c9c-4337-8adb-f6cf72765d56]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [680fff82-7c9c-4337-8adb-f6cf72765d56]   [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "P6TwFGLpLUSDunp9MBe4XJiv"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 13:59:56.687254"]]
[ActiveJob] [UploadArticleImageJob] [680fff82-7c9c-4337-8adb-f6cf72765d56]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [680fff82-7c9c-4337-8adb-f6cf72765d56]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [680fff82-7c9c-4337-8adb-f6cf72765d56]   [1m[36mActiveStorage::Attachment Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 13:59:56.699916"]]
[ActiveJob] [UploadArticleImageJob] [680fff82-7c9c-4337-8adb-f6cf72765d56]   [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 13:59:56.702018"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [680fff82-7c9c-4337-8adb-f6cf72765d56]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [680fff82-7c9c-4337-8adb-f6cf72765d56] Enqueued ActiveStorage::AnalyzeJob (Job ID: df95229f-6d4f-4ac2-8107-890c9dc3e644) to Test(default) with arguments: #<GlobalID:0x00007fa85639e710 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [680fff82-7c9c-4337-8adb-f6cf72765d56] Performed UploadArticleImageJob (Job ID: 680fff82-7c9c-4337-8adb-f6cf72765d56) from Test(default) in 80.51ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 17:59:56 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 13:59:56.871234"], ["updated_at", "2019-03-10 13:59:56.871234"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: fa7d2f07-55e7-4a6f-86db-1c85c7dd3463) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa856bf3410 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
[ActiveJob] [UploadArticleImageJob] [fa7d2f07-55e7-4a6f-86db-1c85c7dd3463] Performing UploadArticleImageJob (Job ID: fa7d2f07-55e7-4a6f-86db-1c85c7dd3463) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa85640df20 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [fa7d2f07-55e7-4a6f-86db-1c85c7dd3463]   [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:59:56 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 17:59:56 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 13:59:56.903523"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [fa7d2f07-55e7-4a6f-86db-1c85c7dd3463] [36m  Disk Storage (25.6ms) [0m[32mUploaded file to key: mrj3cwemep6xPAjPHQcXRpVK (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [fa7d2f07-55e7-4a6f-86db-1c85c7dd3463] Performed UploadArticleImageJob (Job ID: fa7d2f07-55e7-4a6f-86db-1c85c7dd3463) from Async(default) in 33.56ms
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:00:34.035139', '2019-03-10 14:00:34.035139', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:00:34.035139', '2019-03-10 14:00:34.035139', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [73d24997-f483-4ad8-8b84-2e29634b7f04] Performing UploadArticleImageJob (Job ID: 73d24997-f483-4ad8-8b84-2e29634b7f04) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa856b7a790 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [73d24997-f483-4ad8-8b84-2e29634b7f04]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [73d24997-f483-4ad8-8b84-2e29634b7f04] [36m  Disk Storage (3.9ms) [0m[32mUploaded file to key: C5K6PA3f9WFqh6mE543gyxyX (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [73d24997-f483-4ad8-8b84-2e29634b7f04]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [73d24997-f483-4ad8-8b84-2e29634b7f04]   [1m[36mActiveStorage::Blob Create (1.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "C5K6PA3f9WFqh6mE543gyxyX"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:00:34.117980"]]
[ActiveJob] [UploadArticleImageJob] [73d24997-f483-4ad8-8b84-2e29634b7f04]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [73d24997-f483-4ad8-8b84-2e29634b7f04]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [73d24997-f483-4ad8-8b84-2e29634b7f04]   [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 14:00:34.131503"]]
[ActiveJob] [UploadArticleImageJob] [73d24997-f483-4ad8-8b84-2e29634b7f04]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:00:34.132627"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [73d24997-f483-4ad8-8b84-2e29634b7f04]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [73d24997-f483-4ad8-8b84-2e29634b7f04] Enqueued ActiveStorage::AnalyzeJob (Job ID: ac9364ab-df81-4da2-b8d7-a1cafcd4710d) to Test(default) with arguments: #<GlobalID:0x00007fa8564ec658 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [73d24997-f483-4ad8-8b84-2e29634b7f04] Performed UploadArticleImageJob (Job ID: 73d24997-f483-4ad8-8b84-2e29634b7f04) from Test(default) in 32100.35ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:01:06 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:01:06 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 14:01:06.334231"], ["updated_at", "2019-03-10 14:01:06.334231"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 6a22ff2c-20cf-46c1-8bbc-25397a607c9e) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa854764108 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [6a22ff2c-20cf-46c1-8bbc-25397a607c9e] Performing UploadArticleImageJob (Job ID: 6a22ff2c-20cf-46c1-8bbc-25397a607c9e) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa853d4ba90 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [6a22ff2c-20cf-46c1-8bbc-25397a607c9e]   [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:01:06 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 14:01:06.351391"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [6a22ff2c-20cf-46c1-8bbc-25397a607c9e] [36m  Disk Storage (13.5ms) [0m[32mUploaded file to key: dJqbcDBYr9WTE5utztqgm3Rf (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [6a22ff2c-20cf-46c1-8bbc-25397a607c9e] Performed UploadArticleImageJob (Job ID: 6a22ff2c-20cf-46c1-8bbc-25397a607c9e) from Async(default) in 19.81ms
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:01:42.213400', '2019-03-10 14:01:42.213400', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:01:42.213400', '2019-03-10 14:01:42.213400', 298486374)[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [4bdcdd27-f5c1-4b5c-af58-5c2abd7d08b2] Performing UploadArticleImageJob (Job ID: 4bdcdd27-f5c1-4b5c-af58-5c2abd7d08b2) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa8564958a8 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [4bdcdd27-f5c1-4b5c-af58-5c2abd7d08b2]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [4bdcdd27-f5c1-4b5c-af58-5c2abd7d08b2] [36m  Disk Storage (2.9ms) [0m[32mUploaded file to key: MfBS7BsEfhRqFKWRqkCHUjYg (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [4bdcdd27-f5c1-4b5c-af58-5c2abd7d08b2]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [4bdcdd27-f5c1-4b5c-af58-5c2abd7d08b2]   [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "MfBS7BsEfhRqFKWRqkCHUjYg"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:01:42.316630"]]
[ActiveJob] [UploadArticleImageJob] [4bdcdd27-f5c1-4b5c-af58-5c2abd7d08b2]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [4bdcdd27-f5c1-4b5c-af58-5c2abd7d08b2]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [4bdcdd27-f5c1-4b5c-af58-5c2abd7d08b2]   [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 14:01:42.327103"]]
[ActiveJob] [UploadArticleImageJob] [4bdcdd27-f5c1-4b5c-af58-5c2abd7d08b2]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:01:42.328146"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [4bdcdd27-f5c1-4b5c-af58-5c2abd7d08b2]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [4bdcdd27-f5c1-4b5c-af58-5c2abd7d08b2] Enqueued ActiveStorage::AnalyzeJob (Job ID: f55e0df6-0370-4170-96fd-9b2eb10784ee) to Test(default) with arguments: #<GlobalID:0x00007fa856346fb0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [4bdcdd27-f5c1-4b5c-af58-5c2abd7d08b2] Performed UploadArticleImageJob (Job ID: 4bdcdd27-f5c1-4b5c-af58-5c2abd7d08b2) from Test(default) in 98.78ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:01:42 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:01:42.412207"], ["updated_at", "2019-03-10 14:01:42.412207"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 06df7e6b-b018-41e5-b459-ccee59bffc7d) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa856b91558 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
[ActiveJob] [UploadArticleImageJob] [06df7e6b-b018-41e5-b459-ccee59bffc7d] Performing UploadArticleImageJob (Job ID: 06df7e6b-b018-41e5-b459-ccee59bffc7d) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007fa854431eb8 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [06df7e6b-b018-41e5-b459-ccee59bffc7d]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:01:42 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:01:42 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 14:01:42.434901"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [06df7e6b-b018-41e5-b459-ccee59bffc7d] [36m  Disk Storage (18.0ms) [0m[32mUploaded file to key: oHGWsWxSjWMCgJRJD6wCo92F (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [06df7e6b-b018-41e5-b459-ccee59bffc7d]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [UploadArticleImageJob] [06df7e6b-b018-41e5-b459-ccee59bffc7d]   [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "oHGWsWxSjWMCgJRJD6wCo92F"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:01:42.444719"]]
[ActiveJob] [UploadArticleImageJob] [06df7e6b-b018-41e5-b459-ccee59bffc7d]   [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [06df7e6b-b018-41e5-b459-ccee59bffc7d] Performed UploadArticleImageJob (Job ID: 06df7e6b-b018-41e5-b459-ccee59bffc7d) from Async(default) in 30.66ms
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:03:21.024190', '2019-03-10 14:03:21.024190', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:03:21.024190', '2019-03-10 14:03:21.024190', 298486374)[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:03:21 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 33ms (ActiveRecord: 1.3ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:03:21 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 14:03:21.446436"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:03:21 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:03:21.452169"], ["updated_at", "2019-03-10 14:03:21.452169"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 9b76af2b-970e-4d5c-a95d-a73affdb62f8) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f95c9c43f68 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [c46f69ff-168b-48e7-9c2a-d42edd69041f] Performing UploadArticleImageJob (Job ID: c46f69ff-168b-48e7-9c2a-d42edd69041f) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f95ca553428 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [c46f69ff-168b-48e7-9c2a-d42edd69041f]   [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [c46f69ff-168b-48e7-9c2a-d42edd69041f] [36m  Disk Storage (2.9ms) [0m[32mUploaded file to key: Bdpwqyeb77ZVkByqFrwxk3aQ (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [c46f69ff-168b-48e7-9c2a-d42edd69041f]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [c46f69ff-168b-48e7-9c2a-d42edd69041f]   [1m[36mActiveStorage::Blob Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "Bdpwqyeb77ZVkByqFrwxk3aQ"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:03:21.660725"]]
[ActiveJob] [UploadArticleImageJob] [c46f69ff-168b-48e7-9c2a-d42edd69041f]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [c46f69ff-168b-48e7-9c2a-d42edd69041f]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [c46f69ff-168b-48e7-9c2a-d42edd69041f]   [1m[36mActiveStorage::Attachment Create (1.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 14:03:21.674264"]]
[ActiveJob] [UploadArticleImageJob] [c46f69ff-168b-48e7-9c2a-d42edd69041f]   [1m[36mArticle Update (0.2ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:03:21.676646"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [c46f69ff-168b-48e7-9c2a-d42edd69041f]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [c46f69ff-168b-48e7-9c2a-d42edd69041f] Enqueued ActiveStorage::AnalyzeJob (Job ID: b66e1177-60af-4287-ab7a-7a5ea91017dc) to Test(default) with arguments: #<GlobalID:0x00007f95ca642528 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [c46f69ff-168b-48e7-9c2a-d42edd69041f] Performed UploadArticleImageJob (Job ID: c46f69ff-168b-48e7-9c2a-d42edd69041f) from Test(default) in 121.03ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:05:46.080554', '2019-03-10 14:05:46.080554', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:05:46.080554', '2019-03-10 14:05:46.080554', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.7ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [8080115d-2ce8-41ae-8b35-61d8d065a206] Performing UploadArticleImageJob (Job ID: 8080115d-2ce8-41ae-8b35-61d8d065a206) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b91563f28 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [8080115d-2ce8-41ae-8b35-61d8d065a206]   [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [8080115d-2ce8-41ae-8b35-61d8d065a206] [36m  Disk Storage (2.8ms) [0m[32mUploaded file to key: uGnLTKs6jzMjq8LH9mzf4Sar (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [8080115d-2ce8-41ae-8b35-61d8d065a206]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [8080115d-2ce8-41ae-8b35-61d8d065a206]   [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "uGnLTKs6jzMjq8LH9mzf4Sar"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:05:46.194392"]]
[ActiveJob] [UploadArticleImageJob] [8080115d-2ce8-41ae-8b35-61d8d065a206]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [8080115d-2ce8-41ae-8b35-61d8d065a206]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [8080115d-2ce8-41ae-8b35-61d8d065a206]   [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 14:05:46.205717"]]
[ActiveJob] [UploadArticleImageJob] [8080115d-2ce8-41ae-8b35-61d8d065a206]   [1m[36mArticle Update (0.2ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:05:46.207574"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [8080115d-2ce8-41ae-8b35-61d8d065a206]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [8080115d-2ce8-41ae-8b35-61d8d065a206] Enqueued ActiveStorage::AnalyzeJob (Job ID: 298daaed-7dd5-40e5-8b10-f1d6d084634f) to Test(default) with arguments: #<GlobalID:0x00007f8b92b96250 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [8080115d-2ce8-41ae-8b35-61d8d065a206] Performed UploadArticleImageJob (Job ID: 8080115d-2ce8-41ae-8b35-61d8d065a206) from Test(default) in 91.21ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:05:46 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:05:46 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:05:46.449690"], ["updated_at", "2019-03-10 14:05:46.449690"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 5d37fb44-4a67-4df0-ba53-7b2700262db4) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b914bc7f0 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
[ActiveJob] [UploadArticleImageJob] [5d37fb44-4a67-4df0-ba53-7b2700262db4] Performing UploadArticleImageJob (Job ID: 5d37fb44-4a67-4df0-ba53-7b2700262db4) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90b7bee8 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [5d37fb44-4a67-4df0-ba53-7b2700262db4]   [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:05:46 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 14:05:46.531602"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [5d37fb44-4a67-4df0-ba53-7b2700262db4] [36m  Disk Storage (11.2ms) [0m[32mUploaded file to key: uyRLNuXa2uYnfwr1zjg57vgt (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [5d37fb44-4a67-4df0-ba53-7b2700262db4] Performed UploadArticleImageJob (Job ID: 5d37fb44-4a67-4df0-ba53-7b2700262db4) from Async(default) in 83.76ms
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:06:42.069731', '2019-03-10 14:06:42.069731', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:06:42.069731', '2019-03-10 14:06:42.069731', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [c9390bca-09b4-488a-8643-86ae05fa3389] Performing UploadArticleImageJob (Job ID: c9390bca-09b4-488a-8643-86ae05fa3389) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90445458 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [c9390bca-09b4-488a-8643-86ae05fa3389]   [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [c9390bca-09b4-488a-8643-86ae05fa3389] [36m  Disk Storage (3.8ms) [0m[32mUploaded file to key: pr5MNpDB39c9XjUNSyboCuqv (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [c9390bca-09b4-488a-8643-86ae05fa3389]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [c9390bca-09b4-488a-8643-86ae05fa3389]   [1m[36mActiveStorage::Blob Create (1.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "pr5MNpDB39c9XjUNSyboCuqv"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:06:42.185494"]]
[ActiveJob] [UploadArticleImageJob] [c9390bca-09b4-488a-8643-86ae05fa3389]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [c9390bca-09b4-488a-8643-86ae05fa3389]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [c9390bca-09b4-488a-8643-86ae05fa3389]   [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 14:06:42.207759"]]
[ActiveJob] [UploadArticleImageJob] [c9390bca-09b4-488a-8643-86ae05fa3389]   [1m[36mArticle Update (0.2ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:06:42.209905"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [c9390bca-09b4-488a-8643-86ae05fa3389]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [c9390bca-09b4-488a-8643-86ae05fa3389] Enqueued ActiveStorage::AnalyzeJob (Job ID: a1f1beb0-cf8d-4349-aca0-50b5a9f017e4) to Test(default) with arguments: #<GlobalID:0x00007f8b90329f10 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [c9390bca-09b4-488a-8643-86ae05fa3389] Performed UploadArticleImageJob (Job ID: c9390bca-09b4-488a-8643-86ae05fa3389) from Test(default) in 125.75ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:06:42 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:06:42 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 14:06:42.449416"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:06:42 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:06:42.455407"], ["updated_at", "2019-03-10 14:06:42.455407"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: ffd373ee-ee52-437d-9c9a-0e7ed1e1e78b) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92c32ba0 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [ffd373ee-ee52-437d-9c9a-0e7ed1e1e78b] Performing UploadArticleImageJob (Job ID: ffd373ee-ee52-437d-9c9a-0e7ed1e1e78b) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90c87260 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [ffd373ee-ee52-437d-9c9a-0e7ed1e1e78b]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [ffd373ee-ee52-437d-9c9a-0e7ed1e1e78b] [36m  Disk Storage (21.3ms) [0m[32mUploaded file to key: DzrvsJbMUjVMg47eeDPiqgqo (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [ffd373ee-ee52-437d-9c9a-0e7ed1e1e78b]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [ffd373ee-ee52-437d-9c9a-0e7ed1e1e78b]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "DzrvsJbMUjVMg47eeDPiqgqo"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:06:42.492280"]]
[ActiveJob] [UploadArticleImageJob] [ffd373ee-ee52-437d-9c9a-0e7ed1e1e78b]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [ffd373ee-ee52-437d-9c9a-0e7ed1e1e78b]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [ffd373ee-ee52-437d-9c9a-0e7ed1e1e78b]   [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:06:42.494620"]]
[ActiveJob] [UploadArticleImageJob] [ffd373ee-ee52-437d-9c9a-0e7ed1e1e78b]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:06:42.495645"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [ffd373ee-ee52-437d-9c9a-0e7ed1e1e78b]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [ffd373ee-ee52-437d-9c9a-0e7ed1e1e78b] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0624a582-282a-46fd-a2ef-2f990d1e6691) to Async(default) with arguments: #<GlobalID:0x00007f8b90d09c38 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [ffd373ee-ee52-437d-9c9a-0e7ed1e1e78b] Performed UploadArticleImageJob (Job ID: ffd373ee-ee52-437d-9c9a-0e7ed1e1e78b) from Async(default) in 36.53ms
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0624a582-282a-46fd-a2ef-2f990d1e6691] Performing ActiveStorage::AnalyzeJob (Job ID: 0624a582-282a-46fd-a2ef-2f990d1e6691) from Async(default) with arguments: #<GlobalID:0x00007f8b90cf0968 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [0624a582-282a-46fd-a2ef-2f990d1e6691] [36m  Disk Storage (1.4ms) [0m[34mDownloaded file from key: DzrvsJbMUjVMg47eeDPiqgqo[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0624a582-282a-46fd-a2ef-2f990d1e6691] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [0624a582-282a-46fd-a2ef-2f990d1e6691]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0624a582-282a-46fd-a2ef-2f990d1e6691]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0624a582-282a-46fd-a2ef-2f990d1e6691]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0624a582-282a-46fd-a2ef-2f990d1e6691] Performed ActiveStorage::AnalyzeJob (Job ID: 0624a582-282a-46fd-a2ef-2f990d1e6691) from Async(default) in 8.43ms
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:08:35.195088', '2019-03-10 14:08:35.195088', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:08:35.195088', '2019-03-10 14:08:35.195088', 298486374)[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:08:35 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 20ms (ActiveRecord: 1.3ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:08:35 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 14:08:35.402464"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:08:35 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:08:35.412476"], ["updated_at", "2019-03-10 14:08:35.412476"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: c5f3edee-3a00-4cf0-920b-35c7732fd894) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90d80518 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 32364ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [c5f3edee-3a00-4cf0-920b-35c7732fd894] Performing UploadArticleImageJob (Job ID: c5f3edee-3a00-4cf0-920b-35c7732fd894) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9044f9d0 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [fb063fa2-fa73-4d1f-8f7f-5bdff273545b] Performing UploadArticleImageJob (Job ID: fb063fa2-fa73-4d1f-8f7f-5bdff273545b) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9172c698 @uri=#<URI::GID gid://blog/Article/980190962>>
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:09:50.579008', '2019-03-10 14:09:50.579008', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:09:50.579008', '2019-03-10 14:09:50.579008', 298486374)[0m
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:09:50 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:09:50.753961"], ["updated_at", "2019-03-10 14:09:50.753961"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: d84921ff-1ff8-41b6-a390-7e4fbda46d65) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90c3ea88 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d84921ff-1ff8-41b6-a390-7e4fbda46d65] Performing UploadArticleImageJob (Job ID: d84921ff-1ff8-41b6-a390-7e4fbda46d65) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92c330a0 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 18ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:10:03 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3294ms (ActiveRecord: 1.2ms)
[ActiveJob] [UploadArticleImageJob] [d84921ff-1ff8-41b6-a390-7e4fbda46d65]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:10:06 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 14:10:06.412225"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [946f5c21-f201-415d-8dbf-c187cba9798f] Performing UploadArticleImageJob (Job ID: 946f5c21-f201-415d-8dbf-c187cba9798f) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b904ff3a8 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [d84921ff-1ff8-41b6-a390-7e4fbda46d65] [36m  Disk Storage (9.9ms) [0m[32mUploaded file to key: HST6iHKxTXFRWFbAoWWboh26 (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [d84921ff-1ff8-41b6-a390-7e4fbda46d65]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d84921ff-1ff8-41b6-a390-7e4fbda46d65]   [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "HST6iHKxTXFRWFbAoWWboh26"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:10:06.429358"]]
[ActiveJob] [UploadArticleImageJob] [d84921ff-1ff8-41b6-a390-7e4fbda46d65]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d84921ff-1ff8-41b6-a390-7e4fbda46d65]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d84921ff-1ff8-41b6-a390-7e4fbda46d65]   [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:10:06.441366"]]
[ActiveJob] [UploadArticleImageJob] [d84921ff-1ff8-41b6-a390-7e4fbda46d65]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:10:06.443332"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [d84921ff-1ff8-41b6-a390-7e4fbda46d65]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d84921ff-1ff8-41b6-a390-7e4fbda46d65] Enqueued ActiveStorage::AnalyzeJob (Job ID: fa171cd7-330a-4e47-9f83-ded85af801cb) to Test(default) with arguments: #<GlobalID:0x00007f8b97047020 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [d84921ff-1ff8-41b6-a390-7e4fbda46d65] Performed UploadArticleImageJob (Job ID: d84921ff-1ff8-41b6-a390-7e4fbda46d65) from Async(default) in 15682.15ms
[ActiveJob] [UploadArticleImageJob] [946f5c21-f201-415d-8dbf-c187cba9798f]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [946f5c21-f201-415d-8dbf-c187cba9798f] [36m  Disk Storage (2.7ms) [0m[32mUploaded file to key: scoNfmJSVEsFivjh9KYrKajm (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [946f5c21-f201-415d-8dbf-c187cba9798f]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [946f5c21-f201-415d-8dbf-c187cba9798f]   [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "scoNfmJSVEsFivjh9KYrKajm"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:10:08.875503"]]
[ActiveJob] [UploadArticleImageJob] [946f5c21-f201-415d-8dbf-c187cba9798f]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [946f5c21-f201-415d-8dbf-c187cba9798f]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [946f5c21-f201-415d-8dbf-c187cba9798f]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 2], ["created_at", "2019-03-10 14:10:08.877234"]]
[ActiveJob] [UploadArticleImageJob] [946f5c21-f201-415d-8dbf-c187cba9798f]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:10:08.877921"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [946f5c21-f201-415d-8dbf-c187cba9798f]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [946f5c21-f201-415d-8dbf-c187cba9798f] Enqueued ActiveStorage::AnalyzeJob (Job ID: 55422fb6-adf0-4b16-9240-da8edadce151) to Test(default) with arguments: #<GlobalID:0x00007f8b9707e7c8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/2>>
[ActiveJob] [UploadArticleImageJob] [946f5c21-f201-415d-8dbf-c187cba9798f] Performed UploadArticleImageJob (Job ID: 946f5c21-f201-415d-8dbf-c187cba9798f) from Test(default) in 2454.36ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:10:33.978773', '2019-03-10 14:10:33.978773', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:10:33.978773', '2019-03-10 14:10:33.978773', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:10:34 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:10:34.188552"], ["updated_at", "2019-03-10 14:10:34.188552"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 263e38b8-5cb1-4649-a1a5-6a50f465215d) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b903e7970 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 29ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [263e38b8-5cb1-4649-a1a5-6a50f465215d] Performing UploadArticleImageJob (Job ID: 263e38b8-5cb1-4649-a1a5-6a50f465215d) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b916145a8 @uri=#<URI::GID gid://blog/Article/980190963>>
[ActiveJob] [UploadArticleImageJob] [263e38b8-5cb1-4649-a1a5-6a50f465215d]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [263e38b8-5cb1-4649-a1a5-6a50f465215d] [36m  Disk Storage (3.0ms) [0m[32mUploaded file to key: 8Sm1Qg8WeXq9XULoe4HVWi9r (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [263e38b8-5cb1-4649-a1a5-6a50f465215d]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [263e38b8-5cb1-4649-a1a5-6a50f465215d]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "8Sm1Qg8WeXq9XULoe4HVWi9r"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:10:49.325527"]]
[ActiveJob] [UploadArticleImageJob] [263e38b8-5cb1-4649-a1a5-6a50f465215d]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [263e38b8-5cb1-4649-a1a5-6a50f465215d]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [263e38b8-5cb1-4649-a1a5-6a50f465215d]   [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:10:49.339205"]]
[ActiveJob] [UploadArticleImageJob] [263e38b8-5cb1-4649-a1a5-6a50f465215d]   [1m[36mArticle Update (0.2ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:10:49.340838"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [263e38b8-5cb1-4649-a1a5-6a50f465215d]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [263e38b8-5cb1-4649-a1a5-6a50f465215d] Enqueued ActiveStorage::AnalyzeJob (Job ID: db7fe71d-f76b-4dde-894c-69defdbea72d) to Async(default) with arguments: #<GlobalID:0x00007f8b916ed448 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [263e38b8-5cb1-4649-a1a5-6a50f465215d] Performed UploadArticleImageJob (Job ID: 263e38b8-5cb1-4649-a1a5-6a50f465215d) from Async(default) in 15071.27ms
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [db7fe71d-f76b-4dde-894c-69defdbea72d] Performing ActiveStorage::AnalyzeJob (Job ID: db7fe71d-f76b-4dde-894c-69defdbea72d) from Async(default) with arguments: #<GlobalID:0x00007f8b916fbd40 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [db7fe71d-f76b-4dde-894c-69defdbea72d] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: 8Sm1Qg8WeXq9XULoe4HVWi9r[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [db7fe71d-f76b-4dde-894c-69defdbea72d] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [db7fe71d-f76b-4dde-894c-69defdbea72d]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [db7fe71d-f76b-4dde-894c-69defdbea72d]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [db7fe71d-f76b-4dde-894c-69defdbea72d]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [db7fe71d-f76b-4dde-894c-69defdbea72d] Performed ActiveStorage::AnalyzeJob (Job ID: db7fe71d-f76b-4dde-894c-69defdbea72d) from Async(default) in 5.77ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:10:49 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 14:10:49.362360"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:10:49 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.4ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [57db691b-bcd9-463d-ba26-e1e7c0edf354] Performing UploadArticleImageJob (Job ID: 57db691b-bcd9-463d-ba26-e1e7c0edf354) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b91721798 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [57db691b-bcd9-463d-ba26-e1e7c0edf354]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [57db691b-bcd9-463d-ba26-e1e7c0edf354] [36m  Disk Storage (4.1ms) [0m[32mUploaded file to key: b3fgdnthnBAuKoLCa1ksXSRt (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [57db691b-bcd9-463d-ba26-e1e7c0edf354]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [57db691b-bcd9-463d-ba26-e1e7c0edf354]   [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "b3fgdnthnBAuKoLCa1ksXSRt"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:10:52.130990"]]
[ActiveJob] [UploadArticleImageJob] [57db691b-bcd9-463d-ba26-e1e7c0edf354]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [57db691b-bcd9-463d-ba26-e1e7c0edf354]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [57db691b-bcd9-463d-ba26-e1e7c0edf354]   [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 14:10:52.133068"]]
[ActiveJob] [UploadArticleImageJob] [57db691b-bcd9-463d-ba26-e1e7c0edf354]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:10:52.133836"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [57db691b-bcd9-463d-ba26-e1e7c0edf354]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [57db691b-bcd9-463d-ba26-e1e7c0edf354] Enqueued ActiveStorage::AnalyzeJob (Job ID: e30dfa4a-97ca-43f3-aba5-d3f487d2eced) to Test(default) with arguments: #<GlobalID:0x00007f8b9172e830 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [57db691b-bcd9-463d-ba26-e1e7c0edf354] Performed UploadArticleImageJob (Job ID: 57db691b-bcd9-463d-ba26-e1e7c0edf354) from Test(default) in 2759.75ms
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:12:00.258285', '2019-03-10 14:12:00.258285', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:12:00.258285', '2019-03-10 14:12:00.258285', 298486374)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:12:00 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:12:00.476696"], ["updated_at", "2019-03-10 14:12:00.476696"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 5c785d05-592c-4cab-bcd5-decd700f62a8) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9034ab20 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 20ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [5c785d05-592c-4cab-bcd5-decd700f62a8] Performing UploadArticleImageJob (Job ID: 5c785d05-592c-4cab-bcd5-decd700f62a8) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9153f358 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [5c785d05-592c-4cab-bcd5-decd700f62a8]   [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [5c785d05-592c-4cab-bcd5-decd700f62a8] [36m  Disk Storage (19.4ms) [0m[32mUploaded file to key: Fm1fAXsfbzMcZ1qHRV74a5eZ (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [5c785d05-592c-4cab-bcd5-decd700f62a8]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [5c785d05-592c-4cab-bcd5-decd700f62a8]   [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "Fm1fAXsfbzMcZ1qHRV74a5eZ"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:12:00.623753"]]
[ActiveJob] [UploadArticleImageJob] [5c785d05-592c-4cab-bcd5-decd700f62a8]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [5c785d05-592c-4cab-bcd5-decd700f62a8]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [5c785d05-592c-4cab-bcd5-decd700f62a8]   [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:12:00.634880"]]
[ActiveJob] [UploadArticleImageJob] [5c785d05-592c-4cab-bcd5-decd700f62a8]   [1m[36mArticle Update (0.2ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:12:00.637078"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [5c785d05-592c-4cab-bcd5-decd700f62a8]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [5c785d05-592c-4cab-bcd5-decd700f62a8] Enqueued ActiveStorage::AnalyzeJob (Job ID: 11cb15fc-ddb8-4651-8e48-f8cec3fc6a32) to Async(default) with arguments: #<GlobalID:0x00007f8b915dfd30 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [5c785d05-592c-4cab-bcd5-decd700f62a8] Performed UploadArticleImageJob (Job ID: 5c785d05-592c-4cab-bcd5-decd700f62a8) from Async(default) in 141.94ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [11cb15fc-ddb8-4651-8e48-f8cec3fc6a32] Performing ActiveStorage::AnalyzeJob (Job ID: 11cb15fc-ddb8-4651-8e48-f8cec3fc6a32) from Async(default) with arguments: #<GlobalID:0x00007f8b915f6788 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [11cb15fc-ddb8-4651-8e48-f8cec3fc6a32] [36m  Disk Storage (1.4ms) [0m[34mDownloaded file from key: Fm1fAXsfbzMcZ1qHRV74a5eZ[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [11cb15fc-ddb8-4651-8e48-f8cec3fc6a32] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [11cb15fc-ddb8-4651-8e48-f8cec3fc6a32]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [11cb15fc-ddb8-4651-8e48-f8cec3fc6a32]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [11cb15fc-ddb8-4651-8e48-f8cec3fc6a32]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [11cb15fc-ddb8-4651-8e48-f8cec3fc6a32] Performed ActiveStorage::AnalyzeJob (Job ID: 11cb15fc-ddb8-4651-8e48-f8cec3fc6a32) from Async(default) in 7.09ms
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:14:13 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:14:13 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.9ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 14:14:13.983547"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 8ms (ActiveRecord: 1.4ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [7319e93d-7640-41fa-88e1-6566193aac28] Performing UploadArticleImageJob (Job ID: 7319e93d-7640-41fa-88e1-6566193aac28) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b906259f8 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [7319e93d-7640-41fa-88e1-6566193aac28]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [7319e93d-7640-41fa-88e1-6566193aac28] [36m  Disk Storage (4.6ms) [0m[32mUploaded file to key: uzXaCY1b862bpdQgC7DVpVS9 (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [7319e93d-7640-41fa-88e1-6566193aac28]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [7319e93d-7640-41fa-88e1-6566193aac28]   [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "uzXaCY1b862bpdQgC7DVpVS9"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:14:14.008709"]]
[ActiveJob] [UploadArticleImageJob] [7319e93d-7640-41fa-88e1-6566193aac28]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [7319e93d-7640-41fa-88e1-6566193aac28]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [7319e93d-7640-41fa-88e1-6566193aac28]   [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 14:14:14.011744"]]
[ActiveJob] [UploadArticleImageJob] [7319e93d-7640-41fa-88e1-6566193aac28]   [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:14:14.013933"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [7319e93d-7640-41fa-88e1-6566193aac28]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [7319e93d-7640-41fa-88e1-6566193aac28] Enqueued ActiveStorage::AnalyzeJob (Job ID: 71db3385-72dc-4897-95c2-8738cde9b579) to Test(default) with arguments: #<GlobalID:0x00007f8b92f062c8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [7319e93d-7640-41fa-88e1-6566193aac28] Performed UploadArticleImageJob (Job ID: 7319e93d-7640-41fa-88e1-6566193aac28) from Test(default) in 19.71ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:14:18.813096', '2019-03-10 14:14:18.813096', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:14:18.813096', '2019-03-10 14:14:18.813096', 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:14:18 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:14:19.006557"], ["updated_at", "2019-03-10 14:14:19.006557"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 6744f445-db0c-4ced-80af-e7e7d5d8be19) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9036afd8 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 15ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [6744f445-db0c-4ced-80af-e7e7d5d8be19] Performing UploadArticleImageJob (Job ID: 6744f445-db0c-4ced-80af-e7e7d5d8be19) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90c4f018 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [6744f445-db0c-4ced-80af-e7e7d5d8be19]   [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [6744f445-db0c-4ced-80af-e7e7d5d8be19] [36m  Disk Storage (20.1ms) [0m[32mUploaded file to key: q7ZrYRbZpLdXRXubXQZKMDPk (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [6744f445-db0c-4ced-80af-e7e7d5d8be19]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [6744f445-db0c-4ced-80af-e7e7d5d8be19]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "q7ZrYRbZpLdXRXubXQZKMDPk"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:14:19.167036"]]
[ActiveJob] [UploadArticleImageJob] [6744f445-db0c-4ced-80af-e7e7d5d8be19]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [6744f445-db0c-4ced-80af-e7e7d5d8be19]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [6744f445-db0c-4ced-80af-e7e7d5d8be19]   [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:14:19.177138"]]
[ActiveJob] [UploadArticleImageJob] [6744f445-db0c-4ced-80af-e7e7d5d8be19]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:14:19.178625"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [6744f445-db0c-4ced-80af-e7e7d5d8be19]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [6744f445-db0c-4ced-80af-e7e7d5d8be19] Enqueued ActiveStorage::AnalyzeJob (Job ID: 348a3285-cc26-4e80-b2be-edf458fcda1d) to Async(default) with arguments: #<GlobalID:0x00007f8b9032bd60 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [6744f445-db0c-4ced-80af-e7e7d5d8be19] Performed UploadArticleImageJob (Job ID: 6744f445-db0c-4ced-80af-e7e7d5d8be19) from Async(default) in 162.32ms
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [348a3285-cc26-4e80-b2be-edf458fcda1d] Performing ActiveStorage::AnalyzeJob (Job ID: 348a3285-cc26-4e80-b2be-edf458fcda1d) from Async(default) with arguments: #<GlobalID:0x00007f8b90332098 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [348a3285-cc26-4e80-b2be-edf458fcda1d] [36m  Disk Storage (1.5ms) [0m[34mDownloaded file from key: q7ZrYRbZpLdXRXubXQZKMDPk[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [348a3285-cc26-4e80-b2be-edf458fcda1d] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [348a3285-cc26-4e80-b2be-edf458fcda1d]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [348a3285-cc26-4e80-b2be-edf458fcda1d]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [348a3285-cc26-4e80-b2be-edf458fcda1d]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [348a3285-cc26-4e80-b2be-edf458fcda1d] Performed ActiveStorage::AnalyzeJob (Job ID: 348a3285-cc26-4e80-b2be-edf458fcda1d) from Async(default) in 6.44ms
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:16:28.564912', '2019-03-10 14:16:28.564912', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:16:28.564912', '2019-03-10 14:16:28.564912', 298486374)[0m
  [1m[35m (3.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:16:28 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:16:28.804845"], ["updated_at", "2019-03-10 14:16:28.804845"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: d46ba33d-fbed-4f3f-aaa9-6cca6332e875) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90392100 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 18ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d46ba33d-fbed-4f3f-aaa9-6cca6332e875] Performing UploadArticleImageJob (Job ID: d46ba33d-fbed-4f3f-aaa9-6cca6332e875) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92c42b68 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d46ba33d-fbed-4f3f-aaa9-6cca6332e875]   [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d46ba33d-fbed-4f3f-aaa9-6cca6332e875] [36m  Disk Storage (18.9ms) [0m[32mUploaded file to key: QssDe3a2DQBFJYyZQtXAHPdN (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [d46ba33d-fbed-4f3f-aaa9-6cca6332e875]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d46ba33d-fbed-4f3f-aaa9-6cca6332e875]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "QssDe3a2DQBFJYyZQtXAHPdN"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:16:28.934741"]]
[ActiveJob] [UploadArticleImageJob] [d46ba33d-fbed-4f3f-aaa9-6cca6332e875]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d46ba33d-fbed-4f3f-aaa9-6cca6332e875]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d46ba33d-fbed-4f3f-aaa9-6cca6332e875]   [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:16:28.945657"]]
[ActiveJob] [UploadArticleImageJob] [d46ba33d-fbed-4f3f-aaa9-6cca6332e875]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:16:28.947248"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [d46ba33d-fbed-4f3f-aaa9-6cca6332e875]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d46ba33d-fbed-4f3f-aaa9-6cca6332e875] Enqueued ActiveStorage::AnalyzeJob (Job ID: 61765d0e-4f5f-4c85-a730-92ac84dbde2e) to Async(default) with arguments: #<GlobalID:0x00007f8b916376c0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [d46ba33d-fbed-4f3f-aaa9-6cca6332e875] Performed UploadArticleImageJob (Job ID: d46ba33d-fbed-4f3f-aaa9-6cca6332e875) from Async(default) in 128.12ms
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [61765d0e-4f5f-4c85-a730-92ac84dbde2e] Performing ActiveStorage::AnalyzeJob (Job ID: 61765d0e-4f5f-4c85-a730-92ac84dbde2e) from Async(default) with arguments: #<GlobalID:0x00007f8b9041d7a0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [61765d0e-4f5f-4c85-a730-92ac84dbde2e] [36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: QssDe3a2DQBFJYyZQtXAHPdN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [61765d0e-4f5f-4c85-a730-92ac84dbde2e] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [61765d0e-4f5f-4c85-a730-92ac84dbde2e]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [61765d0e-4f5f-4c85-a730-92ac84dbde2e]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [61765d0e-4f5f-4c85-a730-92ac84dbde2e]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [61765d0e-4f5f-4c85-a730-92ac84dbde2e] Performed ActiveStorage::AnalyzeJob (Job ID: 61765d0e-4f5f-4c85-a730-92ac84dbde2e) from Async(default) in 5.18ms
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (1.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:20:43.077027', '2019-03-10 14:20:43.077027', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:20:43.077027', '2019-03-10 14:20:43.077027', 298486374)[0m
  [1m[35m (2.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:20:43 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:20:43.345396"], ["updated_at", "2019-03-10 14:20:43.345396"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 509a168f-6de1-45f8-945a-c2e3ebe1fa27) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90bae730 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 14ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [509a168f-6de1-45f8-945a-c2e3ebe1fa27] Performing UploadArticleImageJob (Job ID: 509a168f-6de1-45f8-945a-c2e3ebe1fa27) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b914e0858 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [509a168f-6de1-45f8-945a-c2e3ebe1fa27]   [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [509a168f-6de1-45f8-945a-c2e3ebe1fa27] [36m  Disk Storage (19.5ms) [0m[32mUploaded file to key: E11o9RssVGPUbBHKhpUNMvbd (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [509a168f-6de1-45f8-945a-c2e3ebe1fa27]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [509a168f-6de1-45f8-945a-c2e3ebe1fa27]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "E11o9RssVGPUbBHKhpUNMvbd"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:20:43.436336"]]
[ActiveJob] [UploadArticleImageJob] [509a168f-6de1-45f8-945a-c2e3ebe1fa27]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [509a168f-6de1-45f8-945a-c2e3ebe1fa27]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [509a168f-6de1-45f8-945a-c2e3ebe1fa27]   [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:20:43.448185"]]
[ActiveJob] [UploadArticleImageJob] [509a168f-6de1-45f8-945a-c2e3ebe1fa27]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:20:43.449934"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [509a168f-6de1-45f8-945a-c2e3ebe1fa27]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [509a168f-6de1-45f8-945a-c2e3ebe1fa27] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0f85b5f9-08e4-4cd5-8f83-03b5d35320b7) to Async(default) with arguments: #<GlobalID:0x00007f8b91722080 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [509a168f-6de1-45f8-945a-c2e3ebe1fa27] Performed UploadArticleImageJob (Job ID: 509a168f-6de1-45f8-945a-c2e3ebe1fa27) from Async(default) in 95.5ms
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0f85b5f9-08e4-4cd5-8f83-03b5d35320b7] Performing ActiveStorage::AnalyzeJob (Job ID: 0f85b5f9-08e4-4cd5-8f83-03b5d35320b7) from Async(default) with arguments: #<GlobalID:0x00007f8b90d04a58 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [0f85b5f9-08e4-4cd5-8f83-03b5d35320b7] [36m  Disk Storage (1.2ms) [0m[34mDownloaded file from key: E11o9RssVGPUbBHKhpUNMvbd[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0f85b5f9-08e4-4cd5-8f83-03b5d35320b7] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [0f85b5f9-08e4-4cd5-8f83-03b5d35320b7]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0f85b5f9-08e4-4cd5-8f83-03b5d35320b7]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0f85b5f9-08e4-4cd5-8f83-03b5d35320b7]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0f85b5f9-08e4-4cd5-8f83-03b5d35320b7] Performed ActiveStorage::AnalyzeJob (Job ID: 0f85b5f9-08e4-4cd5-8f83-03b5d35320b7) from Async(default) in 7.54ms
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:23:56.548865', '2019-03-10 14:23:56.548865', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:23:56.548865', '2019-03-10 14:23:56.548865', 298486374)[0m
  [1m[35m (3.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:23:56 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:23:56.727468"], ["updated_at", "2019-03-10 14:23:56.727468"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 82b270f2-61f7-4c86-9799-cdc720d2043d) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92c58f30 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 15ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [82b270f2-61f7-4c86-9799-cdc720d2043d] Performing UploadArticleImageJob (Job ID: 82b270f2-61f7-4c86-9799-cdc720d2043d) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92c5ff38 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [82b270f2-61f7-4c86-9799-cdc720d2043d]   [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [82b270f2-61f7-4c86-9799-cdc720d2043d] [36m  Disk Storage (2.9ms) [0m[32mUploaded file to key: dKqjZtffziizEVEW8VGLdufh (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [82b270f2-61f7-4c86-9799-cdc720d2043d]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [82b270f2-61f7-4c86-9799-cdc720d2043d]   [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "dKqjZtffziizEVEW8VGLdufh"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:23:56.819683"]]
[ActiveJob] [UploadArticleImageJob] [82b270f2-61f7-4c86-9799-cdc720d2043d]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [82b270f2-61f7-4c86-9799-cdc720d2043d]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [82b270f2-61f7-4c86-9799-cdc720d2043d]   [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:23:56.831570"]]
[ActiveJob] [UploadArticleImageJob] [82b270f2-61f7-4c86-9799-cdc720d2043d]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:23:56.833499"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [82b270f2-61f7-4c86-9799-cdc720d2043d]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [82b270f2-61f7-4c86-9799-cdc720d2043d] Enqueued ActiveStorage::AnalyzeJob (Job ID: 940b804b-1c76-4063-b149-d72b6e5b70cd) to Async(default) with arguments: #<GlobalID:0x00007f8b90c54338 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [82b270f2-61f7-4c86-9799-cdc720d2043d] Performed UploadArticleImageJob (Job ID: 82b270f2-61f7-4c86-9799-cdc720d2043d) from Async(default) in 95.68ms
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [940b804b-1c76-4063-b149-d72b6e5b70cd] Performing ActiveStorage::AnalyzeJob (Job ID: 940b804b-1c76-4063-b149-d72b6e5b70cd) from Async(default) with arguments: #<GlobalID:0x00007f8b9158ada8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [940b804b-1c76-4063-b149-d72b6e5b70cd] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: dKqjZtffziizEVEW8VGLdufh[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [940b804b-1c76-4063-b149-d72b6e5b70cd] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [940b804b-1c76-4063-b149-d72b6e5b70cd]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [940b804b-1c76-4063-b149-d72b6e5b70cd]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [940b804b-1c76-4063-b149-d72b6e5b70cd]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [940b804b-1c76-4063-b149-d72b6e5b70cd] Performed ActiveStorage::AnalyzeJob (Job ID: 940b804b-1c76-4063-b149-d72b6e5b70cd) from Async(default) in 6.97ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:24:49.444327', '2019-03-10 14:24:49.444327', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:24:49.444327', '2019-03-10 14:24:49.444327', 298486374)[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:24:49 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:24:49.634193"], ["updated_at", "2019-03-10 14:24:49.634193"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: d1476237-3e43-49ec-95cd-f5df25553df8) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b914e9728 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d1476237-3e43-49ec-95cd-f5df25553df8] Performing UploadArticleImageJob (Job ID: d1476237-3e43-49ec-95cd-f5df25553df8) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b915019e0 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 20ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d1476237-3e43-49ec-95cd-f5df25553df8]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:24:49.765132', '2019-03-10 14:24:49.765132', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:24:49.765132', '2019-03-10 14:24:49.765132', 298486374)[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [d1476237-3e43-49ec-95cd-f5df25553df8] [36m  Disk Storage (8.1ms) [0m[32mUploaded file to key: 2iXi8s1nkrsGoZ8D159qJkWy (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [d1476237-3e43-49ec-95cd-f5df25553df8] Performed UploadArticleImageJob (Job ID: d1476237-3e43-49ec-95cd-f5df25553df8) from Async(default) in 131.99ms
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:25:09.186506', '2019-03-10 14:25:09.186506', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:25:09.186506', '2019-03-10 14:25:09.186506', 298486374)[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:25:09 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:25:09.284220"], ["updated_at", "2019-03-10 14:25:09.284220"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: b27af641-c2c3-4ed3-b6f1-e50b537260c1) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92c65668 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [b27af641-c2c3-4ed3-b6f1-e50b537260c1] Performing UploadArticleImageJob (Job ID: b27af641-c2c3-4ed3-b6f1-e50b537260c1) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92c6d688 @uri=#<URI::GID gid://blog/Article/980190963>>
[ActiveJob] [UploadArticleImageJob] [b27af641-c2c3-4ed3-b6f1-e50b537260c1]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [b27af641-c2c3-4ed3-b6f1-e50b537260c1] [36m  Disk Storage (2.8ms) [0m[32mUploaded file to key: K2Tr4FpAa5nTnkPGxhpnCoUS (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [b27af641-c2c3-4ed3-b6f1-e50b537260c1]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [b27af641-c2c3-4ed3-b6f1-e50b537260c1]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "K2Tr4FpAa5nTnkPGxhpnCoUS"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:25:09.333117"]]
[ActiveJob] [UploadArticleImageJob] [b27af641-c2c3-4ed3-b6f1-e50b537260c1]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [b27af641-c2c3-4ed3-b6f1-e50b537260c1]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [b27af641-c2c3-4ed3-b6f1-e50b537260c1]   [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:25:09.343785"]]
[ActiveJob] [UploadArticleImageJob] [b27af641-c2c3-4ed3-b6f1-e50b537260c1]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:25:09.344953"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [b27af641-c2c3-4ed3-b6f1-e50b537260c1]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [b27af641-c2c3-4ed3-b6f1-e50b537260c1] Enqueued ActiveStorage::AnalyzeJob (Job ID: a8402e91-8bff-43dc-babf-1773e44556e1) to Async(default) with arguments: #<GlobalID:0x00007f8b90c44758 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [b27af641-c2c3-4ed3-b6f1-e50b537260c1] Error performing UploadArticleImageJob (Job ID: b27af641-c2c3-4ed3-b6f1-e50b537260c1) from Async(default) in 59.31ms: NameError (undefined local variable or method `bindint' for ArticlesHelper:Module
Did you mean?  binding):
/Users/Alex/thinknetica/blog/app/helpers/articles_helper.rb:6:in `upload_image'
/Users/Alex/thinknetica/blog/app/jobs/upload_article_image_job.rb:5:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:39:in `block in perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/i18n-1.6.0/lib/i18n.rb:297:in `with_locale'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:26:in `block (4 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `block in instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:25:in `block (3 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `block in tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:22:in `block (2 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:38:in `perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:24:in `block in execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:28:in `block (4 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:73:in `block in wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:72:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:27:in `block (3 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:22:in `execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
  [1m[36mActiveStorage::Blob Load (5.7ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a8402e91-8bff-43dc-babf-1773e44556e1] Performing ActiveStorage::AnalyzeJob (Job ID: a8402e91-8bff-43dc-babf-1773e44556e1) from Async(default) with arguments: #<GlobalID:0x00007f8b92c22f48 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [a8402e91-8bff-43dc-babf-1773e44556e1] [36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: K2Tr4FpAa5nTnkPGxhpnCoUS[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a8402e91-8bff-43dc-babf-1773e44556e1] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [a8402e91-8bff-43dc-babf-1773e44556e1]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a8402e91-8bff-43dc-babf-1773e44556e1]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a8402e91-8bff-43dc-babf-1773e44556e1]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a8402e91-8bff-43dc-babf-1773e44556e1] Performed ActiveStorage::AnalyzeJob (Job ID: a8402e91-8bff-43dc-babf-1773e44556e1) from Async(default) in 5.81ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:25:16.827775', '2019-03-10 14:25:16.827775', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:25:16.827775', '2019-03-10 14:25:16.827775', 298486374)[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:25:16 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:25:16.956241"], ["updated_at", "2019-03-10 14:25:16.956241"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 971d60c2-50a4-4e66-8cbd-b1a909040b13) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b914aa140 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 13ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [971d60c2-50a4-4e66-8cbd-b1a909040b13] Performing UploadArticleImageJob (Job ID: 971d60c2-50a4-4e66-8cbd-b1a909040b13) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b902cc680 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [971d60c2-50a4-4e66-8cbd-b1a909040b13]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [971d60c2-50a4-4e66-8cbd-b1a909040b13] Performed UploadArticleImageJob (Job ID: 971d60c2-50a4-4e66-8cbd-b1a909040b13) from Async(default) in 76.56ms
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:25:32.233570', '2019-03-10 14:25:32.233570', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:25:32.233570', '2019-03-10 14:25:32.233570', 298486374)[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:25:32 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:25:32.346351"], ["updated_at", "2019-03-10 14:25:32.346351"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: bbb297fe-fe27-44d9-9d66-b8895cd611d8) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92be21a0 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 19ms (ActiveRecord: 0.5ms)
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8] Performing UploadArticleImageJob (Job ID: bbb297fe-fe27-44d9-9d66-b8895cd611d8) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90c2c8d8 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8] [36m  Disk Storage (2.9ms) [0m[32mUploaded file to key: 7XJU13faowGGfx1NosjzN5Kr (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "7XJU13faowGGfx1NosjzN5Kr"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:25:53.538284"]]
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8]   [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:25:53.549963"]]
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:25:53.551193"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8] Enqueued ActiveStorage::AnalyzeJob (Job ID: d9b9f1f7-2c09-49ef-a169-8de3495fe766) to Async(default) with arguments: #<GlobalID:0x00007f8b970cf010 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d9b9f1f7-2c09-49ef-a169-8de3495fe766] Performing ActiveStorage::AnalyzeJob (Job ID: d9b9f1f7-2c09-49ef-a169-8de3495fe766) from Async(default) with arguments: #<GlobalID:0x00007f8b92eb8f28 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d9b9f1f7-2c09-49ef-a169-8de3495fe766] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: 7XJU13faowGGfx1NosjzN5Kr[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d9b9f1f7-2c09-49ef-a169-8de3495fe766] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [d9b9f1f7-2c09-49ef-a169-8de3495fe766]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d9b9f1f7-2c09-49ef-a169-8de3495fe766]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d9b9f1f7-2c09-49ef-a169-8de3495fe766]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d9b9f1f7-2c09-49ef-a169-8de3495fe766] Performed ActiveStorage::AnalyzeJob (Job ID: d9b9f1f7-2c09-49ef-a169-8de3495fe766) from Async(default) in 4.51ms
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: Hu6vM9V2ZteKmU2DL5JsoSxq[0m
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8] [36m  Disk Storage (5.4ms) [0m[32mUploaded file to key: Hu6vM9V2ZteKmU2DL5JsoSxq (checksum: 1B2M2Y8AsgTpgAmY7PhCfg==)[0m
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: 81PQmGPWzwQvZbkEBqAtPb2V[0m
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8] [36m  Disk Storage (6.4ms) [0m[32mUploaded file to key: 81PQmGPWzwQvZbkEBqAtPb2V (checksum: 1B2M2Y8AsgTpgAmY7PhCfg==)[0m
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: p5GVYpJzFjAJvJBinfaBzgRd[0m
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8] [36m  Disk Storage (5.3ms) [0m[32mUploaded file to key: p5GVYpJzFjAJvJBinfaBzgRd (checksum: 1B2M2Y8AsgTpgAmY7PhCfg==)[0m
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: CTrjj4qu4Qfuy3RLGp8J3Du3[0m
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8] [36m  Disk Storage (4.5ms) [0m[32mUploaded file to key: CTrjj4qu4Qfuy3RLGp8J3Du3 (checksum: 1B2M2Y8AsgTpgAmY7PhCfg==)[0m
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: Yth5SUb9a15QoLdrjMKUQwd7[0m
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8] [36m  Disk Storage (4.6ms) [0m[32mUploaded file to key: Yth5SUb9a15QoLdrjMKUQwd7 (checksum: 1B2M2Y8AsgTpgAmY7PhCfg==)[0m
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8] [36m  Disk Storage (0.3ms) [0m[31mDeleted file from key: N1PDHEs9XjgcW7bo5hVRA3sm[0m
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8] [36m  Disk Storage (5.7ms) [0m[32mUploaded file to key: N1PDHEs9XjgcW7bo5hVRA3sm (checksum: 1B2M2Y8AsgTpgAmY7PhCfg==)[0m
  [1m[35m (4.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [bbb297fe-fe27-44d9-9d66-b8895cd611d8] Performed UploadArticleImageJob (Job ID: bbb297fe-fe27-44d9-9d66-b8895cd611d8) from Async(default) in 329864.27ms
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:31:05.227991', '2019-03-10 14:31:05.227991', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:31:05.227991', '2019-03-10 14:31:05.227991', 298486374)[0m
  [1m[35m (2.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:31:05 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:31:05.416575"], ["updated_at", "2019-03-10 14:31:05.416575"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 9d352d38-92e7-4efe-838c-2cd7047d2fb4) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b914cd050 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [9d352d38-92e7-4efe-838c-2cd7047d2fb4] Performing UploadArticleImageJob (Job ID: 9d352d38-92e7-4efe-838c-2cd7047d2fb4) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b914dc528 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 20ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [9d352d38-92e7-4efe-838c-2cd7047d2fb4]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [9d352d38-92e7-4efe-838c-2cd7047d2fb4] [36m  Disk Storage (2.9ms) [0m[32mUploaded file to key: 2SVSMMBtanC3rbhZHRBTQHBR (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [9d352d38-92e7-4efe-838c-2cd7047d2fb4]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [9d352d38-92e7-4efe-838c-2cd7047d2fb4]   [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "2SVSMMBtanC3rbhZHRBTQHBR"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:31:19.088620"]]
[ActiveJob] [UploadArticleImageJob] [9d352d38-92e7-4efe-838c-2cd7047d2fb4]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [9d352d38-92e7-4efe-838c-2cd7047d2fb4]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [9d352d38-92e7-4efe-838c-2cd7047d2fb4]   [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:31:19.100219"]]
[ActiveJob] [UploadArticleImageJob] [9d352d38-92e7-4efe-838c-2cd7047d2fb4]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:31:19.102063"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [9d352d38-92e7-4efe-838c-2cd7047d2fb4]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [9d352d38-92e7-4efe-838c-2cd7047d2fb4] Enqueued ActiveStorage::AnalyzeJob (Job ID: 7e978751-e708-464b-8617-5974491c0ae7) to Async(default) with arguments: #<GlobalID:0x00007f8b9482de90 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7e978751-e708-464b-8617-5974491c0ae7] Performing ActiveStorage::AnalyzeJob (Job ID: 7e978751-e708-464b-8617-5974491c0ae7) from Async(default) with arguments: #<GlobalID:0x00007f8b904d7c90 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [7e978751-e708-464b-8617-5974491c0ae7] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: 2SVSMMBtanC3rbhZHRBTQHBR[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7e978751-e708-464b-8617-5974491c0ae7] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [7e978751-e708-464b-8617-5974491c0ae7]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7e978751-e708-464b-8617-5974491c0ae7]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7e978751-e708-464b-8617-5974491c0ae7]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7e978751-e708-464b-8617-5974491c0ae7] Performed ActiveStorage::AnalyzeJob (Job ID: 7e978751-e708-464b-8617-5974491c0ae7) from Async(default) in 5.7ms
[ActiveJob] [UploadArticleImageJob] [9d352d38-92e7-4efe-838c-2cd7047d2fb4] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: XiGPVVSFeXxrZJ1QLrpBEXmY[0m
[ActiveJob] [UploadArticleImageJob] [9d352d38-92e7-4efe-838c-2cd7047d2fb4] [36m  Disk Storage (3.3ms) [0m[32mUploaded file to key: XiGPVVSFeXxrZJ1QLrpBEXmY (checksum: 1B2M2Y8AsgTpgAmY7PhCfg==)[0m
[ActiveJob] [UploadArticleImageJob] [9d352d38-92e7-4efe-838c-2cd7047d2fb4] Error performing UploadArticleImageJob (Job ID: 9d352d38-92e7-4efe-838c-2cd7047d2fb4) from Async(default) in 47924.73ms: ActiveStorage::IntegrityError (ActiveStorage::IntegrityError):
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/service/disk_service.rb:142:in `ensure_integrity_of'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/service/disk_service.rb:21:in `block in upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `block in instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/service.rb:124:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/service/disk_service.rb:19:in `upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:159:in `upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:57:in `block in build_after_upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:52:in `tap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:52:in `build_after_upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:65:in `create_after_upload!'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/attached.rb:28:in `create_blob_from'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/attached/one.rb:24:in `attach'
/Users/Alex/thinknetica/blog/app/helpers/articles_helper.rb:6:in `upload_image'
/Users/Alex/thinknetica/blog/app/jobs/upload_article_image_job.rb:5:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:39:in `block in perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/i18n-1.6.0/lib/i18n.rb:297:in `with_locale'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:26:in `block (4 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `block in instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:25:in `block (3 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `block in tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:22:in `block (2 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:38:in `perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:24:in `block in execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:28:in `block (4 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:73:in `block in wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:72:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:27:in `block (3 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:22:in `execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:32:22.054132', '2019-03-10 14:32:22.054132', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:32:22.054132', '2019-03-10 14:32:22.054132', 298486374)[0m
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:32:22 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:32:22.253012"], ["updated_at", "2019-03-10 14:32:22.253012"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 6914563d-f35c-4512-8f74-85216b51f355) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90c6c6e0 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [6914563d-f35c-4512-8f74-85216b51f355] Performing UploadArticleImageJob (Job ID: 6914563d-f35c-4512-8f74-85216b51f355) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92c425f0 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 14ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [6914563d-f35c-4512-8f74-85216b51f355]   [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [6914563d-f35c-4512-8f74-85216b51f355] [36m  Disk Storage (3.0ms) [0m[32mUploaded file to key: mhpzHgp3sdnd8da7o3xDCxkM (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [6914563d-f35c-4512-8f74-85216b51f355]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [6914563d-f35c-4512-8f74-85216b51f355]   [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "mhpzHgp3sdnd8da7o3xDCxkM"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:32:24.571375"]]
[ActiveJob] [UploadArticleImageJob] [6914563d-f35c-4512-8f74-85216b51f355]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [6914563d-f35c-4512-8f74-85216b51f355]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [6914563d-f35c-4512-8f74-85216b51f355]   [1m[36mActiveStorage::Attachment Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:32:24.582665"]]
[ActiveJob] [UploadArticleImageJob] [6914563d-f35c-4512-8f74-85216b51f355]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:32:24.584788"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [6914563d-f35c-4512-8f74-85216b51f355]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [6914563d-f35c-4512-8f74-85216b51f355] Enqueued ActiveStorage::AnalyzeJob (Job ID: 115c1afd-8db6-4f12-ab62-d21efa252240) to Async(default) with arguments: #<GlobalID:0x00007f8b90cf4860 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [6914563d-f35c-4512-8f74-85216b51f355] Performed UploadArticleImageJob (Job ID: 6914563d-f35c-4512-8f74-85216b51f355) from Async(default) in 2325.75ms
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [115c1afd-8db6-4f12-ab62-d21efa252240] Performing ActiveStorage::AnalyzeJob (Job ID: 115c1afd-8db6-4f12-ab62-d21efa252240) from Async(default) with arguments: #<GlobalID:0x00007f8b92d23190 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [115c1afd-8db6-4f12-ab62-d21efa252240] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: mhpzHgp3sdnd8da7o3xDCxkM[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [115c1afd-8db6-4f12-ab62-d21efa252240] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [115c1afd-8db6-4f12-ab62-d21efa252240]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [115c1afd-8db6-4f12-ab62-d21efa252240]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [115c1afd-8db6-4f12-ab62-d21efa252240]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [115c1afd-8db6-4f12-ab62-d21efa252240] Performed ActiveStorage::AnalyzeJob (Job ID: 115c1afd-8db6-4f12-ab62-d21efa252240) from Async(default) in 4.85ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:33:00.375746', '2019-03-10 14:33:00.375746', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:33:00.375746', '2019-03-10 14:33:00.375746', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:33:00 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:33:00.573220"], ["updated_at", "2019-03-10 14:33:00.573220"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 773a92e2-6cb5-455b-83b7-f1608708ad91) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92b4dc58 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [773a92e2-6cb5-455b-83b7-f1608708ad91] Performing UploadArticleImageJob (Job ID: 773a92e2-6cb5-455b-83b7-f1608708ad91) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9150c908 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [773a92e2-6cb5-455b-83b7-f1608708ad91]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [773a92e2-6cb5-455b-83b7-f1608708ad91] [36m  Disk Storage (2.7ms) [0m[32mUploaded file to key: FXWwAr9D46sYtkBCc84WfyWu (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [773a92e2-6cb5-455b-83b7-f1608708ad91]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [773a92e2-6cb5-455b-83b7-f1608708ad91]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "FXWwAr9D46sYtkBCc84WfyWu"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:33:03.780569"]]
[ActiveJob] [UploadArticleImageJob] [773a92e2-6cb5-455b-83b7-f1608708ad91]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [773a92e2-6cb5-455b-83b7-f1608708ad91]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [773a92e2-6cb5-455b-83b7-f1608708ad91]   [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:33:03.792169"]]
[ActiveJob] [UploadArticleImageJob] [773a92e2-6cb5-455b-83b7-f1608708ad91]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:33:03.793439"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [773a92e2-6cb5-455b-83b7-f1608708ad91]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [773a92e2-6cb5-455b-83b7-f1608708ad91] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5a249968-65d4-4648-adde-d11082506e23) to Async(default) with arguments: #<GlobalID:0x00007f8b90de49f0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [773a92e2-6cb5-455b-83b7-f1608708ad91] Performed UploadArticleImageJob (Job ID: 773a92e2-6cb5-455b-83b7-f1608708ad91) from Async(default) in 3211.41ms
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a249968-65d4-4648-adde-d11082506e23] Performing ActiveStorage::AnalyzeJob (Job ID: 5a249968-65d4-4648-adde-d11082506e23) from Async(default) with arguments: #<GlobalID:0x00007f8b90503318 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a249968-65d4-4648-adde-d11082506e23] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: FXWwAr9D46sYtkBCc84WfyWu[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a249968-65d4-4648-adde-d11082506e23] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a249968-65d4-4648-adde-d11082506e23]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a249968-65d4-4648-adde-d11082506e23]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a249968-65d4-4648-adde-d11082506e23]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a249968-65d4-4648-adde-d11082506e23] Performed ActiveStorage::AnalyzeJob (Job ID: 5a249968-65d4-4648-adde-d11082506e23) from Async(default) in 5.37ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:33:12.511488', '2019-03-10 14:33:12.511488', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:33:12.511488', '2019-03-10 14:33:12.511488', 298486374)[0m
  [1m[35m (3.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:33:12 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:33:12.657441"], ["updated_at", "2019-03-10 14:33:12.657441"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: b61000f4-2312-48ef-8f17-3eeb1494cdb8) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b914d1560 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 18ms (ActiveRecord: 2.0ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [b61000f4-2312-48ef-8f17-3eeb1494cdb8] Performing UploadArticleImageJob (Job ID: b61000f4-2312-48ef-8f17-3eeb1494cdb8) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b914da8e0 @uri=#<URI::GID gid://blog/Article/980190963>>
[ActiveJob] [UploadArticleImageJob] [b61000f4-2312-48ef-8f17-3eeb1494cdb8]   [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [b61000f4-2312-48ef-8f17-3eeb1494cdb8] [36m  Disk Storage (4.2ms) [0m[32mUploaded file to key: 9bY7tSHcPexbv4z1Z2fMcvRB (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [b61000f4-2312-48ef-8f17-3eeb1494cdb8]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [b61000f4-2312-48ef-8f17-3eeb1494cdb8]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "9bY7tSHcPexbv4z1Z2fMcvRB"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:33:12.751430"]]
[ActiveJob] [UploadArticleImageJob] [b61000f4-2312-48ef-8f17-3eeb1494cdb8]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [b61000f4-2312-48ef-8f17-3eeb1494cdb8]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [b61000f4-2312-48ef-8f17-3eeb1494cdb8]   [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:33:12.760221"]]
[ActiveJob] [UploadArticleImageJob] [b61000f4-2312-48ef-8f17-3eeb1494cdb8]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:33:12.761318"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [b61000f4-2312-48ef-8f17-3eeb1494cdb8]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [b61000f4-2312-48ef-8f17-3eeb1494cdb8] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2160dc81-b9ef-4dd7-be0b-05bc7eca2829) to Async(default) with arguments: #<GlobalID:0x00007f8b92b978d0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [b61000f4-2312-48ef-8f17-3eeb1494cdb8] Performed UploadArticleImageJob (Job ID: b61000f4-2312-48ef-8f17-3eeb1494cdb8) from Async(default) in 89.01ms
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2160dc81-b9ef-4dd7-be0b-05bc7eca2829] Performing ActiveStorage::AnalyzeJob (Job ID: 2160dc81-b9ef-4dd7-be0b-05bc7eca2829) from Async(default) with arguments: #<GlobalID:0x00007f8b91504550 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [2160dc81-b9ef-4dd7-be0b-05bc7eca2829] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: 9bY7tSHcPexbv4z1Z2fMcvRB[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2160dc81-b9ef-4dd7-be0b-05bc7eca2829] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [2160dc81-b9ef-4dd7-be0b-05bc7eca2829]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2160dc81-b9ef-4dd7-be0b-05bc7eca2829]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2160dc81-b9ef-4dd7-be0b-05bc7eca2829]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2160dc81-b9ef-4dd7-be0b-05bc7eca2829] Performed ActiveStorage::AnalyzeJob (Job ID: 2160dc81-b9ef-4dd7-be0b-05bc7eca2829) from Async(default) in 4.34ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:34:29.990938', '2019-03-10 14:34:29.990938', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:34:29.990938', '2019-03-10 14:34:29.990938', 298486374)[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:34:30 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 14:34:30.178487"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:34:30 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:34:30.187716"], ["updated_at", "2019-03-10 14:34:30.187716"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 36d10930-79b7-40da-bb7d-198810891f99) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b914dfd18 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [36d10930-79b7-40da-bb7d-198810891f99] Performing UploadArticleImageJob (Job ID: 36d10930-79b7-40da-bb7d-198810891f99) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90bb7038 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [36d10930-79b7-40da-bb7d-198810891f99]   [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:34:30 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 5ms (ActiveRecord: 1.6ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [e9b57a8d-0562-4065-9bd6-3ea60e7e8438] Performing UploadArticleImageJob (Job ID: e9b57a8d-0562-4065-9bd6-3ea60e7e8438) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9118b860 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [e9b57a8d-0562-4065-9bd6-3ea60e7e8438]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [36d10930-79b7-40da-bb7d-198810891f99] [36m  Disk Storage (30.2ms) [0m[32mUploaded file to key: fwiCXVxHEvMxmt27mWp6RUK2 (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [36d10930-79b7-40da-bb7d-198810891f99]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [36d10930-79b7-40da-bb7d-198810891f99]   [1m[36mActiveStorage::Blob Create (2.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "fwiCXVxHEvMxmt27mWp6RUK2"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:34:30.405647"]]
[ActiveJob] [UploadArticleImageJob] [36d10930-79b7-40da-bb7d-198810891f99]   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [36d10930-79b7-40da-bb7d-198810891f99]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [36d10930-79b7-40da-bb7d-198810891f99]   [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:34:30.422581"]]
[ActiveJob] [UploadArticleImageJob] [36d10930-79b7-40da-bb7d-198810891f99]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:34:30.424566"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [36d10930-79b7-40da-bb7d-198810891f99]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [36d10930-79b7-40da-bb7d-198810891f99] Enqueued ActiveStorage::AnalyzeJob (Job ID: c73127a4-651e-494a-9739-a1d12c8cf721) to Test(default) with arguments: #<GlobalID:0x00007f8b914b3038 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [36d10930-79b7-40da-bb7d-198810891f99] Performed UploadArticleImageJob (Job ID: 36d10930-79b7-40da-bb7d-198810891f99) from Async(default) in 232.91ms
[ActiveJob] [UploadArticleImageJob] [e9b57a8d-0562-4065-9bd6-3ea60e7e8438] [36m  Disk Storage (27.5ms) [0m[32mUploaded file to key: ayEqJtkWv6K3vYs1SwLPXdWB (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [e9b57a8d-0562-4065-9bd6-3ea60e7e8438]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [e9b57a8d-0562-4065-9bd6-3ea60e7e8438]   [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ayEqJtkWv6K3vYs1SwLPXdWB"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:34:30.430126"]]
[ActiveJob] [UploadArticleImageJob] [e9b57a8d-0562-4065-9bd6-3ea60e7e8438]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [e9b57a8d-0562-4065-9bd6-3ea60e7e8438]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [e9b57a8d-0562-4065-9bd6-3ea60e7e8438]   [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 2], ["created_at", "2019-03-10 14:34:30.432338"]]
[ActiveJob] [UploadArticleImageJob] [e9b57a8d-0562-4065-9bd6-3ea60e7e8438]   [1m[36mArticle Update (0.2ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:34:30.433350"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [e9b57a8d-0562-4065-9bd6-3ea60e7e8438]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [e9b57a8d-0562-4065-9bd6-3ea60e7e8438] Enqueued ActiveStorage::AnalyzeJob (Job ID: ceb34cab-4bcd-4650-b3f4-7836646bd898) to Test(default) with arguments: #<GlobalID:0x00007f8b902c4ed0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/2>>
[ActiveJob] [UploadArticleImageJob] [e9b57a8d-0562-4065-9bd6-3ea60e7e8438] Performed UploadArticleImageJob (Job ID: e9b57a8d-0562-4065-9bd6-3ea60e7e8438) from Test(default) in 36.98ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:34:44.950991', '2019-03-10 14:34:44.950991', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:34:44.950991', '2019-03-10 14:34:44.950991', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:34:45 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:34:45.056215"], ["updated_at", "2019-03-10 14:34:45.056215"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 94abf2a4-1540-47fc-8381-960ce92e35ab) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9043e338 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [94abf2a4-1540-47fc-8381-960ce92e35ab] Performing UploadArticleImageJob (Job ID: 94abf2a4-1540-47fc-8381-960ce92e35ab) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b909c5180 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 19ms (ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [94abf2a4-1540-47fc-8381-960ce92e35ab]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [0b6fc323-f02d-4815-ac29-a52f0c4c64ef] Performing UploadArticleImageJob (Job ID: 0b6fc323-f02d-4815-ac29-a52f0c4c64ef) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b903a2d20 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [0b6fc323-f02d-4815-ac29-a52f0c4c64ef]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [94abf2a4-1540-47fc-8381-960ce92e35ab] [36m  Disk Storage (9.5ms) [0m[32mUploaded file to key: KzB6XfZxUaSVUkdijzcSWwHP (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [94abf2a4-1540-47fc-8381-960ce92e35ab]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [94abf2a4-1540-47fc-8381-960ce92e35ab]   [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "KzB6XfZxUaSVUkdijzcSWwHP"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:34:45.246849"]]
[ActiveJob] [UploadArticleImageJob] [94abf2a4-1540-47fc-8381-960ce92e35ab]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [94abf2a4-1540-47fc-8381-960ce92e35ab]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [94abf2a4-1540-47fc-8381-960ce92e35ab]   [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:34:45.258882"]]
[ActiveJob] [UploadArticleImageJob] [94abf2a4-1540-47fc-8381-960ce92e35ab]   [1m[36mArticle Update (0.2ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:34:45.261212"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [94abf2a4-1540-47fc-8381-960ce92e35ab]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [94abf2a4-1540-47fc-8381-960ce92e35ab] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9f0f8253-0703-4333-b180-5da0ffb024a6) to Test(default) with arguments: #<GlobalID:0x00007f8b90cab840 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [94abf2a4-1540-47fc-8381-960ce92e35ab] Performed UploadArticleImageJob (Job ID: 94abf2a4-1540-47fc-8381-960ce92e35ab) from Async(default) in 197.98ms
[ActiveJob] [UploadArticleImageJob] [0b6fc323-f02d-4815-ac29-a52f0c4c64ef] [36m  Disk Storage (21.9ms) [0m[32mUploaded file to key: Wbmfc3tnrqVT5z2HjUqhEvyG (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [0b6fc323-f02d-4815-ac29-a52f0c4c64ef]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [0b6fc323-f02d-4815-ac29-a52f0c4c64ef]   [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "Wbmfc3tnrqVT5z2HjUqhEvyG"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:34:45.266574"]]
[ActiveJob] [UploadArticleImageJob] [0b6fc323-f02d-4815-ac29-a52f0c4c64ef]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [0b6fc323-f02d-4815-ac29-a52f0c4c64ef]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [0b6fc323-f02d-4815-ac29-a52f0c4c64ef]   [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 2], ["created_at", "2019-03-10 14:34:45.270080"]]
[ActiveJob] [UploadArticleImageJob] [0b6fc323-f02d-4815-ac29-a52f0c4c64ef]   [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:34:45.271368"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [0b6fc323-f02d-4815-ac29-a52f0c4c64ef]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [0b6fc323-f02d-4815-ac29-a52f0c4c64ef] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2048fa9e-f0c8-4f9c-96ae-f4bbd3fc2a4f) to Test(default) with arguments: #<GlobalID:0x00007f8b915ff9f0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/2>>
[ActiveJob] [UploadArticleImageJob] [0b6fc323-f02d-4815-ac29-a52f0c4c64ef] Performed UploadArticleImageJob (Job ID: 0b6fc323-f02d-4815-ac29-a52f0c4c64ef) from Test(default) in 33.84ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:35:06.256978', '2019-03-10 14:35:06.256978', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:35:06.256978', '2019-03-10 14:35:06.256978', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UploadArticleImageJobTest: test_article_image_uploading
-------------------------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [c5853478-3ea4-447a-bd93-0ca4df9ff51e] Performing UploadArticleImageJob (Job ID: c5853478-3ea4-447a-bd93-0ca4df9ff51e) from Test(default) with arguments: "/Users/Alex/thinknetica/blog/test/jobs/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b902bb010 @uri=#<URI::GID gid://blog/Article/980190962>>
[ActiveJob] [UploadArticleImageJob] [c5853478-3ea4-447a-bd93-0ca4df9ff51e]   [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [c5853478-3ea4-447a-bd93-0ca4df9ff51e] [36m  Disk Storage (2.7ms) [0m[32mUploaded file to key: naKRXRftrxiazd7BViHFfkc2 (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [c5853478-3ea4-447a-bd93-0ca4df9ff51e]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [c5853478-3ea4-447a-bd93-0ca4df9ff51e]   [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "naKRXRftrxiazd7BViHFfkc2"], ["filename", "article_980190962"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:35:06.333895"]]
[ActiveJob] [UploadArticleImageJob] [c5853478-3ea4-447a-bd93-0ca4df9ff51e]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [c5853478-3ea4-447a-bd93-0ca4df9ff51e]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [c5853478-3ea4-447a-bd93-0ca4df9ff51e]   [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190962], ["blob_id", 1], ["created_at", "2019-03-10 14:35:06.346291"]]
[ActiveJob] [UploadArticleImageJob] [c5853478-3ea4-447a-bd93-0ca4df9ff51e]   [1m[36mArticle Update (0.2ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:35:06.348531"], ["id", 980190962]]
[ActiveJob] [UploadArticleImageJob] [c5853478-3ea4-447a-bd93-0ca4df9ff51e]   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [c5853478-3ea4-447a-bd93-0ca4df9ff51e] Enqueued ActiveStorage::AnalyzeJob (Job ID: 55a1182a-6f94-4bdd-8410-3a10980834e4) to Test(default) with arguments: #<GlobalID:0x00007f8b903dc3e0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [c5853478-3ea4-447a-bd93-0ca4df9ff51e] Performed UploadArticleImageJob (Job ID: c5853478-3ea4-447a-bd93-0ca4df9ff51e) from Test(default) in 76.75ms
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:35:06 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:35:06.566520"], ["updated_at", "2019-03-10 14:35:06.566520"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: b360ac16-71d3-4f75-9e31-020330720dec) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9182a0b8 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (1.7ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [b360ac16-71d3-4f75-9e31-020330720dec] Performing UploadArticleImageJob (Job ID: b360ac16-71d3-4f75-9e31-020330720dec) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b918375d8 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [b360ac16-71d3-4f75-9e31-020330720dec]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [b360ac16-71d3-4f75-9e31-020330720dec] [36m  Disk Storage (1.4ms) [0m[32mUploaded file to key: fEGHhvYMckUFK9Fd3bDWiuL8 (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [b360ac16-71d3-4f75-9e31-020330720dec] Performed UploadArticleImageJob (Job ID: b360ac16-71d3-4f75-9e31-020330720dec) from Async(default) in 71.81ms
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:36:06.479014', '2019-03-10 14:36:06.479014', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:36:06.479014', '2019-03-10 14:36:06.479014', 298486374)[0m
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:36:06 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:36:06.586880"], ["updated_at", "2019-03-10 14:36:06.586880"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 73f5187c-6f08-4fdc-a3bb-b4ce4773765e) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90c348f8 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 11ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [73f5187c-6f08-4fdc-a3bb-b4ce4773765e] Performing UploadArticleImageJob (Job ID: 73f5187c-6f08-4fdc-a3bb-b4ce4773765e) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92c1bce8 @uri=#<URI::GID gid://blog/Article/980190963>>
[ActiveJob] [UploadArticleImageJob] [73f5187c-6f08-4fdc-a3bb-b4ce4773765e]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [73f5187c-6f08-4fdc-a3bb-b4ce4773765e] [36m  Disk Storage (4.4ms) [0m[32mUploaded file to key: K9ma3td1J6cD5FPGNXuFn1YS (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [73f5187c-6f08-4fdc-a3bb-b4ce4773765e]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [73f5187c-6f08-4fdc-a3bb-b4ce4773765e]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "K9ma3td1J6cD5FPGNXuFn1YS"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:36:06.676680"]]
[ActiveJob] [UploadArticleImageJob] [73f5187c-6f08-4fdc-a3bb-b4ce4773765e]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [73f5187c-6f08-4fdc-a3bb-b4ce4773765e]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [73f5187c-6f08-4fdc-a3bb-b4ce4773765e]   [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:36:06.700845"]]
[ActiveJob] [UploadArticleImageJob] [73f5187c-6f08-4fdc-a3bb-b4ce4773765e]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:36:06.702022"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [73f5187c-6f08-4fdc-a3bb-b4ce4773765e]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [73f5187c-6f08-4fdc-a3bb-b4ce4773765e] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2a125f72-c125-4f5f-9be9-ac9d4737dbc8) to Async(default) with arguments: #<GlobalID:0x00007f8b9019cb98 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [73f5187c-6f08-4fdc-a3bb-b4ce4773765e] Performed UploadArticleImageJob (Job ID: 73f5187c-6f08-4fdc-a3bb-b4ce4773765e) from Async(default) in 108.28ms
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2a125f72-c125-4f5f-9be9-ac9d4737dbc8] Performing ActiveStorage::AnalyzeJob (Job ID: 2a125f72-c125-4f5f-9be9-ac9d4737dbc8) from Async(default) with arguments: #<GlobalID:0x00007f8b901ed5c0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [2a125f72-c125-4f5f-9be9-ac9d4737dbc8] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: K9ma3td1J6cD5FPGNXuFn1YS[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2a125f72-c125-4f5f-9be9-ac9d4737dbc8] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [2a125f72-c125-4f5f-9be9-ac9d4737dbc8]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2a125f72-c125-4f5f-9be9-ac9d4737dbc8]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2a125f72-c125-4f5f-9be9-ac9d4737dbc8]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2a125f72-c125-4f5f-9be9-ac9d4737dbc8] Performed ActiveStorage::AnalyzeJob (Job ID: 2a125f72-c125-4f5f-9be9-ac9d4737dbc8) from Async(default) in 4.87ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:36:17.095383', '2019-03-10 14:36:17.095383', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:36:17.095383', '2019-03-10 14:36:17.095383', 298486374)[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:36:17 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 22ms (ActiveRecord: 0.9ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:36:17 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 14:36:17.263813"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:36:17 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.7ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:36:17.280531"], ["updated_at", "2019-03-10 14:36:17.280531"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 91acb43b-f605-43d3-a2c7-619f105865dc) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90c85618 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 10ms (ActiveRecord: 0.9ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [91acb43b-f605-43d3-a2c7-619f105865dc] Performing UploadArticleImageJob (Job ID: 91acb43b-f605-43d3-a2c7-619f105865dc) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b903c3610 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [91acb43b-f605-43d3-a2c7-619f105865dc]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [91acb43b-f605-43d3-a2c7-619f105865dc] Performed UploadArticleImageJob (Job ID: 91acb43b-f605-43d3-a2c7-619f105865dc) from Async(default) in 111.98ms
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:36:23.950854', '2019-03-10 14:36:23.950854', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:36:23.950854', '2019-03-10 14:36:23.950854', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:36:24 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:36:24.054253"], ["updated_at", "2019-03-10 14:36:24.054253"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 4f2c765e-678f-4acb-8630-db3fc72277e4) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90a2b0e8 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [4f2c765e-678f-4acb-8630-db3fc72277e4] Performing UploadArticleImageJob (Job ID: 4f2c765e-678f-4acb-8630-db3fc72277e4) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92a16678 @uri=#<URI::GID gid://blog/Article/980190963>>
[ActiveJob] [UploadArticleImageJob] [4f2c765e-678f-4acb-8630-db3fc72277e4]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [4f2c765e-678f-4acb-8630-db3fc72277e4] [36m  Disk Storage (3.2ms) [0m[32mUploaded file to key: XQwdkFDD2D8Bsxg9seZWkwk9 (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [4f2c765e-678f-4acb-8630-db3fc72277e4]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [4f2c765e-678f-4acb-8630-db3fc72277e4]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "XQwdkFDD2D8Bsxg9seZWkwk9"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:36:24.121146"]]
[ActiveJob] [UploadArticleImageJob] [4f2c765e-678f-4acb-8630-db3fc72277e4]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [4f2c765e-678f-4acb-8630-db3fc72277e4]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [4f2c765e-678f-4acb-8630-db3fc72277e4]   [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:36:24.143256"]]
[ActiveJob] [UploadArticleImageJob] [4f2c765e-678f-4acb-8630-db3fc72277e4]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:36:24.144542"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [4f2c765e-678f-4acb-8630-db3fc72277e4]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [4f2c765e-678f-4acb-8630-db3fc72277e4] Enqueued ActiveStorage::AnalyzeJob (Job ID: f83cd3fd-18be-45e8-805b-ef38cb320647) to Async(default) with arguments: #<GlobalID:0x00007f8b918289e8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [4f2c765e-678f-4acb-8630-db3fc72277e4] Performed UploadArticleImageJob (Job ID: 4f2c765e-678f-4acb-8630-db3fc72277e4) from Async(default) in 85.35ms
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f83cd3fd-18be-45e8-805b-ef38cb320647] Performing ActiveStorage::AnalyzeJob (Job ID: f83cd3fd-18be-45e8-805b-ef38cb320647) from Async(default) with arguments: #<GlobalID:0x00007f8b92c58a08 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f83cd3fd-18be-45e8-805b-ef38cb320647] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: XQwdkFDD2D8Bsxg9seZWkwk9[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f83cd3fd-18be-45e8-805b-ef38cb320647] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [f83cd3fd-18be-45e8-805b-ef38cb320647]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f83cd3fd-18be-45e8-805b-ef38cb320647]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f83cd3fd-18be-45e8-805b-ef38cb320647]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f83cd3fd-18be-45e8-805b-ef38cb320647] Performed ActiveStorage::AnalyzeJob (Job ID: f83cd3fd-18be-45e8-805b-ef38cb320647) from Async(default) in 5.91ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:36:32.287046', '2019-03-10 14:36:32.287046', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:36:32.287046', '2019-03-10 14:36:32.287046', 298486374)[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:36:32 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:36:32.385366"], ["updated_at", "2019-03-10 14:36:32.385366"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: bde7b6da-0d80-47db-8d13-7b264ac6548a) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b903d6d28 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 17ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [bde7b6da-0d80-47db-8d13-7b264ac6548a] Performing UploadArticleImageJob (Job ID: bde7b6da-0d80-47db-8d13-7b264ac6548a) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92c8cf10 @uri=#<URI::GID gid://blog/Article/980190963>>
[ActiveJob] [UploadArticleImageJob] [bde7b6da-0d80-47db-8d13-7b264ac6548a]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [bde7b6da-0d80-47db-8d13-7b264ac6548a] [36m  Disk Storage (3.9ms) [0m[32mUploaded file to key: s51sn9wNWuJcZPcFYbztQmqG (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [bde7b6da-0d80-47db-8d13-7b264ac6548a]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bde7b6da-0d80-47db-8d13-7b264ac6548a]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "s51sn9wNWuJcZPcFYbztQmqG"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:36:32.493779"]]
[ActiveJob] [UploadArticleImageJob] [bde7b6da-0d80-47db-8d13-7b264ac6548a]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bde7b6da-0d80-47db-8d13-7b264ac6548a]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bde7b6da-0d80-47db-8d13-7b264ac6548a]   [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:36:32.503078"]]
[ActiveJob] [UploadArticleImageJob] [bde7b6da-0d80-47db-8d13-7b264ac6548a]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:36:32.504315"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [bde7b6da-0d80-47db-8d13-7b264ac6548a]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bde7b6da-0d80-47db-8d13-7b264ac6548a] Enqueued ActiveStorage::AnalyzeJob (Job ID: 54fe2b1f-2822-4536-b70f-6070dfd483a1) to Async(default) with arguments: #<GlobalID:0x00007f8b914798b0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [bde7b6da-0d80-47db-8d13-7b264ac6548a] Performed UploadArticleImageJob (Job ID: bde7b6da-0d80-47db-8d13-7b264ac6548a) from Async(default) in 111.01ms
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [54fe2b1f-2822-4536-b70f-6070dfd483a1] Performing ActiveStorage::AnalyzeJob (Job ID: 54fe2b1f-2822-4536-b70f-6070dfd483a1) from Async(default) with arguments: #<GlobalID:0x00007f8b92a83d40 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [54fe2b1f-2822-4536-b70f-6070dfd483a1] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: s51sn9wNWuJcZPcFYbztQmqG[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [54fe2b1f-2822-4536-b70f-6070dfd483a1] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [54fe2b1f-2822-4536-b70f-6070dfd483a1]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [54fe2b1f-2822-4536-b70f-6070dfd483a1]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [54fe2b1f-2822-4536-b70f-6070dfd483a1]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [54fe2b1f-2822-4536-b70f-6070dfd483a1] Performed ActiveStorage::AnalyzeJob (Job ID: 54fe2b1f-2822-4536-b70f-6070dfd483a1) from Async(default) in 4.23ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:36:40.775213', '2019-03-10 14:36:40.775213', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:36:40.775213', '2019-03-10 14:36:40.775213', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:36:40 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:36:40.855180"], ["updated_at", "2019-03-10 14:36:40.855180"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 3f78fa17-d906-47dc-86a1-a11bc849fd57) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92c4b060 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 17ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3f78fa17-d906-47dc-86a1-a11bc849fd57] Performing UploadArticleImageJob (Job ID: 3f78fa17-d906-47dc-86a1-a11bc849fd57) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b915be9c8 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3f78fa17-d906-47dc-86a1-a11bc849fd57]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3f78fa17-d906-47dc-86a1-a11bc849fd57] [36m  Disk Storage (3.8ms) [0m[32mUploaded file to key: G3nSuDXe2cyhcjhEjBFE6sWT (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [3f78fa17-d906-47dc-86a1-a11bc849fd57]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3f78fa17-d906-47dc-86a1-a11bc849fd57]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "G3nSuDXe2cyhcjhEjBFE6sWT"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:36:40.915696"]]
[ActiveJob] [UploadArticleImageJob] [3f78fa17-d906-47dc-86a1-a11bc849fd57]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3f78fa17-d906-47dc-86a1-a11bc849fd57]   [1m[35m (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3f78fa17-d906-47dc-86a1-a11bc849fd57]   [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:36:40.942549"]]
[ActiveJob] [UploadArticleImageJob] [3f78fa17-d906-47dc-86a1-a11bc849fd57]   [1m[36mArticle Update (0.2ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:36:40.943756"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [3f78fa17-d906-47dc-86a1-a11bc849fd57]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3f78fa17-d906-47dc-86a1-a11bc849fd57] Enqueued ActiveStorage::AnalyzeJob (Job ID: 7f2f7a2a-6de5-40af-a90a-a8fb4da9b5b2) to Async(default) with arguments: #<GlobalID:0x00007f8b90332458 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [3f78fa17-d906-47dc-86a1-a11bc849fd57] Performed UploadArticleImageJob (Job ID: 3f78fa17-d906-47dc-86a1-a11bc849fd57) from Async(default) in 86.1ms
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7f2f7a2a-6de5-40af-a90a-a8fb4da9b5b2] Performing ActiveStorage::AnalyzeJob (Job ID: 7f2f7a2a-6de5-40af-a90a-a8fb4da9b5b2) from Async(default) with arguments: #<GlobalID:0x00007f8b90bf6850 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [7f2f7a2a-6de5-40af-a90a-a8fb4da9b5b2] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: G3nSuDXe2cyhcjhEjBFE6sWT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7f2f7a2a-6de5-40af-a90a-a8fb4da9b5b2] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [7f2f7a2a-6de5-40af-a90a-a8fb4da9b5b2]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7f2f7a2a-6de5-40af-a90a-a8fb4da9b5b2]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7f2f7a2a-6de5-40af-a90a-a8fb4da9b5b2]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7f2f7a2a-6de5-40af-a90a-a8fb4da9b5b2] Performed ActiveStorage::AnalyzeJob (Job ID: 7f2f7a2a-6de5-40af-a90a-a8fb4da9b5b2) from Async(default) in 6.05ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:36:50.604861', '2019-03-10 14:36:50.604861', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:36:50.604861', '2019-03-10 14:36:50.604861', 298486374)[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:36:50 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:36:50.702557"], ["updated_at", "2019-03-10 14:36:50.702557"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 7fe292e7-27cc-465e-83d4-7d4fc11eab7c) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92b7c378 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 16ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [7fe292e7-27cc-465e-83d4-7d4fc11eab7c] Performing UploadArticleImageJob (Job ID: 7fe292e7-27cc-465e-83d4-7d4fc11eab7c) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90bcc348 @uri=#<URI::GID gid://blog/Article/980190963>>
[ActiveJob] [UploadArticleImageJob] [7fe292e7-27cc-465e-83d4-7d4fc11eab7c]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [7fe292e7-27cc-465e-83d4-7d4fc11eab7c] [36m  Disk Storage (3.1ms) [0m[32mUploaded file to key: esXmboN9TZR8kfSqKW9B5Tuc (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [7fe292e7-27cc-465e-83d4-7d4fc11eab7c]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [7fe292e7-27cc-465e-83d4-7d4fc11eab7c]   [1m[36mActiveStorage::Blob Create (1.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "esXmboN9TZR8kfSqKW9B5Tuc"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:36:50.782254"]]
[ActiveJob] [UploadArticleImageJob] [7fe292e7-27cc-465e-83d4-7d4fc11eab7c]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [7fe292e7-27cc-465e-83d4-7d4fc11eab7c]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [7fe292e7-27cc-465e-83d4-7d4fc11eab7c]   [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:36:50.817952"]]
[ActiveJob] [UploadArticleImageJob] [7fe292e7-27cc-465e-83d4-7d4fc11eab7c]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:36:50.819165"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [7fe292e7-27cc-465e-83d4-7d4fc11eab7c]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [7fe292e7-27cc-465e-83d4-7d4fc11eab7c] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3d5decbf-0a0b-427d-bf02-7dfd542aa537) to Async(default) with arguments: #<GlobalID:0x00007f8b908f0750 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [7fe292e7-27cc-465e-83d4-7d4fc11eab7c] Performed UploadArticleImageJob (Job ID: 7fe292e7-27cc-465e-83d4-7d4fc11eab7c) from Async(default) in 109.96ms
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3d5decbf-0a0b-427d-bf02-7dfd542aa537] Performing ActiveStorage::AnalyzeJob (Job ID: 3d5decbf-0a0b-427d-bf02-7dfd542aa537) from Async(default) with arguments: #<GlobalID:0x00007f8b928aa410 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [3d5decbf-0a0b-427d-bf02-7dfd542aa537] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: esXmboN9TZR8kfSqKW9B5Tuc[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3d5decbf-0a0b-427d-bf02-7dfd542aa537] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [3d5decbf-0a0b-427d-bf02-7dfd542aa537]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3d5decbf-0a0b-427d-bf02-7dfd542aa537]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3d5decbf-0a0b-427d-bf02-7dfd542aa537]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3d5decbf-0a0b-427d-bf02-7dfd542aa537] Performed ActiveStorage::AnalyzeJob (Job ID: 3d5decbf-0a0b-427d-bf02-7dfd542aa537) from Async(default) in 4.24ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:36:50 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:36:50 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 14:36:50.891528"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:36:54.004745', '2019-03-10 14:36:54.004745', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:36:54.004745', '2019-03-10 14:36:54.004745', 298486374)[0m
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:36:54 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 23ms (ActiveRecord: 0.9ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:36:54 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:36:54.148265"], ["updated_at", "2019-03-10 14:36:54.148265"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 75bb2e59-43ca-4856-90d3-cd0ffdb1612f) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92b71e50 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 15ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (1.6ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [75bb2e59-43ca-4856-90d3-cd0ffdb1612f] Performing UploadArticleImageJob (Job ID: 75bb2e59-43ca-4856-90d3-cd0ffdb1612f) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b91502098 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [75bb2e59-43ca-4856-90d3-cd0ffdb1612f]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:36:54 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 14:36:54.297898"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:36:54.304091', '2019-03-10 14:36:54.304091', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:36:54.304091', '2019-03-10 14:36:54.304091', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [75bb2e59-43ca-4856-90d3-cd0ffdb1612f] [36m  Disk Storage (15.8ms) [0m[32mUploaded file to key: XhfBTEaU6CA3KSHA7tmxgUzg (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [75bb2e59-43ca-4856-90d3-cd0ffdb1612f] Error performing UploadArticleImageJob (Job ID: 75bb2e59-43ca-4856-90d3-cd0ffdb1612f) from Async(default) in 146.95ms: Errno::ENOENT (No such file or directory @ rb_sysopen - /Users/Alex/thinknetica/blog/tmp/storage/Xh/fB/XhfBTEaU6CA3KSHA7tmxgUzg):
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/2.6.0/digest.rb:50:in `initialize'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/2.6.0/digest.rb:50:in `open'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/2.6.0/digest.rb:50:in `file'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/2.6.0/digest.rb:35:in `file'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/service/disk_service.rb:140:in `ensure_integrity_of'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/service/disk_service.rb:21:in `block in upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `block in instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/service.rb:124:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/service/disk_service.rb:19:in `upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:159:in `upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:57:in `block in build_after_upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:52:in `tap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:52:in `build_after_upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:65:in `create_after_upload!'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/attached.rb:28:in `create_blob_from'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/attached/one.rb:24:in `attach'
/Users/Alex/thinknetica/blog/app/helpers/articles_helper.rb:5:in `upload_image'
/Users/Alex/thinknetica/blog/app/jobs/upload_article_image_job.rb:5:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:39:in `block in perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/i18n-1.6.0/lib/i18n.rb:297:in `with_locale'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:26:in `block (4 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `block in instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:25:in `block (3 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `block in tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:22:in `block (2 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:38:in `perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:24:in `block in execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:28:in `block (4 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:73:in `block in wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:72:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:27:in `block (3 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:22:in `execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:36:56.330287', '2019-03-10 14:36:56.330287', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:36:56.330287', '2019-03-10 14:36:56.330287', 298486374)[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:36:56 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:36:56.453730"], ["updated_at", "2019-03-10 14:36:56.453730"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 4d25a464-586b-4f96-9d1b-677095a9dec9) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b903ab380 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [4d25a464-586b-4f96-9d1b-677095a9dec9] Performing UploadArticleImageJob (Job ID: 4d25a464-586b-4f96-9d1b-677095a9dec9) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9480d708 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 25ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [4d25a464-586b-4f96-9d1b-677095a9dec9]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:36:56 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.5ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:36:56 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (1.0ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 14:36:56.595085"], ["id", 980190962]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 8ms (ActiveRecord: 1.6ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [4d25a464-586b-4f96-9d1b-677095a9dec9] [36m  Disk Storage (16.4ms) [0m[32mUploaded file to key: 2Dzr27FNAqGp5eGB31BttvKr (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [4d25a464-586b-4f96-9d1b-677095a9dec9] Error performing UploadArticleImageJob (Job ID: 4d25a464-586b-4f96-9d1b-677095a9dec9) from Async(default) in 141.57ms: Errno::ENOENT (No such file or directory @ rb_sysopen - /Users/Alex/thinknetica/blog/tmp/storage/2D/zr/2Dzr27FNAqGp5eGB31BttvKr):
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/2.6.0/digest.rb:50:in `initialize'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/2.6.0/digest.rb:50:in `open'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/2.6.0/digest.rb:50:in `file'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/2.6.0/digest.rb:35:in `file'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/service/disk_service.rb:140:in `ensure_integrity_of'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/service/disk_service.rb:21:in `block in upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `block in instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/service.rb:124:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/service/disk_service.rb:19:in `upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:159:in `upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:57:in `block in build_after_upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:52:in `tap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:52:in `build_after_upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:65:in `create_after_upload!'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/attached.rb:28:in `create_blob_from'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/attached/one.rb:24:in `attach'
/Users/Alex/thinknetica/blog/app/helpers/articles_helper.rb:5:in `upload_image'
/Users/Alex/thinknetica/blog/app/jobs/upload_article_image_job.rb:5:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:39:in `block in perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/i18n-1.6.0/lib/i18n.rb:297:in `with_locale'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:26:in `block (4 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `block in instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:25:in `block (3 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `block in tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:22:in `block (2 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:38:in `perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:24:in `block in execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:28:in `block (4 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:73:in `block in wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:72:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:27:in `block (3 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:22:in `execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:37:10.417075', '2019-03-10 14:37:10.417075', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:37:10.417075', '2019-03-10 14:37:10.417075', 298486374)[0m
  [1m[35m (3.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:37:10 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 13ms (ActiveRecord: 0.8ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:37:10 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:37:10.530150"], ["updated_at", "2019-03-10 14:37:10.530150"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 88129aff-7995-43f5-b253-165139adab91) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9039af08 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [88129aff-7995-43f5-b253-165139adab91] Performing UploadArticleImageJob (Job ID: 88129aff-7995-43f5-b253-165139adab91) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92c387a8 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [88129aff-7995-43f5-b253-165139adab91]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:37:10 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 14:37:10.706649"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
[ActiveJob] [UploadArticleImageJob] [88129aff-7995-43f5-b253-165139adab91] [36m  Disk Storage (8.5ms) [0m[32mUploaded file to key: Zr5QhcChr8LYaz8viNCpVgsD (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [88129aff-7995-43f5-b253-165139adab91] Error performing UploadArticleImageJob (Job ID: 88129aff-7995-43f5-b253-165139adab91) from Async(default) in 172.81ms: Errno::ENOENT (No such file or directory @ rb_sysopen - /Users/Alex/thinknetica/blog/tmp/storage/Zr/5Q/Zr5QhcChr8LYaz8viNCpVgsD):
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/2.6.0/digest.rb:50:in `initialize'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/2.6.0/digest.rb:50:in `open'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/2.6.0/digest.rb:50:in `file'
/Users/Alex/.rvm/rubies/ruby-2.6.0/lib/ruby/2.6.0/digest.rb:35:in `file'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/service/disk_service.rb:140:in `ensure_integrity_of'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/service/disk_service.rb:21:in `block in upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `block in instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/service.rb:124:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/service/disk_service.rb:19:in `upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:159:in `upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:57:in `block in build_after_upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:52:in `tap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:52:in `build_after_upload'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/app/models/active_storage/blob.rb:65:in `create_after_upload!'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/attached.rb:28:in `create_blob_from'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activestorage-5.2.2/lib/active_storage/attached/one.rb:24:in `attach'
/Users/Alex/thinknetica/blog/app/helpers/articles_helper.rb:5:in `upload_image'
/Users/Alex/thinknetica/blog/app/jobs/upload_article_image_job.rb:5:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:39:in `block in perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/i18n-1.6.0/lib/i18n.rb:297:in `with_locale'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:26:in `block (4 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `block in instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications/instrumenter.rb:23:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/notifications.rb:168:in `instrument'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:25:in `block (3 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `block in tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `block in tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/tagged_logging.rb:71:in `tagged'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:46:in `tag_logger'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/logging.rb:22:in `block (2 levels) in <module:Logging>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:38:in `perform_now'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:24:in `block in execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:109:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:28:in `block (4 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:73:in `block in wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/execution_wrapper.rb:87:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/reloader.rb:72:in `wrap'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/railtie.rb:27:in `block (3 levels) in <class:Railtie>'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `instance_exec'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:118:in `block in run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activesupport-5.2.2/lib/active_support/callbacks.rb:136:in `run_callbacks'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/execution.rb:22:in `execute'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/activejob-5.2.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/Alex/.rvm/gems/ruby-2.6.0/gems/concurrent-ruby-1.1.4/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:37:10.711695', '2019-03-10 14:37:10.711695', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:37:10.711695', '2019-03-10 14:37:10.711695', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:37:12.109085', '2019-03-10 14:37:12.109085', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:37:12.109085', '2019-03-10 14:37:12.109085', 298486374)[0m
  [1m[35m (2.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:37:12 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 23ms (ActiveRecord: 0.9ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:37:12 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 14:37:12.268699"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:37:12 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:37:12.284952"], ["updated_at", "2019-03-10 14:37:12.284952"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 01d8a49a-0c09-40b5-ba75-812d36344c76) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9154c670 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [01d8a49a-0c09-40b5-ba75-812d36344c76] Performing UploadArticleImageJob (Job ID: 01d8a49a-0c09-40b5-ba75-812d36344c76) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90c2cba8 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [01d8a49a-0c09-40b5-ba75-812d36344c76]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [01d8a49a-0c09-40b5-ba75-812d36344c76] Performed UploadArticleImageJob (Job ID: 01d8a49a-0c09-40b5-ba75-812d36344c76) from Async(default) in 119.25ms
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:37:14.624115', '2019-03-10 14:37:14.624115', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:37:14.624115', '2019-03-10 14:37:14.624115', 298486374)[0m
  [1m[35m (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:37:14 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:37:14.765535"], ["updated_at", "2019-03-10 14:37:14.765535"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: cc266154-4116-4eb6-87bc-18e920d88607) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92c52658 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 17ms (ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [cc266154-4116-4eb6-87bc-18e920d88607] Performing UploadArticleImageJob (Job ID: cc266154-4116-4eb6-87bc-18e920d88607) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b915cd8d8 @uri=#<URI::GID gid://blog/Article/980190963>>
[ActiveJob] [UploadArticleImageJob] [cc266154-4116-4eb6-87bc-18e920d88607]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [cc266154-4116-4eb6-87bc-18e920d88607] [36m  Disk Storage (4.6ms) [0m[32mUploaded file to key: RAkZJuxxzKFVdnPjnYuBe96E (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [cc266154-4116-4eb6-87bc-18e920d88607]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [cc266154-4116-4eb6-87bc-18e920d88607]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "RAkZJuxxzKFVdnPjnYuBe96E"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:37:14.833335"]]
[ActiveJob] [UploadArticleImageJob] [cc266154-4116-4eb6-87bc-18e920d88607]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [cc266154-4116-4eb6-87bc-18e920d88607]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [cc266154-4116-4eb6-87bc-18e920d88607]   [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:37:14.842499"]]
[ActiveJob] [UploadArticleImageJob] [cc266154-4116-4eb6-87bc-18e920d88607]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:37:14.843583"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [cc266154-4116-4eb6-87bc-18e920d88607]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [cc266154-4116-4eb6-87bc-18e920d88607] Enqueued ActiveStorage::AnalyzeJob (Job ID: dc9986fc-4fb7-4d63-bae5-c78e35d7fa18) to Async(default) with arguments: #<GlobalID:0x00007f8b915925a8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [cc266154-4116-4eb6-87bc-18e920d88607] Performed UploadArticleImageJob (Job ID: cc266154-4116-4eb6-87bc-18e920d88607) from Async(default) in 65.59ms
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc9986fc-4fb7-4d63-bae5-c78e35d7fa18] Performing ActiveStorage::AnalyzeJob (Job ID: dc9986fc-4fb7-4d63-bae5-c78e35d7fa18) from Async(default) with arguments: #<GlobalID:0x00007f8b90c86360 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc9986fc-4fb7-4d63-bae5-c78e35d7fa18] [36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: RAkZJuxxzKFVdnPjnYuBe96E[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc9986fc-4fb7-4d63-bae5-c78e35d7fa18] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc9986fc-4fb7-4d63-bae5-c78e35d7fa18]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc9986fc-4fb7-4d63-bae5-c78e35d7fa18]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc9986fc-4fb7-4d63-bae5-c78e35d7fa18]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc9986fc-4fb7-4d63-bae5-c78e35d7fa18] Performed ActiveStorage::AnalyzeJob (Job ID: dc9986fc-4fb7-4d63-bae5-c78e35d7fa18) from Async(default) in 4.44ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:37:14 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:37:14 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"New title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "New title"], ["updated_at", "2019-03-10 14:37:14.916054"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:38:16.404864', '2019-03-10 14:38:16.404864', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:38:16.404864', '2019-03-10 14:38:16.404864', 298486374)[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:38:16 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 18ms (ActiveRecord: 1.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:38:16 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:38:16.685329"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:38:16 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:38:16.691333"], ["updated_at", "2019-03-10 14:38:16.691333"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: b9c455d1-481b-4323-9ee1-48e99568fd5f) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9033bdf0 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [b9c455d1-481b-4323-9ee1-48e99568fd5f] Performing UploadArticleImageJob (Job ID: b9c455d1-481b-4323-9ee1-48e99568fd5f) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90bfebe0 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [b9c455d1-481b-4323-9ee1-48e99568fd5f]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [b9c455d1-481b-4323-9ee1-48e99568fd5f] Performed UploadArticleImageJob (Job ID: b9c455d1-481b-4323-9ee1-48e99568fd5f) from Async(default) in 71.42ms
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:38:18.588132', '2019-03-10 14:38:18.588132', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:38:18.588132', '2019-03-10 14:38:18.588132', 298486374)[0m
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:38:18 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:38:18.706399"], ["updated_at", "2019-03-10 14:38:18.706399"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: d85d83b1-8055-43f1-ac0b-9806c272d722) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90a7f738 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d85d83b1-8055-43f1-ac0b-9806c272d722] Performing UploadArticleImageJob (Job ID: d85d83b1-8055-43f1-ac0b-9806c272d722) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9124eab8 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 21ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d85d83b1-8055-43f1-ac0b-9806c272d722]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:38:18 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:38:18.861796"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:38:18 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.5ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Dude?', 'Where is my car?', '2019-03-10 14:38:18.881726', '2019-03-10 14:38:18.881726', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Luke!', 'I am your father!', '2019-03-10 14:38:18.881726', '2019-03-10 14:38:18.881726', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [d85d83b1-8055-43f1-ac0b-9806c272d722] [36m  Disk Storage (23.1ms) [0m[32mUploaded file to key: GWPRY3o5ZS9E3JFpm3PReMhr (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [d85d83b1-8055-43f1-ac0b-9806c272d722]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [UploadArticleImageJob] [d85d83b1-8055-43f1-ac0b-9806c272d722]   [1m[36mActiveStorage::Blob Create (1.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "GWPRY3o5ZS9E3JFpm3PReMhr"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:38:18.892322"]]
[ActiveJob] [UploadArticleImageJob] [d85d83b1-8055-43f1-ac0b-9806c272d722]   [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [d85d83b1-8055-43f1-ac0b-9806c272d722] Performed UploadArticleImageJob (Job ID: d85d83b1-8055-43f1-ac0b-9806c272d722) from Async(default) in 180.66ms
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:38:47.357657', '2019-03-10 14:38:47.357657', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:38:47.357657', '2019-03-10 14:38:47.357657', 298486374)[0m
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:38:47 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:38:47.442698"], ["updated_at", "2019-03-10 14:38:47.442698"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: df724067-c204-4430-862e-0f76e277a257) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b91634330 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [df724067-c204-4430-862e-0f76e277a257] Performing UploadArticleImageJob (Job ID: df724067-c204-4430-862e-0f76e277a257) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90437a10 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 16ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [df724067-c204-4430-862e-0f76e277a257]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:38:47 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:38:47.550911"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:38:47 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.5ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [df724067-c204-4430-862e-0f76e277a257] [36m  Disk Storage (20.1ms) [0m[32mUploaded file to key: 4i6rP7asAPeS62NqUrnhSe79 (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [df724067-c204-4430-862e-0f76e277a257]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [UploadArticleImageJob] [df724067-c204-4430-862e-0f76e277a257]   [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "4i6rP7asAPeS62NqUrnhSe79"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:38:47.566574"]]
[ActiveJob] [UploadArticleImageJob] [df724067-c204-4430-862e-0f76e277a257]   [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [UploadArticleImageJob] [df724067-c204-4430-862e-0f76e277a257]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [UploadArticleImageJob] [df724067-c204-4430-862e-0f76e277a257]   [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2019-03-10 14:38:47.585673"]]
[ActiveJob] [UploadArticleImageJob] [df724067-c204-4430-862e-0f76e277a257]   [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:38:47.588138"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [df724067-c204-4430-862e-0f76e277a257]   [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [UploadArticleImageJob] [df724067-c204-4430-862e-0f76e277a257] Enqueued ActiveStorage::AnalyzeJob (Job ID: 64c19b6e-3cf0-46b6-8d4a-785dc04142a9) to Async(default) with arguments: #<GlobalID:0x00007f8b9043e158 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [df724067-c204-4430-862e-0f76e277a257] Performed UploadArticleImageJob (Job ID: df724067-c204-4430-862e-0f76e277a257) from Async(default) in 147.98ms
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [64c19b6e-3cf0-46b6-8d4a-785dc04142a9] Performing ActiveStorage::AnalyzeJob (Job ID: 64c19b6e-3cf0-46b6-8d4a-785dc04142a9) from Async(default) with arguments: #<GlobalID:0x00007f8b90492398 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:38:47.573618', '2019-03-10 14:38:47.573618', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:38:47.573618', '2019-03-10 14:38:47.573618', 298486374)[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [64c19b6e-3cf0-46b6-8d4a-785dc04142a9] [36m  Disk Storage (0.8ms) [0m[34mDownloaded file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [64c19b6e-3cf0-46b6-8d4a-785dc04142a9] Performed ActiveStorage::AnalyzeJob (Job ID: 64c19b6e-3cf0-46b6-8d4a-785dc04142a9) from Async(default) in 10.47ms
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:38:49.773979', '2019-03-10 14:38:49.773979', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:38:49.773979', '2019-03-10 14:38:49.773979', 298486374)[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:38:49 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:38:49.885688"], ["updated_at", "2019-03-10 14:38:49.885688"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: a4a54ee3-cd7c-445f-a4fe-c1784a70c576) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b914d93a0 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [a4a54ee3-cd7c-445f-a4fe-c1784a70c576] Performing UploadArticleImageJob (Job ID: a4a54ee3-cd7c-445f-a4fe-c1784a70c576) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b914e7b30 @uri=#<URI::GID gid://blog/Article/980190963>>
[ActiveJob] [UploadArticleImageJob] [a4a54ee3-cd7c-445f-a4fe-c1784a70c576]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [a4a54ee3-cd7c-445f-a4fe-c1784a70c576]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [a4a54ee3-cd7c-445f-a4fe-c1784a70c576] [36m  Disk Storage (4.1ms) [0m[32mUploaded file to key: bZMdeAE42aYFSdaaji3RNpjM (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [a4a54ee3-cd7c-445f-a4fe-c1784a70c576]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [a4a54ee3-cd7c-445f-a4fe-c1784a70c576]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "bZMdeAE42aYFSdaaji3RNpjM"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:38:49.933022"]]
[ActiveJob] [UploadArticleImageJob] [a4a54ee3-cd7c-445f-a4fe-c1784a70c576]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [a4a54ee3-cd7c-445f-a4fe-c1784a70c576]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [a4a54ee3-cd7c-445f-a4fe-c1784a70c576]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [a4a54ee3-cd7c-445f-a4fe-c1784a70c576]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 2], ["created_at", "2019-03-10 14:38:49.936382"]]
[ActiveJob] [UploadArticleImageJob] [a4a54ee3-cd7c-445f-a4fe-c1784a70c576]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:38:49.937087"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [a4a54ee3-cd7c-445f-a4fe-c1784a70c576]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [a4a54ee3-cd7c-445f-a4fe-c1784a70c576] Enqueued ActiveStorage::AnalyzeJob (Job ID: 75ccc39b-fdcd-4ef1-8af7-885595f1de11) to Async(default) with arguments: #<GlobalID:0x00007f8b90d0cc08 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/2>>
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [75ccc39b-fdcd-4ef1-8af7-885595f1de11] Performing ActiveStorage::AnalyzeJob (Job ID: 75ccc39b-fdcd-4ef1-8af7-885595f1de11) from Async(default) with arguments: #<GlobalID:0x00007f8b9172ba18 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [75ccc39b-fdcd-4ef1-8af7-885595f1de11] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: bZMdeAE42aYFSdaaji3RNpjM[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [75ccc39b-fdcd-4ef1-8af7-885595f1de11] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [75ccc39b-fdcd-4ef1-8af7-885595f1de11]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [75ccc39b-fdcd-4ef1-8af7-885595f1de11]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [75ccc39b-fdcd-4ef1-8af7-885595f1de11]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [75ccc39b-fdcd-4ef1-8af7-885595f1de11] Performed ActiveStorage::AnalyzeJob (Job ID: 75ccc39b-fdcd-4ef1-8af7-885595f1de11) from Async(default) in 5.92ms
[ActiveJob] [UploadArticleImageJob] [a4a54ee3-cd7c-445f-a4fe-c1784a70c576] Enqueued ActiveStorage::PurgeJob (Job ID: 46d4d9e3-e6ee-41e2-9fb6-4cea740b8dff) to Async(default) with arguments: #<GlobalID:0x00007f8b904ff9e8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [a4a54ee3-cd7c-445f-a4fe-c1784a70c576] Performed UploadArticleImageJob (Job ID: a4a54ee3-cd7c-445f-a4fe-c1784a70c576) from Async(default) in 56.21ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [46d4d9e3-e6ee-41e2-9fb6-4cea740b8dff] Performing ActiveStorage::PurgeJob (Job ID: 46d4d9e3-e6ee-41e2-9fb6-4cea740b8dff) from Async(default) with arguments: #<GlobalID:0x00007f8b91722e68 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [46d4d9e3-e6ee-41e2-9fb6-4cea740b8dff]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [46d4d9e3-e6ee-41e2-9fb6-4cea740b8dff]   [1m[36mActiveStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [46d4d9e3-e6ee-41e2-9fb6-4cea740b8dff]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [46d4d9e3-e6ee-41e2-9fb6-4cea740b8dff]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [46d4d9e3-e6ee-41e2-9fb6-4cea740b8dff]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [46d4d9e3-e6ee-41e2-9fb6-4cea740b8dff] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [46d4d9e3-e6ee-41e2-9fb6-4cea740b8dff] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [46d4d9e3-e6ee-41e2-9fb6-4cea740b8dff] Performed ActiveStorage::PurgeJob (Job ID: 46d4d9e3-e6ee-41e2-9fb6-4cea740b8dff) from Async(default) in 13.84ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:38:50 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:38:50.036506"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:38:50 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.2ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:39:25.984411', '2019-03-10 14:39:25.984411', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:39:25.984411', '2019-03-10 14:39:25.984411', 298486374)[0m
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:26 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 19ms (ActiveRecord: 1.2ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:39:26 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:39:26.209580"], ["updated_at", "2019-03-10 14:39:26.209580"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 66dbe88b-3274-4eca-9dfb-97fe00fc743a) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b938004a0 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [66dbe88b-3274-4eca-9dfb-97fe00fc743a] Performing UploadArticleImageJob (Job ID: 66dbe88b-3274-4eca-9dfb-97fe00fc743a) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b903c2990 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
[ActiveJob] [UploadArticleImageJob] [66dbe88b-3274-4eca-9dfb-97fe00fc743a]   [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [66dbe88b-3274-4eca-9dfb-97fe00fc743a]   [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:26 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:39:26.347821"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [66dbe88b-3274-4eca-9dfb-97fe00fc743a] [36m  Disk Storage (10.4ms) [0m[32mUploaded file to key: KwbSew6TfN5CcUiT1eBXUUhj (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [66dbe88b-3274-4eca-9dfb-97fe00fc743a]   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [UploadArticleImageJob] [66dbe88b-3274-4eca-9dfb-97fe00fc743a]   [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "KwbSew6TfN5CcUiT1eBXUUhj"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:39:26.353317"]]
[ActiveJob] [UploadArticleImageJob] [66dbe88b-3274-4eca-9dfb-97fe00fc743a]   [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [UploadArticleImageJob] [66dbe88b-3274-4eca-9dfb-97fe00fc743a]   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [UploadArticleImageJob] [66dbe88b-3274-4eca-9dfb-97fe00fc743a] Performed UploadArticleImageJob (Job ID: 66dbe88b-3274-4eca-9dfb-97fe00fc743a) from Async(default) in 140.49ms
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:39:27.935344', '2019-03-10 14:39:27.935344', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:39:27.935344', '2019-03-10 14:39:27.935344', 298486374)[0m
  [1m[35m (2.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:39:28 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:39:28.027512"], ["updated_at", "2019-03-10 14:39:28.027512"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: f68afc62-23ff-41ef-983a-fc3f38806111) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90415000 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [f68afc62-23ff-41ef-983a-fc3f38806111] Performing UploadArticleImageJob (Job ID: f68afc62-23ff-41ef-983a-fc3f38806111) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b91646a58 @uri=#<URI::GID gid://blog/Article/980190963>>
[ActiveJob] [UploadArticleImageJob] [f68afc62-23ff-41ef-983a-fc3f38806111]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [f68afc62-23ff-41ef-983a-fc3f38806111]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [f68afc62-23ff-41ef-983a-fc3f38806111] [36m  Disk Storage (4.2ms) [0m[32mUploaded file to key: n9fS9keYQmbbLBrveDJaq8gG (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [f68afc62-23ff-41ef-983a-fc3f38806111]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [f68afc62-23ff-41ef-983a-fc3f38806111]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "n9fS9keYQmbbLBrveDJaq8gG"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:39:28.086753"]]
[ActiveJob] [UploadArticleImageJob] [f68afc62-23ff-41ef-983a-fc3f38806111]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [f68afc62-23ff-41ef-983a-fc3f38806111]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [f68afc62-23ff-41ef-983a-fc3f38806111]   [1m[36mActiveStorage::Attachment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [f68afc62-23ff-41ef-983a-fc3f38806111]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:39:28.090427"]]
[ActiveJob] [UploadArticleImageJob] [f68afc62-23ff-41ef-983a-fc3f38806111]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:39:28.091104"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [f68afc62-23ff-41ef-983a-fc3f38806111]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [f68afc62-23ff-41ef-983a-fc3f38806111] Enqueued ActiveStorage::AnalyzeJob (Job ID: 44dff335-87b4-427e-88ae-6e8315830d3d) to Async(default) with arguments: #<GlobalID:0x00007f8b903c1040 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [f68afc62-23ff-41ef-983a-fc3f38806111] Enqueued ActiveStorage::PurgeJob (Job ID: 90dc54a3-80bc-4f54-9c87-b0b099a46ee8) to Async(default) with arguments: #<GlobalID:0x00007f8b94804748 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [f68afc62-23ff-41ef-983a-fc3f38806111] Performed UploadArticleImageJob (Job ID: f68afc62-23ff-41ef-983a-fc3f38806111) from Async(default) in 59.04ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [90dc54a3-80bc-4f54-9c87-b0b099a46ee8] Performing ActiveStorage::PurgeJob (Job ID: 90dc54a3-80bc-4f54-9c87-b0b099a46ee8) from Async(default) with arguments: #<GlobalID:0x00007f8b9182aa68 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [90dc54a3-80bc-4f54-9c87-b0b099a46ee8]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (1.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [44dff335-87b4-427e-88ae-6e8315830d3d] Performing ActiveStorage::AnalyzeJob (Job ID: 44dff335-87b4-427e-88ae-6e8315830d3d) from Async(default) with arguments: #<GlobalID:0x00007f8b90c96558 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [90dc54a3-80bc-4f54-9c87-b0b099a46ee8]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [90dc54a3-80bc-4f54-9c87-b0b099a46ee8]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [90dc54a3-80bc-4f54-9c87-b0b099a46ee8]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [90dc54a3-80bc-4f54-9c87-b0b099a46ee8]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [90dc54a3-80bc-4f54-9c87-b0b099a46ee8] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [90dc54a3-80bc-4f54-9c87-b0b099a46ee8] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [44dff335-87b4-427e-88ae-6e8315830d3d] [36m  Disk Storage (3.0ms) [0m[34mDownloaded file from key: n9fS9keYQmbbLBrveDJaq8gG[0m
[ActiveJob] [ActiveStorage::PurgeJob] [90dc54a3-80bc-4f54-9c87-b0b099a46ee8] Performed ActiveStorage::PurgeJob (Job ID: 90dc54a3-80bc-4f54-9c87-b0b099a46ee8) from Async(default) in 8.47ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [44dff335-87b4-427e-88ae-6e8315830d3d] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [44dff335-87b4-427e-88ae-6e8315830d3d]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [44dff335-87b4-427e-88ae-6e8315830d3d]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [44dff335-87b4-427e-88ae-6e8315830d3d]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [44dff335-87b4-427e-88ae-6e8315830d3d] Performed ActiveStorage::AnalyzeJob (Job ID: 44dff335-87b4-427e-88ae-6e8315830d3d) from Async(default) in 7.92ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:28 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:39:28.175807"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:28 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:39:29.683023', '2019-03-10 14:39:29.683023', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:39:29.683023', '2019-03-10 14:39:29.683023', 298486374)[0m
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:29 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 13ms (ActiveRecord: 0.8ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:39:29 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:39:29.799000"], ["updated_at", "2019-03-10 14:39:29.799000"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 58e29177-c3c4-4b97-a94c-cdd5a93ef065) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92b73e08 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [58e29177-c3c4-4b97-a94c-cdd5a93ef065] Performing UploadArticleImageJob (Job ID: 58e29177-c3c4-4b97-a94c-cdd5a93ef065) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b914e86e8 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [58e29177-c3c4-4b97-a94c-cdd5a93ef065]   [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [58e29177-c3c4-4b97-a94c-cdd5a93ef065]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [58e29177-c3c4-4b97-a94c-cdd5a93ef065] [36m  Disk Storage (2.9ms) [0m[32mUploaded file to key: ZwkFZZnrRLne9msStGeU7Ct3 (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [58e29177-c3c4-4b97-a94c-cdd5a93ef065]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [58e29177-c3c4-4b97-a94c-cdd5a93ef065]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ZwkFZZnrRLne9msStGeU7Ct3"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:39:29.846523"]]
[ActiveJob] [UploadArticleImageJob] [58e29177-c3c4-4b97-a94c-cdd5a93ef065]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [58e29177-c3c4-4b97-a94c-cdd5a93ef065]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [58e29177-c3c4-4b97-a94c-cdd5a93ef065]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [58e29177-c3c4-4b97-a94c-cdd5a93ef065]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:39:29.849806"]]
[ActiveJob] [UploadArticleImageJob] [58e29177-c3c4-4b97-a94c-cdd5a93ef065]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:39:29.850524"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [58e29177-c3c4-4b97-a94c-cdd5a93ef065]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [58e29177-c3c4-4b97-a94c-cdd5a93ef065] Enqueued ActiveStorage::AnalyzeJob (Job ID: f5d4108b-0683-4395-8a00-7131a3da0669) to Async(default) with arguments: #<GlobalID:0x00007f8b9135dbe8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f5d4108b-0683-4395-8a00-7131a3da0669] Performing ActiveStorage::AnalyzeJob (Job ID: f5d4108b-0683-4395-8a00-7131a3da0669) from Async(default) with arguments: #<GlobalID:0x00007f8b92d58bb0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f5d4108b-0683-4395-8a00-7131a3da0669] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: ZwkFZZnrRLne9msStGeU7Ct3[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f5d4108b-0683-4395-8a00-7131a3da0669] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [f5d4108b-0683-4395-8a00-7131a3da0669]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f5d4108b-0683-4395-8a00-7131a3da0669]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f5d4108b-0683-4395-8a00-7131a3da0669]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f5d4108b-0683-4395-8a00-7131a3da0669] Performed ActiveStorage::AnalyzeJob (Job ID: f5d4108b-0683-4395-8a00-7131a3da0669) from Async(default) in 4.92ms
[ActiveJob] [UploadArticleImageJob] [58e29177-c3c4-4b97-a94c-cdd5a93ef065] Enqueued ActiveStorage::PurgeJob (Job ID: c6af1298-56c3-4734-a6ac-0f5b10f92b24) to Async(default) with arguments: #<GlobalID:0x00007f8b905395f8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [c6af1298-56c3-4734-a6ac-0f5b10f92b24] Performing ActiveStorage::PurgeJob (Job ID: c6af1298-56c3-4734-a6ac-0f5b10f92b24) from Async(default) with arguments: #<GlobalID:0x00007f8b916e4e38 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [c6af1298-56c3-4734-a6ac-0f5b10f92b24]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [58e29177-c3c4-4b97-a94c-cdd5a93ef065] Performed UploadArticleImageJob (Job ID: 58e29177-c3c4-4b97-a94c-cdd5a93ef065) from Async(default) in 54.67ms
[ActiveJob] [ActiveStorage::PurgeJob] [c6af1298-56c3-4734-a6ac-0f5b10f92b24]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [c6af1298-56c3-4734-a6ac-0f5b10f92b24]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [c6af1298-56c3-4734-a6ac-0f5b10f92b24]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [c6af1298-56c3-4734-a6ac-0f5b10f92b24]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [c6af1298-56c3-4734-a6ac-0f5b10f92b24] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [c6af1298-56c3-4734-a6ac-0f5b10f92b24] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [c6af1298-56c3-4734-a6ac-0f5b10f92b24] Performed ActiveStorage::PurgeJob (Job ID: c6af1298-56c3-4734-a6ac-0f5b10f92b24) from Async(default) in 5.59ms
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:29 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.6ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:39:29.936353"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:39:31.438878', '2019-03-10 14:39:31.438878', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:39:31.438878', '2019-03-10 14:39:31.438878', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:31 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 13ms (ActiveRecord: 0.8ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:39:31 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:39:31.569963"], ["updated_at", "2019-03-10 14:39:31.569963"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 3d3c110c-55f0-45c2-9195-3a7e5a36ca0b) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b903a0d68 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3d3c110c-55f0-45c2-9195-3a7e5a36ca0b] Performing UploadArticleImageJob (Job ID: 3d3c110c-55f0-45c2-9195-3a7e5a36ca0b) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90c8f488 @uri=#<URI::GID gid://blog/Article/980190963>>
[ActiveJob] [UploadArticleImageJob] [3d3c110c-55f0-45c2-9195-3a7e5a36ca0b]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3d3c110c-55f0-45c2-9195-3a7e5a36ca0b]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3d3c110c-55f0-45c2-9195-3a7e5a36ca0b] [36m  Disk Storage (2.7ms) [0m[32mUploaded file to key: nM9KRjpKASH8V9Rw3vJyY78s (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [3d3c110c-55f0-45c2-9195-3a7e5a36ca0b]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3d3c110c-55f0-45c2-9195-3a7e5a36ca0b]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "nM9KRjpKASH8V9Rw3vJyY78s"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:39:31.615766"]]
[ActiveJob] [UploadArticleImageJob] [3d3c110c-55f0-45c2-9195-3a7e5a36ca0b]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3d3c110c-55f0-45c2-9195-3a7e5a36ca0b]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3d3c110c-55f0-45c2-9195-3a7e5a36ca0b]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [3d3c110c-55f0-45c2-9195-3a7e5a36ca0b]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:39:31.619076"]]
[ActiveJob] [UploadArticleImageJob] [3d3c110c-55f0-45c2-9195-3a7e5a36ca0b]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:39:31.619834"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [3d3c110c-55f0-45c2-9195-3a7e5a36ca0b]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3d3c110c-55f0-45c2-9195-3a7e5a36ca0b] Enqueued ActiveStorage::AnalyzeJob (Job ID: d7b94e84-ef59-4f5a-91e9-b8e362e7c612) to Async(default) with arguments: #<GlobalID:0x00007f8b92d64aa0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [3d3c110c-55f0-45c2-9195-3a7e5a36ca0b] Enqueued ActiveStorage::PurgeJob (Job ID: 863d00b8-4924-48e5-ad46-f66753ebf8e9) to Async(default) with arguments: #<GlobalID:0x00007f8b916f31e0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [3d3c110c-55f0-45c2-9195-3a7e5a36ca0b] Performed UploadArticleImageJob (Job ID: 3d3c110c-55f0-45c2-9195-3a7e5a36ca0b) from Async(default) in 39.46ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [863d00b8-4924-48e5-ad46-f66753ebf8e9] Performing ActiveStorage::PurgeJob (Job ID: 863d00b8-4924-48e5-ad46-f66753ebf8e9) from Async(default) with arguments: #<GlobalID:0x00007f8b92d7da28 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [863d00b8-4924-48e5-ad46-f66753ebf8e9]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d7b94e84-ef59-4f5a-91e9-b8e362e7c612] Performing ActiveStorage::AnalyzeJob (Job ID: d7b94e84-ef59-4f5a-91e9-b8e362e7c612) from Async(default) with arguments: #<GlobalID:0x00007f8b91366bd0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [863d00b8-4924-48e5-ad46-f66753ebf8e9]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [863d00b8-4924-48e5-ad46-f66753ebf8e9]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [863d00b8-4924-48e5-ad46-f66753ebf8e9]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [863d00b8-4924-48e5-ad46-f66753ebf8e9]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d7b94e84-ef59-4f5a-91e9-b8e362e7c612] [36m  Disk Storage (3.5ms) [0m[34mDownloaded file from key: nM9KRjpKASH8V9Rw3vJyY78s[0m
[ActiveJob] [ActiveStorage::PurgeJob] [863d00b8-4924-48e5-ad46-f66753ebf8e9] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [863d00b8-4924-48e5-ad46-f66753ebf8e9] [36m  Disk Storage (0.2ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [863d00b8-4924-48e5-ad46-f66753ebf8e9] Performed ActiveStorage::PurgeJob (Job ID: 863d00b8-4924-48e5-ad46-f66753ebf8e9) from Async(default) in 7.44ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [d7b94e84-ef59-4f5a-91e9-b8e362e7c612] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [d7b94e84-ef59-4f5a-91e9-b8e362e7c612]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d7b94e84-ef59-4f5a-91e9-b8e362e7c612]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d7b94e84-ef59-4f5a-91e9-b8e362e7c612]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d7b94e84-ef59-4f5a-91e9-b8e362e7c612] Performed ActiveStorage::AnalyzeJob (Job ID: d7b94e84-ef59-4f5a-91e9-b8e362e7c612) from Async(default) in 7.73ms
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:31 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:39:31.699737"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:39:33.176564', '2019-03-10 14:39:33.176564', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:39:33.176564', '2019-03-10 14:39:33.176564', 298486374)[0m
  [1m[35m (2.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:39:33 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:39:33.269436"], ["updated_at", "2019-03-10 14:39:33.269436"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: d2450d61-f55b-4cf3-9fe4-881a55321c60) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b903fe120 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 11ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d2450d61-f55b-4cf3-9fe4-881a55321c60] Performing UploadArticleImageJob (Job ID: d2450d61-f55b-4cf3-9fe4-881a55321c60) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90414560 @uri=#<URI::GID gid://blog/Article/980190963>>
[ActiveJob] [UploadArticleImageJob] [d2450d61-f55b-4cf3-9fe4-881a55321c60]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d2450d61-f55b-4cf3-9fe4-881a55321c60]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d2450d61-f55b-4cf3-9fe4-881a55321c60] [36m  Disk Storage (4.2ms) [0m[32mUploaded file to key: nHviBR7vguMhawU8hMuXemRc (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [d2450d61-f55b-4cf3-9fe4-881a55321c60]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d2450d61-f55b-4cf3-9fe4-881a55321c60]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "nHviBR7vguMhawU8hMuXemRc"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:39:33.354452"]]
[ActiveJob] [UploadArticleImageJob] [d2450d61-f55b-4cf3-9fe4-881a55321c60]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d2450d61-f55b-4cf3-9fe4-881a55321c60]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d2450d61-f55b-4cf3-9fe4-881a55321c60]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [d2450d61-f55b-4cf3-9fe4-881a55321c60]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:39:33.358096"]]
[ActiveJob] [UploadArticleImageJob] [d2450d61-f55b-4cf3-9fe4-881a55321c60]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:39:33.359163"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [d2450d61-f55b-4cf3-9fe4-881a55321c60]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d2450d61-f55b-4cf3-9fe4-881a55321c60] Enqueued ActiveStorage::AnalyzeJob (Job ID: af9cdf1c-7599-403a-a532-300a7841e678) to Async(default) with arguments: #<GlobalID:0x00007f8b90c1fe80 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [d2450d61-f55b-4cf3-9fe4-881a55321c60] Enqueued ActiveStorage::PurgeJob (Job ID: ceb2f1b4-1b6b-4318-b39a-403194a8c681) to Async(default) with arguments: #<GlobalID:0x00007f8b90c2ec00 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [d2450d61-f55b-4cf3-9fe4-881a55321c60] Performed UploadArticleImageJob (Job ID: d2450d61-f55b-4cf3-9fe4-881a55321c60) from Async(default) in 88.89ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [ceb2f1b4-1b6b-4318-b39a-403194a8c681] Performing ActiveStorage::PurgeJob (Job ID: ceb2f1b4-1b6b-4318-b39a-403194a8c681) from Async(default) with arguments: #<GlobalID:0x00007f8b903711f8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
  [1m[36mActiveStorage::Blob Load (2.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [af9cdf1c-7599-403a-a532-300a7841e678] Performing ActiveStorage::AnalyzeJob (Job ID: af9cdf1c-7599-403a-a532-300a7841e678) from Async(default) with arguments: #<GlobalID:0x00007f8b915802e0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [ceb2f1b4-1b6b-4318-b39a-403194a8c681]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [ceb2f1b4-1b6b-4318-b39a-403194a8c681]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [ceb2f1b4-1b6b-4318-b39a-403194a8c681]   [1m[36mActiveStorage::Blob Destroy (1.4ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [ceb2f1b4-1b6b-4318-b39a-403194a8c681]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [ceb2f1b4-1b6b-4318-b39a-403194a8c681]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [af9cdf1c-7599-403a-a532-300a7841e678] [36m  Disk Storage (5.1ms) [0m[34mDownloaded file from key: nHviBR7vguMhawU8hMuXemRc[0m
[ActiveJob] [ActiveStorage::PurgeJob] [ceb2f1b4-1b6b-4318-b39a-403194a8c681] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [ceb2f1b4-1b6b-4318-b39a-403194a8c681] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [ceb2f1b4-1b6b-4318-b39a-403194a8c681] Performed ActiveStorage::PurgeJob (Job ID: ceb2f1b4-1b6b-4318-b39a-403194a8c681) from Async(default) in 14.33ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [af9cdf1c-7599-403a-a532-300a7841e678] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [af9cdf1c-7599-403a-a532-300a7841e678]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [af9cdf1c-7599-403a-a532-300a7841e678]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [af9cdf1c-7599-403a-a532-300a7841e678]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [af9cdf1c-7599-403a-a532-300a7841e678] Performed ActiveStorage::AnalyzeJob (Job ID: af9cdf1c-7599-403a-a532-300a7841e678) from Async(default) in 19.3ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:33 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:33 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:39:33.477631"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:39:34.926864', '2019-03-10 14:39:34.926864', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:39:34.926864', '2019-03-10 14:39:34.926864', 298486374)[0m
  [1m[35m (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:34 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:39:35.039674"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:39:35 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:39:35.049342"], ["updated_at", "2019-03-10 14:39:35.049342"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 70e42bcd-a28d-4cd6-a08b-8f282e3ff958) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9036bbe0 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [70e42bcd-a28d-4cd6-a08b-8f282e3ff958] Performing UploadArticleImageJob (Job ID: 70e42bcd-a28d-4cd6-a08b-8f282e3ff958) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9157b1f0 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [70e42bcd-a28d-4cd6-a08b-8f282e3ff958]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [70e42bcd-a28d-4cd6-a08b-8f282e3ff958]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [70e42bcd-a28d-4cd6-a08b-8f282e3ff958] [36m  Disk Storage (3.2ms) [0m[32mUploaded file to key: 78ftbdRQ5opyffYsHXNH2eUJ (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [70e42bcd-a28d-4cd6-a08b-8f282e3ff958]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [70e42bcd-a28d-4cd6-a08b-8f282e3ff958]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "78ftbdRQ5opyffYsHXNH2eUJ"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:39:35.170819"]]
[ActiveJob] [UploadArticleImageJob] [70e42bcd-a28d-4cd6-a08b-8f282e3ff958]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [70e42bcd-a28d-4cd6-a08b-8f282e3ff958]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [70e42bcd-a28d-4cd6-a08b-8f282e3ff958]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [70e42bcd-a28d-4cd6-a08b-8f282e3ff958]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:39:35.174163"]]
[ActiveJob] [UploadArticleImageJob] [70e42bcd-a28d-4cd6-a08b-8f282e3ff958]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:39:35.174866"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [70e42bcd-a28d-4cd6-a08b-8f282e3ff958]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [70e42bcd-a28d-4cd6-a08b-8f282e3ff958] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4722e751-d226-4fb5-9554-4f3b967db15f) to Async(default) with arguments: #<GlobalID:0x00007f8b90a4e9f8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [70e42bcd-a28d-4cd6-a08b-8f282e3ff958] Enqueued ActiveStorage::PurgeJob (Job ID: ce96d884-e06a-4014-8885-afb92af29e8c) to Async(default) with arguments: #<GlobalID:0x00007f8b91261be0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [70e42bcd-a28d-4cd6-a08b-8f282e3ff958] Performed UploadArticleImageJob (Job ID: 70e42bcd-a28d-4cd6-a08b-8f282e3ff958) from Async(default) in 124.12ms
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4722e751-d226-4fb5-9554-4f3b967db15f] Performing ActiveStorage::AnalyzeJob (Job ID: 4722e751-d226-4fb5-9554-4f3b967db15f) from Async(default) with arguments: #<GlobalID:0x00007f8b901ddc10 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [ce96d884-e06a-4014-8885-afb92af29e8c] Performing ActiveStorage::PurgeJob (Job ID: ce96d884-e06a-4014-8885-afb92af29e8c) from Async(default) with arguments: #<GlobalID:0x00007f8b92a20678 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [ce96d884-e06a-4014-8885-afb92af29e8c]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [ce96d884-e06a-4014-8885-afb92af29e8c]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [ce96d884-e06a-4014-8885-afb92af29e8c]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [ce96d884-e06a-4014-8885-afb92af29e8c]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [ce96d884-e06a-4014-8885-afb92af29e8c]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4722e751-d226-4fb5-9554-4f3b967db15f] [36m  Disk Storage (3.6ms) [0m[34mDownloaded file from key: 78ftbdRQ5opyffYsHXNH2eUJ[0m
[ActiveJob] [ActiveStorage::PurgeJob] [ce96d884-e06a-4014-8885-afb92af29e8c] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [ce96d884-e06a-4014-8885-afb92af29e8c] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [ce96d884-e06a-4014-8885-afb92af29e8c] Performed ActiveStorage::PurgeJob (Job ID: ce96d884-e06a-4014-8885-afb92af29e8c) from Async(default) in 6.02ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [4722e751-d226-4fb5-9554-4f3b967db15f] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [4722e751-d226-4fb5-9554-4f3b967db15f]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4722e751-d226-4fb5-9554-4f3b967db15f]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4722e751-d226-4fb5-9554-4f3b967db15f]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4722e751-d226-4fb5-9554-4f3b967db15f] Performed ActiveStorage::AnalyzeJob (Job ID: 4722e751-d226-4fb5-9554-4f3b967db15f) from Async(default) in 9.25ms
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:35 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:39:36.692264', '2019-03-10 14:39:36.692264', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:39:36.692264', '2019-03-10 14:39:36.692264', 298486374)[0m
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:36 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.5ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 24ms (ActiveRecord: 1.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:36 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:39:36.854099"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:39:36 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:39:36.864733"], ["updated_at", "2019-03-10 14:39:36.864733"]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: df9716e7-8e25-477c-b93b-89defb4b5104) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b903522a8 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 12ms (ActiveRecord: 2.1ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [df9716e7-8e25-477c-b93b-89defb4b5104] Performing UploadArticleImageJob (Job ID: df9716e7-8e25-477c-b93b-89defb4b5104) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b91565940 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [df9716e7-8e25-477c-b93b-89defb4b5104]   [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [df9716e7-8e25-477c-b93b-89defb4b5104]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [df9716e7-8e25-477c-b93b-89defb4b5104] [36m  Disk Storage (3.2ms) [0m[32mUploaded file to key: P7KtGrXHxZj2hCeQwWL5GnhZ (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [df9716e7-8e25-477c-b93b-89defb4b5104]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [df9716e7-8e25-477c-b93b-89defb4b5104]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "P7KtGrXHxZj2hCeQwWL5GnhZ"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:39:36.954855"]]
[ActiveJob] [UploadArticleImageJob] [df9716e7-8e25-477c-b93b-89defb4b5104]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [df9716e7-8e25-477c-b93b-89defb4b5104]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [df9716e7-8e25-477c-b93b-89defb4b5104]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [df9716e7-8e25-477c-b93b-89defb4b5104]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:39:36.958095"]]
[ActiveJob] [UploadArticleImageJob] [df9716e7-8e25-477c-b93b-89defb4b5104]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:39:36.958828"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [df9716e7-8e25-477c-b93b-89defb4b5104]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [df9716e7-8e25-477c-b93b-89defb4b5104] Enqueued ActiveStorage::AnalyzeJob (Job ID: 7d75d0a9-f769-4b53-9d47-717c1b160d00) to Async(default) with arguments: #<GlobalID:0x00007f8b90c0f008 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [df9716e7-8e25-477c-b93b-89defb4b5104] Enqueued ActiveStorage::PurgeJob (Job ID: 77d787ca-1d76-4177-8128-53a6f7217ade) to Async(default) with arguments: #<GlobalID:0x00007f8b90c1e8c8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [df9716e7-8e25-477c-b93b-89defb4b5104] Performed UploadArticleImageJob (Job ID: df9716e7-8e25-477c-b93b-89defb4b5104) from Async(default) in 85.29ms
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7d75d0a9-f769-4b53-9d47-717c1b160d00] Performing ActiveStorage::AnalyzeJob (Job ID: 7d75d0a9-f769-4b53-9d47-717c1b160d00) from Async(default) with arguments: #<GlobalID:0x00007f8b92bf0b38 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [77d787ca-1d76-4177-8128-53a6f7217ade] Performing ActiveStorage::PurgeJob (Job ID: 77d787ca-1d76-4177-8128-53a6f7217ade) from Async(default) with arguments: #<GlobalID:0x00007f8b92c00128 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [77d787ca-1d76-4177-8128-53a6f7217ade]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [77d787ca-1d76-4177-8128-53a6f7217ade]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [77d787ca-1d76-4177-8128-53a6f7217ade]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [77d787ca-1d76-4177-8128-53a6f7217ade]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [77d787ca-1d76-4177-8128-53a6f7217ade]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7d75d0a9-f769-4b53-9d47-717c1b160d00] [36m  Disk Storage (3.3ms) [0m[34mDownloaded file from key: P7KtGrXHxZj2hCeQwWL5GnhZ[0m
[ActiveJob] [ActiveStorage::PurgeJob] [77d787ca-1d76-4177-8128-53a6f7217ade] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [77d787ca-1d76-4177-8128-53a6f7217ade] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [77d787ca-1d76-4177-8128-53a6f7217ade] Performed ActiveStorage::PurgeJob (Job ID: 77d787ca-1d76-4177-8128-53a6f7217ade) from Async(default) in 6.02ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [7d75d0a9-f769-4b53-9d47-717c1b160d00] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [7d75d0a9-f769-4b53-9d47-717c1b160d00]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7d75d0a9-f769-4b53-9d47-717c1b160d00]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7d75d0a9-f769-4b53-9d47-717c1b160d00]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7d75d0a9-f769-4b53-9d47-717c1b160d00] Performed ActiveStorage::AnalyzeJob (Job ID: 7d75d0a9-f769-4b53-9d47-717c1b160d00) from Async(default) in 9.26ms
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:39:45.104021', '2019-03-10 14:39:45.104021', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:39:45.104021', '2019-03-10 14:39:45.104021', 298486374)[0m
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:45 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 14ms (ActiveRecord: 0.9ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:45 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:39:45.227185"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 17ms (ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:39:45 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.8ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:39:45.236451"], ["updated_at", "2019-03-10 14:39:45.236451"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 767e7303-980f-4294-bfdb-11546c698eb6) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b91316a18 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 12ms (ActiveRecord: 1.2ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [767e7303-980f-4294-bfdb-11546c698eb6] Performing UploadArticleImageJob (Job ID: 767e7303-980f-4294-bfdb-11546c698eb6) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b913a05d8 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [767e7303-980f-4294-bfdb-11546c698eb6]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [767e7303-980f-4294-bfdb-11546c698eb6]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [UploadArticleImageJob] [767e7303-980f-4294-bfdb-11546c698eb6] [36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: dn5Z5Tp5ZihFZEHhQdr2F5jU (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [767e7303-980f-4294-bfdb-11546c698eb6] Performed UploadArticleImageJob (Job ID: 767e7303-980f-4294-bfdb-11546c698eb6) from Async(default) in 128.0ms
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:39:46.820012', '2019-03-10 14:39:46.820012', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:39:46.820012', '2019-03-10 14:39:46.820012', 298486374)[0m
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:46 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:39:46.920817"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:39:46 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:39:46.928610"], ["updated_at", "2019-03-10 14:39:46.928610"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: bdcd225f-585d-4d5b-acac-89de143c3b75) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9152f610 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
[ActiveJob] [UploadArticleImageJob] [bdcd225f-585d-4d5b-acac-89de143c3b75] Performing UploadArticleImageJob (Job ID: bdcd225f-585d-4d5b-acac-89de143c3b75) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92bc7440 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [bdcd225f-585d-4d5b-acac-89de143c3b75]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [bdcd225f-585d-4d5b-acac-89de143c3b75]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [bdcd225f-585d-4d5b-acac-89de143c3b75] [36m  Disk Storage (4.0ms) [0m[32mUploaded file to key: hsZ9EmnamXGEeUGogs8NwEk1 (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [bdcd225f-585d-4d5b-acac-89de143c3b75]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bdcd225f-585d-4d5b-acac-89de143c3b75]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "hsZ9EmnamXGEeUGogs8NwEk1"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:39:47.047411"]]
[ActiveJob] [UploadArticleImageJob] [bdcd225f-585d-4d5b-acac-89de143c3b75]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bdcd225f-585d-4d5b-acac-89de143c3b75]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bdcd225f-585d-4d5b-acac-89de143c3b75]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [bdcd225f-585d-4d5b-acac-89de143c3b75]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:39:47.050851"]]
[ActiveJob] [UploadArticleImageJob] [bdcd225f-585d-4d5b-acac-89de143c3b75]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:39:47.051583"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [bdcd225f-585d-4d5b-acac-89de143c3b75]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bdcd225f-585d-4d5b-acac-89de143c3b75] Enqueued ActiveStorage::AnalyzeJob (Job ID: bfd59c18-ec0a-419f-9ec7-a12b7143a7b8) to Async(default) with arguments: #<GlobalID:0x00007f8b91226540 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [bdcd225f-585d-4d5b-acac-89de143c3b75] Enqueued ActiveStorage::PurgeJob (Job ID: f9d74d81-d2bf-43f4-ab9e-a2d0e4750c37) to Async(default) with arguments: #<GlobalID:0x00007f8b9013d648 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [bdcd225f-585d-4d5b-acac-89de143c3b75] Performed UploadArticleImageJob (Job ID: bdcd225f-585d-4d5b-acac-89de143c3b75) from Async(default) in 122.36ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [f9d74d81-d2bf-43f4-ab9e-a2d0e4750c37] Performing ActiveStorage::PurgeJob (Job ID: f9d74d81-d2bf-43f4-ab9e-a2d0e4750c37) from Async(default) with arguments: #<GlobalID:0x00007f8b90a74950 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [f9d74d81-d2bf-43f4-ab9e-a2d0e4750c37]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [bfd59c18-ec0a-419f-9ec7-a12b7143a7b8] Performing ActiveStorage::AnalyzeJob (Job ID: bfd59c18-ec0a-419f-9ec7-a12b7143a7b8) from Async(default) with arguments: #<GlobalID:0x00007f8b901bf508 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [f9d74d81-d2bf-43f4-ab9e-a2d0e4750c37]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [f9d74d81-d2bf-43f4-ab9e-a2d0e4750c37]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [f9d74d81-d2bf-43f4-ab9e-a2d0e4750c37]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [f9d74d81-d2bf-43f4-ab9e-a2d0e4750c37]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [bfd59c18-ec0a-419f-9ec7-a12b7143a7b8] [36m  Disk Storage (2.4ms) [0m[34mDownloaded file from key: hsZ9EmnamXGEeUGogs8NwEk1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [f9d74d81-d2bf-43f4-ab9e-a2d0e4750c37] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [f9d74d81-d2bf-43f4-ab9e-a2d0e4750c37] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [f9d74d81-d2bf-43f4-ab9e-a2d0e4750c37] Performed ActiveStorage::PurgeJob (Job ID: f9d74d81-d2bf-43f4-ab9e-a2d0e4750c37) from Async(default) in 7.0ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [bfd59c18-ec0a-419f-9ec7-a12b7143a7b8] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [bfd59c18-ec0a-419f-9ec7-a12b7143a7b8]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [bfd59c18-ec0a-419f-9ec7-a12b7143a7b8]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [bfd59c18-ec0a-419f-9ec7-a12b7143a7b8]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [bfd59c18-ec0a-419f-9ec7-a12b7143a7b8] Performed ActiveStorage::AnalyzeJob (Job ID: bfd59c18-ec0a-419f-9ec7-a12b7143a7b8) from Async(default) in 7.21ms
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:47 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:39:48.523060', '2019-03-10 14:39:48.523060', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:39:48.523060', '2019-03-10 14:39:48.523060', 298486374)[0m
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:48 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:39:48.646939"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:48 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 18ms (ActiveRecord: 2.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:39:48 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:39:48.687755"], ["updated_at", "2019-03-10 14:39:48.687755"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 9c666884-fa22-49d1-a3e6-036295745103) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90bef320 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 10ms (ActiveRecord: 0.8ms)
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [9c666884-fa22-49d1-a3e6-036295745103] Performing UploadArticleImageJob (Job ID: 9c666884-fa22-49d1-a3e6-036295745103) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90349388 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [9c666884-fa22-49d1-a3e6-036295745103]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [9c666884-fa22-49d1-a3e6-036295745103]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [9c666884-fa22-49d1-a3e6-036295745103] [36m  Disk Storage (4.0ms) [0m[32mUploaded file to key: XRofqVs4ApxUKJzvLUsdrjwf (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [9c666884-fa22-49d1-a3e6-036295745103]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [9c666884-fa22-49d1-a3e6-036295745103]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "XRofqVs4ApxUKJzvLUsdrjwf"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:39:48.787661"]]
[ActiveJob] [UploadArticleImageJob] [9c666884-fa22-49d1-a3e6-036295745103]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [9c666884-fa22-49d1-a3e6-036295745103]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [9c666884-fa22-49d1-a3e6-036295745103]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [9c666884-fa22-49d1-a3e6-036295745103]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:39:48.790839"]]
[ActiveJob] [UploadArticleImageJob] [9c666884-fa22-49d1-a3e6-036295745103]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:39:48.791604"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [9c666884-fa22-49d1-a3e6-036295745103]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [9c666884-fa22-49d1-a3e6-036295745103] Enqueued ActiveStorage::AnalyzeJob (Job ID: d0a3d70a-d576-4185-9fd8-9b9d6080cda5) to Async(default) with arguments: #<GlobalID:0x00007f8b92bcca58 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [9c666884-fa22-49d1-a3e6-036295745103] Enqueued ActiveStorage::PurgeJob (Job ID: 76024d6d-3c4e-4b55-9829-a4634af211ca) to Async(default) with arguments: #<GlobalID:0x00007f8b9154fed8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [9c666884-fa22-49d1-a3e6-036295745103] Performed UploadArticleImageJob (Job ID: 9c666884-fa22-49d1-a3e6-036295745103) from Async(default) in 93.14ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [76024d6d-3c4e-4b55-9829-a4634af211ca] Performing ActiveStorage::PurgeJob (Job ID: 76024d6d-3c4e-4b55-9829-a4634af211ca) from Async(default) with arguments: #<GlobalID:0x00007f8b90c0cd80 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [76024d6d-3c4e-4b55-9829-a4634af211ca]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0a3d70a-d576-4185-9fd8-9b9d6080cda5] Performing ActiveStorage::AnalyzeJob (Job ID: d0a3d70a-d576-4185-9fd8-9b9d6080cda5) from Async(default) with arguments: #<GlobalID:0x00007f8b92bfb970 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [76024d6d-3c4e-4b55-9829-a4634af211ca]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [76024d6d-3c4e-4b55-9829-a4634af211ca]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [76024d6d-3c4e-4b55-9829-a4634af211ca]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [76024d6d-3c4e-4b55-9829-a4634af211ca]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0a3d70a-d576-4185-9fd8-9b9d6080cda5] [36m  Disk Storage (2.0ms) [0m[34mDownloaded file from key: XRofqVs4ApxUKJzvLUsdrjwf[0m
[ActiveJob] [ActiveStorage::PurgeJob] [76024d6d-3c4e-4b55-9829-a4634af211ca] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [76024d6d-3c4e-4b55-9829-a4634af211ca] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [76024d6d-3c4e-4b55-9829-a4634af211ca] Performed ActiveStorage::PurgeJob (Job ID: 76024d6d-3c4e-4b55-9829-a4634af211ca) from Async(default) in 6.82ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0a3d70a-d576-4185-9fd8-9b9d6080cda5] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0a3d70a-d576-4185-9fd8-9b9d6080cda5]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0a3d70a-d576-4185-9fd8-9b9d6080cda5]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0a3d70a-d576-4185-9fd8-9b9d6080cda5]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0a3d70a-d576-4185-9fd8-9b9d6080cda5] Performed ActiveStorage::AnalyzeJob (Job ID: d0a3d70a-d576-4185-9fd8-9b9d6080cda5) from Async(default) in 7.16ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:39:57.985099', '2019-03-10 14:39:57.985099', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:39:57.985099', '2019-03-10 14:39:57.985099', 298486374)[0m
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:39:58 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:39:58.077105"], ["updated_at", "2019-03-10 14:39:58.077105"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 99fa76f7-725a-4aa1-9913-55b002c3d3f6) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b903dca48 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 11ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [99fa76f7-725a-4aa1-9913-55b002c3d3f6] Performing UploadArticleImageJob (Job ID: 99fa76f7-725a-4aa1-9913-55b002c3d3f6) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90ca1610 @uri=#<URI::GID gid://blog/Article/980190963>>
[ActiveJob] [UploadArticleImageJob] [99fa76f7-725a-4aa1-9913-55b002c3d3f6]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [99fa76f7-725a-4aa1-9913-55b002c3d3f6]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [99fa76f7-725a-4aa1-9913-55b002c3d3f6] [36m  Disk Storage (4.1ms) [0m[32mUploaded file to key: 2tWUwQcDfvi4GbL7K6JAkQVv (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [99fa76f7-725a-4aa1-9913-55b002c3d3f6]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [99fa76f7-725a-4aa1-9913-55b002c3d3f6]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "2tWUwQcDfvi4GbL7K6JAkQVv"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:39:58.166793"]]
[ActiveJob] [UploadArticleImageJob] [99fa76f7-725a-4aa1-9913-55b002c3d3f6]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [99fa76f7-725a-4aa1-9913-55b002c3d3f6]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [99fa76f7-725a-4aa1-9913-55b002c3d3f6]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [99fa76f7-725a-4aa1-9913-55b002c3d3f6]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:39:58.171875"]]
[ActiveJob] [UploadArticleImageJob] [99fa76f7-725a-4aa1-9913-55b002c3d3f6]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:39:58.172687"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [99fa76f7-725a-4aa1-9913-55b002c3d3f6]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [99fa76f7-725a-4aa1-9913-55b002c3d3f6] Enqueued ActiveStorage::AnalyzeJob (Job ID: 133857ee-f209-4d3e-887e-6a9b88c5f61e) to Async(default) with arguments: #<GlobalID:0x00007f8b9154e948 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
  [1m[36mActiveStorage::Blob Load (1.9ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [133857ee-f209-4d3e-887e-6a9b88c5f61e] Performing ActiveStorage::AnalyzeJob (Job ID: 133857ee-f209-4d3e-887e-6a9b88c5f61e) from Async(default) with arguments: #<GlobalID:0x00007f8b92bddf10 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [133857ee-f209-4d3e-887e-6a9b88c5f61e] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: 2tWUwQcDfvi4GbL7K6JAkQVv[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [133857ee-f209-4d3e-887e-6a9b88c5f61e] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [133857ee-f209-4d3e-887e-6a9b88c5f61e]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [133857ee-f209-4d3e-887e-6a9b88c5f61e]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [133857ee-f209-4d3e-887e-6a9b88c5f61e]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [133857ee-f209-4d3e-887e-6a9b88c5f61e] Performed ActiveStorage::AnalyzeJob (Job ID: 133857ee-f209-4d3e-887e-6a9b88c5f61e) from Async(default) in 6.92ms
[ActiveJob] [UploadArticleImageJob] [99fa76f7-725a-4aa1-9913-55b002c3d3f6] Enqueued ActiveStorage::PurgeJob (Job ID: 95e7c723-a3f6-4666-9bda-911f8328e1fe) to Async(default) with arguments: #<GlobalID:0x00007f8b9037bf40 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [95e7c723-a3f6-4666-9bda-911f8328e1fe] Performing ActiveStorage::PurgeJob (Job ID: 95e7c723-a3f6-4666-9bda-911f8328e1fe) from Async(default) with arguments: #<GlobalID:0x00007f8b91583148 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [95e7c723-a3f6-4666-9bda-911f8328e1fe]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [99fa76f7-725a-4aa1-9913-55b002c3d3f6] Performed UploadArticleImageJob (Job ID: 99fa76f7-725a-4aa1-9913-55b002c3d3f6) from Async(default) in 104.21ms
[ActiveJob] [ActiveStorage::PurgeJob] [95e7c723-a3f6-4666-9bda-911f8328e1fe]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [95e7c723-a3f6-4666-9bda-911f8328e1fe]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [95e7c723-a3f6-4666-9bda-911f8328e1fe]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [95e7c723-a3f6-4666-9bda-911f8328e1fe]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [95e7c723-a3f6-4666-9bda-911f8328e1fe] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [95e7c723-a3f6-4666-9bda-911f8328e1fe] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [95e7c723-a3f6-4666-9bda-911f8328e1fe] Performed ActiveStorage::PurgeJob (Job ID: 95e7c723-a3f6-4666-9bda-911f8328e1fe) from Async(default) in 12.46ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:58 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:39:58.284095"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:39:58 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.2ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:39:59.735070', '2019-03-10 14:39:59.735070', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:39:59.735070', '2019-03-10 14:39:59.735070', 298486374)[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:39:59 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:39:59.832199"], ["updated_at", "2019-03-10 14:39:59.832199"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: f1db77c5-61f0-49f3-b250-5576739f7a76) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b902e7200 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 16ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [f1db77c5-61f0-49f3-b250-5576739f7a76] Performing UploadArticleImageJob (Job ID: f1db77c5-61f0-49f3-b250-5576739f7a76) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9150f810 @uri=#<URI::GID gid://blog/Article/980190963>>
[ActiveJob] [UploadArticleImageJob] [f1db77c5-61f0-49f3-b250-5576739f7a76]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [f1db77c5-61f0-49f3-b250-5576739f7a76]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [f1db77c5-61f0-49f3-b250-5576739f7a76] [36m  Disk Storage (4.2ms) [0m[32mUploaded file to key: L23VBsokgSu1jZXBT2a8guJq (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [f1db77c5-61f0-49f3-b250-5576739f7a76]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [f1db77c5-61f0-49f3-b250-5576739f7a76]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "L23VBsokgSu1jZXBT2a8guJq"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:39:59.924978"]]
[ActiveJob] [UploadArticleImageJob] [f1db77c5-61f0-49f3-b250-5576739f7a76]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [f1db77c5-61f0-49f3-b250-5576739f7a76]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [f1db77c5-61f0-49f3-b250-5576739f7a76]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [f1db77c5-61f0-49f3-b250-5576739f7a76]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:39:59.930600"]]
[ActiveJob] [UploadArticleImageJob] [f1db77c5-61f0-49f3-b250-5576739f7a76]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:39:59.932526"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [f1db77c5-61f0-49f3-b250-5576739f7a76]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [f1db77c5-61f0-49f3-b250-5576739f7a76] Enqueued ActiveStorage::AnalyzeJob (Job ID: d0da5349-3936-4957-a07f-f7b0e171b828) to Async(default) with arguments: #<GlobalID:0x00007f8b90d23318 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [f1db77c5-61f0-49f3-b250-5576739f7a76] Enqueued ActiveStorage::PurgeJob (Job ID: d1e21bcd-956d-4538-8dbc-e4734cd21a67) to Async(default) with arguments: #<GlobalID:0x00007f8b91106070 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [f1db77c5-61f0-49f3-b250-5576739f7a76] Performed UploadArticleImageJob (Job ID: f1db77c5-61f0-49f3-b250-5576739f7a76) from Async(default) in 113.08ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [d1e21bcd-956d-4538-8dbc-e4734cd21a67] Performing ActiveStorage::PurgeJob (Job ID: d1e21bcd-956d-4538-8dbc-e4734cd21a67) from Async(default) with arguments: #<GlobalID:0x00007f8b9293f538 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [d1e21bcd-956d-4538-8dbc-e4734cd21a67]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0da5349-3936-4957-a07f-f7b0e171b828] Performing ActiveStorage::AnalyzeJob (Job ID: d0da5349-3936-4957-a07f-f7b0e171b828) from Async(default) with arguments: #<GlobalID:0x00007f8b928ad840 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [d1e21bcd-956d-4538-8dbc-e4734cd21a67]   [1m[36mActiveStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [d1e21bcd-956d-4538-8dbc-e4734cd21a67]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [d1e21bcd-956d-4538-8dbc-e4734cd21a67]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [d1e21bcd-956d-4538-8dbc-e4734cd21a67]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0da5349-3936-4957-a07f-f7b0e171b828] [36m  Disk Storage (3.4ms) [0m[34mDownloaded file from key: L23VBsokgSu1jZXBT2a8guJq[0m
[ActiveJob] [ActiveStorage::PurgeJob] [d1e21bcd-956d-4538-8dbc-e4734cd21a67] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [d1e21bcd-956d-4538-8dbc-e4734cd21a67] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [d1e21bcd-956d-4538-8dbc-e4734cd21a67] Performed ActiveStorage::PurgeJob (Job ID: d1e21bcd-956d-4538-8dbc-e4734cd21a67) from Async(default) in 6.84ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0da5349-3936-4957-a07f-f7b0e171b828] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0da5349-3936-4957-a07f-f7b0e171b828]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0da5349-3936-4957-a07f-f7b0e171b828]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0da5349-3936-4957-a07f-f7b0e171b828]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0da5349-3936-4957-a07f-f7b0e171b828] Performed ActiveStorage::AnalyzeJob (Job ID: d0da5349-3936-4957-a07f-f7b0e171b828) from Async(default) in 7.21ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:40:00 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:40:00.022403"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:40:00 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:40:01.365116', '2019-03-10 14:40:01.365116', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:40:01.365116', '2019-03-10 14:40:01.365116', 298486374)[0m
  [1m[35m (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:40:01 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:40:01.475224"], ["updated_at", "2019-03-10 14:40:01.475224"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 3072cf10-cb83-4164-8084-2c4824b0b3ee) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90145f28 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 24ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.9ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3072cf10-cb83-4164-8084-2c4824b0b3ee] Performing UploadArticleImageJob (Job ID: 3072cf10-cb83-4164-8084-2c4824b0b3ee) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b912fa688 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3072cf10-cb83-4164-8084-2c4824b0b3ee]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3072cf10-cb83-4164-8084-2c4824b0b3ee]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3072cf10-cb83-4164-8084-2c4824b0b3ee] [36m  Disk Storage (3.8ms) [0m[32mUploaded file to key: yGHnM1W6MKTe3uMx4SN1vmwc (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [3072cf10-cb83-4164-8084-2c4824b0b3ee]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3072cf10-cb83-4164-8084-2c4824b0b3ee]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "yGHnM1W6MKTe3uMx4SN1vmwc"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:40:01.589335"]]
[ActiveJob] [UploadArticleImageJob] [3072cf10-cb83-4164-8084-2c4824b0b3ee]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3072cf10-cb83-4164-8084-2c4824b0b3ee]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3072cf10-cb83-4164-8084-2c4824b0b3ee]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [3072cf10-cb83-4164-8084-2c4824b0b3ee]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:40:01.592653"]]
[ActiveJob] [UploadArticleImageJob] [3072cf10-cb83-4164-8084-2c4824b0b3ee]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:40:01.593353"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [3072cf10-cb83-4164-8084-2c4824b0b3ee]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3072cf10-cb83-4164-8084-2c4824b0b3ee] Enqueued ActiveStorage::AnalyzeJob (Job ID: 162d5cbf-c211-45ac-a110-165916a81120) to Async(default) with arguments: #<GlobalID:0x00007f8b90ba1e68 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [3072cf10-cb83-4164-8084-2c4824b0b3ee] Enqueued ActiveStorage::PurgeJob (Job ID: 505eb662-26d5-4281-abdd-f54def744110) to Async(default) with arguments: #<GlobalID:0x00007f8b902fe158 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [3072cf10-cb83-4164-8084-2c4824b0b3ee] Performed UploadArticleImageJob (Job ID: 3072cf10-cb83-4164-8084-2c4824b0b3ee) from Async(default) in 108.98ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [505eb662-26d5-4281-abdd-f54def744110] Performing ActiveStorage::PurgeJob (Job ID: 505eb662-26d5-4281-abdd-f54def744110) from Async(default) with arguments: #<GlobalID:0x00007f8b90304558 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [505eb662-26d5-4281-abdd-f54def744110]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [162d5cbf-c211-45ac-a110-165916a81120] Performing ActiveStorage::AnalyzeJob (Job ID: 162d5cbf-c211-45ac-a110-165916a81120) from Async(default) with arguments: #<GlobalID:0x00007f8b92b72dc8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [505eb662-26d5-4281-abdd-f54def744110]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [505eb662-26d5-4281-abdd-f54def744110]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [505eb662-26d5-4281-abdd-f54def744110]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [505eb662-26d5-4281-abdd-f54def744110]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [162d5cbf-c211-45ac-a110-165916a81120] [36m  Disk Storage (2.3ms) [0m[34mDownloaded file from key: yGHnM1W6MKTe3uMx4SN1vmwc[0m
[ActiveJob] [ActiveStorage::PurgeJob] [505eb662-26d5-4281-abdd-f54def744110] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [505eb662-26d5-4281-abdd-f54def744110] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [505eb662-26d5-4281-abdd-f54def744110] Performed ActiveStorage::PurgeJob (Job ID: 505eb662-26d5-4281-abdd-f54def744110) from Async(default) in 6.73ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [162d5cbf-c211-45ac-a110-165916a81120] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [162d5cbf-c211-45ac-a110-165916a81120]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [162d5cbf-c211-45ac-a110-165916a81120]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [162d5cbf-c211-45ac-a110-165916a81120]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [162d5cbf-c211-45ac-a110-165916a81120] Performed ActiveStorage::AnalyzeJob (Job ID: 162d5cbf-c211-45ac-a110-165916a81120) from Async(default) in 7.1ms
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:40:01 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:40:01 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:40:01.672051"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:40:03.144704', '2019-03-10 14:40:03.144704', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:40:03.144704', '2019-03-10 14:40:03.144704', 298486374)[0m
  [1m[35m (2.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:40:03 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:40:03.235591"], ["updated_at", "2019-03-10 14:40:03.235591"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: e106d0fb-de30-468c-9fd2-c3d3fe328a38) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92c85170 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [e106d0fb-de30-468c-9fd2-c3d3fe328a38] Performing UploadArticleImageJob (Job ID: e106d0fb-de30-468c-9fd2-c3d3fe328a38) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b904071f8 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [e106d0fb-de30-468c-9fd2-c3d3fe328a38]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [e106d0fb-de30-468c-9fd2-c3d3fe328a38]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [e106d0fb-de30-468c-9fd2-c3d3fe328a38] [36m  Disk Storage (4.9ms) [0m[32mUploaded file to key: 78kb8QExmUUYYzBP4hWhwnJW (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [e106d0fb-de30-468c-9fd2-c3d3fe328a38]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [e106d0fb-de30-468c-9fd2-c3d3fe328a38]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "78kb8QExmUUYYzBP4hWhwnJW"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:40:03.319083"]]
[ActiveJob] [UploadArticleImageJob] [e106d0fb-de30-468c-9fd2-c3d3fe328a38]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [e106d0fb-de30-468c-9fd2-c3d3fe328a38]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [e106d0fb-de30-468c-9fd2-c3d3fe328a38]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [e106d0fb-de30-468c-9fd2-c3d3fe328a38]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:40:03.323217"]]
[ActiveJob] [UploadArticleImageJob] [e106d0fb-de30-468c-9fd2-c3d3fe328a38]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:40:03.323998"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [e106d0fb-de30-468c-9fd2-c3d3fe328a38]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [e106d0fb-de30-468c-9fd2-c3d3fe328a38] Enqueued ActiveStorage::AnalyzeJob (Job ID: e8980762-67c4-4018-aefc-829f379d8c81) to Async(default) with arguments: #<GlobalID:0x00007f8b92be8438 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [e106d0fb-de30-468c-9fd2-c3d3fe328a38] Enqueued ActiveStorage::PurgeJob (Job ID: 0f09ff63-222b-4b3b-a646-cf3f8426da8b) to Async(default) with arguments: #<GlobalID:0x00007f8b9155f450 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e8980762-67c4-4018-aefc-829f379d8c81] Performing ActiveStorage::AnalyzeJob (Job ID: e8980762-67c4-4018-aefc-829f379d8c81) from Async(default) with arguments: #<GlobalID:0x00007f8b90c1da90 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [e106d0fb-de30-468c-9fd2-c3d3fe328a38] Performed UploadArticleImageJob (Job ID: e106d0fb-de30-468c-9fd2-c3d3fe328a38) from Async(default) in 91.24ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [0f09ff63-222b-4b3b-a646-cf3f8426da8b] Performing ActiveStorage::PurgeJob (Job ID: 0f09ff63-222b-4b3b-a646-cf3f8426da8b) from Async(default) with arguments: #<GlobalID:0x00007f8b9380a978 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [0f09ff63-222b-4b3b-a646-cf3f8426da8b]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [0f09ff63-222b-4b3b-a646-cf3f8426da8b]   [1m[36mActiveStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [0f09ff63-222b-4b3b-a646-cf3f8426da8b]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [0f09ff63-222b-4b3b-a646-cf3f8426da8b]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [0f09ff63-222b-4b3b-a646-cf3f8426da8b]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e8980762-67c4-4018-aefc-829f379d8c81] [36m  Disk Storage (10.3ms) [0m[34mDownloaded file from key: 78kb8QExmUUYYzBP4hWhwnJW[0m
[ActiveJob] [ActiveStorage::PurgeJob] [0f09ff63-222b-4b3b-a646-cf3f8426da8b] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [0f09ff63-222b-4b3b-a646-cf3f8426da8b] [36m  Disk Storage (1.8ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e8980762-67c4-4018-aefc-829f379d8c81] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [e8980762-67c4-4018-aefc-829f379d8c81]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e8980762-67c4-4018-aefc-829f379d8c81]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::PurgeJob] [0f09ff63-222b-4b3b-a646-cf3f8426da8b] Performed ActiveStorage::PurgeJob (Job ID: 0f09ff63-222b-4b3b-a646-cf3f8426da8b) from Async(default) in 15.11ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [e8980762-67c4-4018-aefc-829f379d8c81]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e8980762-67c4-4018-aefc-829f379d8c81] Performed ActiveStorage::AnalyzeJob (Job ID: e8980762-67c4-4018-aefc-829f379d8c81) from Async(default) in 20.38ms
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:40:03 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:40:03 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:40:03.446041"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:40:43.844238', '2019-03-10 14:40:43.844238', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:40:43.844238', '2019-03-10 14:40:43.844238', 298486374)[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:40:43 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:40:43.948317"], ["updated_at", "2019-03-10 14:40:43.948317"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: bdd0510d-f246-4ddc-aa51-268cd755ec54) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90c0cc18 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [bdd0510d-f246-4ddc-aa51-268cd755ec54] Performing UploadArticleImageJob (Job ID: bdd0510d-f246-4ddc-aa51-268cd755ec54) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b915696d0 @uri=#<URI::GID gid://blog/Article/980190963>>
[ActiveJob] [UploadArticleImageJob] [bdd0510d-f246-4ddc-aa51-268cd755ec54]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [bdd0510d-f246-4ddc-aa51-268cd755ec54]   [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [bdd0510d-f246-4ddc-aa51-268cd755ec54] [36m  Disk Storage (4.3ms) [0m[32mUploaded file to key: yB8aachwT9SrY9KfCUBsskA3 (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [bdd0510d-f246-4ddc-aa51-268cd755ec54]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bdd0510d-f246-4ddc-aa51-268cd755ec54]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "yB8aachwT9SrY9KfCUBsskA3"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:40:44.064366"]]
[ActiveJob] [UploadArticleImageJob] [bdd0510d-f246-4ddc-aa51-268cd755ec54]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bdd0510d-f246-4ddc-aa51-268cd755ec54]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bdd0510d-f246-4ddc-aa51-268cd755ec54]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [bdd0510d-f246-4ddc-aa51-268cd755ec54]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:40:44.067841"]]
[ActiveJob] [UploadArticleImageJob] [bdd0510d-f246-4ddc-aa51-268cd755ec54]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:40:44.068513"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [bdd0510d-f246-4ddc-aa51-268cd755ec54]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bdd0510d-f246-4ddc-aa51-268cd755ec54] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5fd673a3-d113-42ea-9f42-471bf87a1f47) to Async(default) with arguments: #<GlobalID:0x00007f8b909e52c8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [bdd0510d-f246-4ddc-aa51-268cd755ec54] Enqueued ActiveStorage::PurgeJob (Job ID: 1173dc3d-377c-4693-bebb-24f2f5617bbf) to Async(default) with arguments: #<GlobalID:0x00007f8b90a47838 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [bdd0510d-f246-4ddc-aa51-268cd755ec54] Performed UploadArticleImageJob (Job ID: bdd0510d-f246-4ddc-aa51-268cd755ec54) from Async(default) in 115.55ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [1173dc3d-377c-4693-bebb-24f2f5617bbf] Performing ActiveStorage::PurgeJob (Job ID: 1173dc3d-377c-4693-bebb-24f2f5617bbf) from Async(default) with arguments: #<GlobalID:0x00007f8b90a84580 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [1173dc3d-377c-4693-bebb-24f2f5617bbf]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (1.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5fd673a3-d113-42ea-9f42-471bf87a1f47] Performing ActiveStorage::AnalyzeJob (Job ID: 5fd673a3-d113-42ea-9f42-471bf87a1f47) from Async(default) with arguments: #<GlobalID:0x00007f8b901d56a0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [1173dc3d-377c-4693-bebb-24f2f5617bbf]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [1173dc3d-377c-4693-bebb-24f2f5617bbf]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [1173dc3d-377c-4693-bebb-24f2f5617bbf]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [1173dc3d-377c-4693-bebb-24f2f5617bbf]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5fd673a3-d113-42ea-9f42-471bf87a1f47] [36m  Disk Storage (2.3ms) [0m[34mDownloaded file from key: yB8aachwT9SrY9KfCUBsskA3[0m
[ActiveJob] [ActiveStorage::PurgeJob] [1173dc3d-377c-4693-bebb-24f2f5617bbf] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [1173dc3d-377c-4693-bebb-24f2f5617bbf] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [1173dc3d-377c-4693-bebb-24f2f5617bbf] Performed ActiveStorage::PurgeJob (Job ID: 1173dc3d-377c-4693-bebb-24f2f5617bbf) from Async(default) in 7.15ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [5fd673a3-d113-42ea-9f42-471bf87a1f47] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [5fd673a3-d113-42ea-9f42-471bf87a1f47]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5fd673a3-d113-42ea-9f42-471bf87a1f47]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5fd673a3-d113-42ea-9f42-471bf87a1f47]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5fd673a3-d113-42ea-9f42-471bf87a1f47] Performed ActiveStorage::AnalyzeJob (Job ID: 5fd673a3-d113-42ea-9f42-471bf87a1f47) from Async(default) in 7.33ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:40:44 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:40:44.141961"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:40:44 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:40:45.600661', '2019-03-10 14:40:45.600661', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:40:45.600661', '2019-03-10 14:40:45.600661', 298486374)[0m
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:40:45 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:40:45.717624"], ["updated_at", "2019-03-10 14:40:45.717624"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 3b9e7b97-5eb2-48fe-b0b4-4d14fc2411cc) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b91589fc0 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 11ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3b9e7b97-5eb2-48fe-b0b4-4d14fc2411cc] Performing UploadArticleImageJob (Job ID: 3b9e7b97-5eb2-48fe-b0b4-4d14fc2411cc) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90c6d400 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3b9e7b97-5eb2-48fe-b0b4-4d14fc2411cc]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3b9e7b97-5eb2-48fe-b0b4-4d14fc2411cc]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3b9e7b97-5eb2-48fe-b0b4-4d14fc2411cc] [36m  Disk Storage (4.2ms) [0m[32mUploaded file to key: vUGpQpifnNStqKZ4yAgYG13x (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [3b9e7b97-5eb2-48fe-b0b4-4d14fc2411cc]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3b9e7b97-5eb2-48fe-b0b4-4d14fc2411cc]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "vUGpQpifnNStqKZ4yAgYG13x"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:40:45.777482"]]
[ActiveJob] [UploadArticleImageJob] [3b9e7b97-5eb2-48fe-b0b4-4d14fc2411cc]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3b9e7b97-5eb2-48fe-b0b4-4d14fc2411cc]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3b9e7b97-5eb2-48fe-b0b4-4d14fc2411cc]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [3b9e7b97-5eb2-48fe-b0b4-4d14fc2411cc]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:40:45.780879"]]
[ActiveJob] [UploadArticleImageJob] [3b9e7b97-5eb2-48fe-b0b4-4d14fc2411cc]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:40:45.781588"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [3b9e7b97-5eb2-48fe-b0b4-4d14fc2411cc]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3b9e7b97-5eb2-48fe-b0b4-4d14fc2411cc] Enqueued ActiveStorage::AnalyzeJob (Job ID: 79bc88f6-b9ed-45bd-8641-64ff9792f59d) to Async(default) with arguments: #<GlobalID:0x00007f8b9041c2b0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [3b9e7b97-5eb2-48fe-b0b4-4d14fc2411cc] Enqueued ActiveStorage::PurgeJob (Job ID: dca4b3a8-b9fc-48dc-94cb-55a9d91fef62) to Async(default) with arguments: #<GlobalID:0x00007f8b92cac4a0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [3b9e7b97-5eb2-48fe-b0b4-4d14fc2411cc] Performed UploadArticleImageJob (Job ID: 3b9e7b97-5eb2-48fe-b0b4-4d14fc2411cc) from Async(default) in 61.85ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [dca4b3a8-b9fc-48dc-94cb-55a9d91fef62] Performing ActiveStorage::PurgeJob (Job ID: dca4b3a8-b9fc-48dc-94cb-55a9d91fef62) from Async(default) with arguments: #<GlobalID:0x00007f8b900b94d8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [dca4b3a8-b9fc-48dc-94cb-55a9d91fef62]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [79bc88f6-b9ed-45bd-8641-64ff9792f59d] Performing ActiveStorage::AnalyzeJob (Job ID: 79bc88f6-b9ed-45bd-8641-64ff9792f59d) from Async(default) with arguments: #<GlobalID:0x00007f8b909ee990 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [dca4b3a8-b9fc-48dc-94cb-55a9d91fef62]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [dca4b3a8-b9fc-48dc-94cb-55a9d91fef62]   [1m[36mActiveStorage::Blob Destroy (1.2ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [dca4b3a8-b9fc-48dc-94cb-55a9d91fef62]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [dca4b3a8-b9fc-48dc-94cb-55a9d91fef62]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [dca4b3a8-b9fc-48dc-94cb-55a9d91fef62] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [79bc88f6-b9ed-45bd-8641-64ff9792f59d] [36m  Disk Storage (6.3ms) [0m[34mDownloaded file from key: vUGpQpifnNStqKZ4yAgYG13x[0m
[ActiveJob] [ActiveStorage::PurgeJob] [dca4b3a8-b9fc-48dc-94cb-55a9d91fef62] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [dca4b3a8-b9fc-48dc-94cb-55a9d91fef62] Performed ActiveStorage::PurgeJob (Job ID: dca4b3a8-b9fc-48dc-94cb-55a9d91fef62) from Async(default) in 16.27ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [79bc88f6-b9ed-45bd-8641-64ff9792f59d] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [79bc88f6-b9ed-45bd-8641-64ff9792f59d]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [79bc88f6-b9ed-45bd-8641-64ff9792f59d]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [79bc88f6-b9ed-45bd-8641-64ff9792f59d]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [79bc88f6-b9ed-45bd-8641-64ff9792f59d] Performed ActiveStorage::AnalyzeJob (Job ID: 79bc88f6-b9ed-45bd-8641-64ff9792f59d) from Async(default) in 16.58ms
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:40:45 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:40:45 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:40:45.925557"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:40:47.240371', '2019-03-10 14:40:47.240371', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:40:47.240371', '2019-03-10 14:40:47.240371', 298486374)[0m
  [1m[35m (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:40:47 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:40:47.336069"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:40:47 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:40:47 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:40:47.427784"], ["updated_at", "2019-03-10 14:40:47.427784"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: b2b02922-3433-4e84-9f58-882443382ac9) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b914dd5e0 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [b2b02922-3433-4e84-9f58-882443382ac9] Performing UploadArticleImageJob (Job ID: b2b02922-3433-4e84-9f58-882443382ac9) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92b7f550 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [b2b02922-3433-4e84-9f58-882443382ac9]   [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [b2b02922-3433-4e84-9f58-882443382ac9]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [b2b02922-3433-4e84-9f58-882443382ac9] [36m  Disk Storage (3.8ms) [0m[32mUploaded file to key: 7tehJLaf8cJQMiTkaxfoQx8p (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [b2b02922-3433-4e84-9f58-882443382ac9]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [b2b02922-3433-4e84-9f58-882443382ac9]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "7tehJLaf8cJQMiTkaxfoQx8p"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:40:47.522294"]]
[ActiveJob] [UploadArticleImageJob] [b2b02922-3433-4e84-9f58-882443382ac9]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [b2b02922-3433-4e84-9f58-882443382ac9]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [b2b02922-3433-4e84-9f58-882443382ac9]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [b2b02922-3433-4e84-9f58-882443382ac9]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:40:47.527113"]]
[ActiveJob] [UploadArticleImageJob] [b2b02922-3433-4e84-9f58-882443382ac9]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:40:47.528775"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [b2b02922-3433-4e84-9f58-882443382ac9]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [b2b02922-3433-4e84-9f58-882443382ac9] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1f305869-cced-4fb7-8265-0c22f08426af) to Async(default) with arguments: #<GlobalID:0x00007f8b9042de98 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1f305869-cced-4fb7-8265-0c22f08426af] Performing ActiveStorage::AnalyzeJob (Job ID: 1f305869-cced-4fb7-8265-0c22f08426af) from Async(default) with arguments: #<GlobalID:0x00007f8b9172fc58 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [1f305869-cced-4fb7-8265-0c22f08426af] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: 7tehJLaf8cJQMiTkaxfoQx8p[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1f305869-cced-4fb7-8265-0c22f08426af] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [1f305869-cced-4fb7-8265-0c22f08426af]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1f305869-cced-4fb7-8265-0c22f08426af]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1f305869-cced-4fb7-8265-0c22f08426af]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1f305869-cced-4fb7-8265-0c22f08426af] Performed ActiveStorage::AnalyzeJob (Job ID: 1f305869-cced-4fb7-8265-0c22f08426af) from Async(default) in 4.46ms
[ActiveJob] [UploadArticleImageJob] [b2b02922-3433-4e84-9f58-882443382ac9] Enqueued ActiveStorage::PurgeJob (Job ID: 1bc9dd4c-6ec7-413a-a75f-755a0c14a9ec) to Async(default) with arguments: #<GlobalID:0x00007f8b92926858 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [b2b02922-3433-4e84-9f58-882443382ac9] Performed UploadArticleImageJob (Job ID: b2b02922-3433-4e84-9f58-882443382ac9) from Async(default) in 121.04ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [1bc9dd4c-6ec7-413a-a75f-755a0c14a9ec] Performing ActiveStorage::PurgeJob (Job ID: 1bc9dd4c-6ec7-413a-a75f-755a0c14a9ec) from Async(default) with arguments: #<GlobalID:0x00007f8b92961a70 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [1bc9dd4c-6ec7-413a-a75f-755a0c14a9ec]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [1bc9dd4c-6ec7-413a-a75f-755a0c14a9ec]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [1bc9dd4c-6ec7-413a-a75f-755a0c14a9ec]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [1bc9dd4c-6ec7-413a-a75f-755a0c14a9ec]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [1bc9dd4c-6ec7-413a-a75f-755a0c14a9ec]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [1bc9dd4c-6ec7-413a-a75f-755a0c14a9ec] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [1bc9dd4c-6ec7-413a-a75f-755a0c14a9ec] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [1bc9dd4c-6ec7-413a-a75f-755a0c14a9ec] Performed ActiveStorage::PurgeJob (Job ID: 1bc9dd4c-6ec7-413a-a75f-755a0c14a9ec) from Async(default) in 5.51ms
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:41:18.451952', '2019-03-10 14:41:18.451952', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:41:18.451952', '2019-03-10 14:41:18.451952', 298486374)[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:41:18 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:41:18.545762"], ["updated_at", "2019-03-10 14:41:18.545762"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 78baf25f-d023-4055-bff3-115db3e6e10b) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92be01e8 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 17ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [78baf25f-d023-4055-bff3-115db3e6e10b] Performing UploadArticleImageJob (Job ID: 78baf25f-d023-4055-bff3-115db3e6e10b) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90c3e718 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [78baf25f-d023-4055-bff3-115db3e6e10b]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [78baf25f-d023-4055-bff3-115db3e6e10b]   [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [78baf25f-d023-4055-bff3-115db3e6e10b] [36m  Disk Storage (4.0ms) [0m[32mUploaded file to key: u5pTA6jygPo4ATWeSa78Prb6 (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [78baf25f-d023-4055-bff3-115db3e6e10b]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [78baf25f-d023-4055-bff3-115db3e6e10b]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "u5pTA6jygPo4ATWeSa78Prb6"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:41:18.662469"]]
[ActiveJob] [UploadArticleImageJob] [78baf25f-d023-4055-bff3-115db3e6e10b]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [78baf25f-d023-4055-bff3-115db3e6e10b]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [78baf25f-d023-4055-bff3-115db3e6e10b]   [1m[36mActiveStorage::Attachment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [78baf25f-d023-4055-bff3-115db3e6e10b]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:41:18.666452"]]
[ActiveJob] [UploadArticleImageJob] [78baf25f-d023-4055-bff3-115db3e6e10b]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:41:18.667303"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [78baf25f-d023-4055-bff3-115db3e6e10b]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [78baf25f-d023-4055-bff3-115db3e6e10b] Enqueued ActiveStorage::AnalyzeJob (Job ID: f21c4999-57d2-43d1-8e4c-68497d02961a) to Async(default) with arguments: #<GlobalID:0x00007f8b9013f240 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [78baf25f-d023-4055-bff3-115db3e6e10b] Enqueued ActiveStorage::PurgeJob (Job ID: 5745a3c2-ff46-4ced-ae4e-06707bdc301b) to Async(default) with arguments: #<GlobalID:0x00007f8b90a75170 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [78baf25f-d023-4055-bff3-115db3e6e10b] Performed UploadArticleImageJob (Job ID: 78baf25f-d023-4055-bff3-115db3e6e10b) from Async(default) in 118.79ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [5745a3c2-ff46-4ced-ae4e-06707bdc301b] Performing ActiveStorage::PurgeJob (Job ID: 5745a3c2-ff46-4ced-ae4e-06707bdc301b) from Async(default) with arguments: #<GlobalID:0x00007f8b9125e2d8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [5745a3c2-ff46-4ced-ae4e-06707bdc301b]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (1.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f21c4999-57d2-43d1-8e4c-68497d02961a] Performing ActiveStorage::AnalyzeJob (Job ID: f21c4999-57d2-43d1-8e4c-68497d02961a) from Async(default) with arguments: #<GlobalID:0x00007f8b91252b18 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [5745a3c2-ff46-4ced-ae4e-06707bdc301b]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [5745a3c2-ff46-4ced-ae4e-06707bdc301b]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [5745a3c2-ff46-4ced-ae4e-06707bdc301b]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [5745a3c2-ff46-4ced-ae4e-06707bdc301b]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f21c4999-57d2-43d1-8e4c-68497d02961a] [36m  Disk Storage (2.2ms) [0m[34mDownloaded file from key: u5pTA6jygPo4ATWeSa78Prb6[0m
[ActiveJob] [ActiveStorage::PurgeJob] [5745a3c2-ff46-4ced-ae4e-06707bdc301b] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [5745a3c2-ff46-4ced-ae4e-06707bdc301b] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [5745a3c2-ff46-4ced-ae4e-06707bdc301b] Performed ActiveStorage::PurgeJob (Job ID: 5745a3c2-ff46-4ced-ae4e-06707bdc301b) from Async(default) in 7.13ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [f21c4999-57d2-43d1-8e4c-68497d02961a] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [f21c4999-57d2-43d1-8e4c-68497d02961a]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f21c4999-57d2-43d1-8e4c-68497d02961a]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f21c4999-57d2-43d1-8e4c-68497d02961a]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f21c4999-57d2-43d1-8e4c-68497d02961a] Performed ActiveStorage::AnalyzeJob (Job ID: f21c4999-57d2-43d1-8e4c-68497d02961a) from Async(default) in 7.42ms
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:41:18 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.2ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:41:18 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:41:18.749330"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:41:20.106622', '2019-03-10 14:41:20.106622', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:41:20.106622', '2019-03-10 14:41:20.106622', 298486374)[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:41:20 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:41:20.224290"], ["updated_at", "2019-03-10 14:41:20.224290"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: fcbed878-7138-4a17-abc1-c75f5b88745d) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92a90310 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [fcbed878-7138-4a17-abc1-c75f5b88745d] Performing UploadArticleImageJob (Job ID: fcbed878-7138-4a17-abc1-c75f5b88745d) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b902cf498 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 29ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [fcbed878-7138-4a17-abc1-c75f5b88745d]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [fcbed878-7138-4a17-abc1-c75f5b88745d]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [fcbed878-7138-4a17-abc1-c75f5b88745d] [36m  Disk Storage (4.8ms) [0m[32mUploaded file to key: RHo3ioZVSkCZJQxbDTcq8kWD (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [fcbed878-7138-4a17-abc1-c75f5b88745d]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [fcbed878-7138-4a17-abc1-c75f5b88745d]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "RHo3ioZVSkCZJQxbDTcq8kWD"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:41:20.333887"]]
[ActiveJob] [UploadArticleImageJob] [fcbed878-7138-4a17-abc1-c75f5b88745d]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [fcbed878-7138-4a17-abc1-c75f5b88745d]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [fcbed878-7138-4a17-abc1-c75f5b88745d]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [fcbed878-7138-4a17-abc1-c75f5b88745d]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:41:20.337295"]]
[ActiveJob] [UploadArticleImageJob] [fcbed878-7138-4a17-abc1-c75f5b88745d]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:41:20.338008"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [fcbed878-7138-4a17-abc1-c75f5b88745d]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [fcbed878-7138-4a17-abc1-c75f5b88745d] Enqueued ActiveStorage::AnalyzeJob (Job ID: 34485a44-6fdf-4222-91a8-93b5a13b1f41) to Async(default) with arguments: #<GlobalID:0x00007f8b90beeb00 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [fcbed878-7138-4a17-abc1-c75f5b88745d] Enqueued ActiveStorage::PurgeJob (Job ID: 9d622dec-e8d7-4215-8dfa-02fa464ae5cd) to Async(default) with arguments: #<GlobalID:0x00007f8b90bf7750 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [fcbed878-7138-4a17-abc1-c75f5b88745d] Performed UploadArticleImageJob (Job ID: fcbed878-7138-4a17-abc1-c75f5b88745d) from Async(default) in 106.2ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [9d622dec-e8d7-4215-8dfa-02fa464ae5cd] Performing ActiveStorage::PurgeJob (Job ID: 9d622dec-e8d7-4215-8dfa-02fa464ae5cd) from Async(default) with arguments: #<GlobalID:0x00007f8b92badb80 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [9d622dec-e8d7-4215-8dfa-02fa464ae5cd]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [34485a44-6fdf-4222-91a8-93b5a13b1f41] Performing ActiveStorage::AnalyzeJob (Job ID: 34485a44-6fdf-4222-91a8-93b5a13b1f41) from Async(default) with arguments: #<GlobalID:0x00007f8b90353ab8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [9d622dec-e8d7-4215-8dfa-02fa464ae5cd]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [9d622dec-e8d7-4215-8dfa-02fa464ae5cd]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [9d622dec-e8d7-4215-8dfa-02fa464ae5cd]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [9d622dec-e8d7-4215-8dfa-02fa464ae5cd]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [34485a44-6fdf-4222-91a8-93b5a13b1f41] [36m  Disk Storage (2.2ms) [0m[34mDownloaded file from key: RHo3ioZVSkCZJQxbDTcq8kWD[0m
[ActiveJob] [ActiveStorage::PurgeJob] [9d622dec-e8d7-4215-8dfa-02fa464ae5cd] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [9d622dec-e8d7-4215-8dfa-02fa464ae5cd] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [9d622dec-e8d7-4215-8dfa-02fa464ae5cd] Performed ActiveStorage::PurgeJob (Job ID: 9d622dec-e8d7-4215-8dfa-02fa464ae5cd) from Async(default) in 6.71ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [34485a44-6fdf-4222-91a8-93b5a13b1f41] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [34485a44-6fdf-4222-91a8-93b5a13b1f41]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [34485a44-6fdf-4222-91a8-93b5a13b1f41]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [34485a44-6fdf-4222-91a8-93b5a13b1f41]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [34485a44-6fdf-4222-91a8-93b5a13b1f41] Performed ActiveStorage::AnalyzeJob (Job ID: 34485a44-6fdf-4222-91a8-93b5a13b1f41) from Async(default) in 7.07ms
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:41:20 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:41:20.411578"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:41:20 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:42:15.648219', '2019-03-10 14:42:15.648219', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:42:15.648219', '2019-03-10 14:42:15.648219', 298486374)[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:42:15 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:42:15.781455"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:42:15 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:42:15.855133"], ["updated_at", "2019-03-10 14:42:15.855133"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 9c4c3127-7f38-4735-8159-55cd42d9b3ba) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b91534c50 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [9c4c3127-7f38-4735-8159-55cd42d9b3ba] Performing UploadArticleImageJob (Job ID: 9c4c3127-7f38-4735-8159-55cd42d9b3ba) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92bd9b40 @uri=#<URI::GID gid://blog/Article/980190963>>
[ActiveJob] [UploadArticleImageJob] [9c4c3127-7f38-4735-8159-55cd42d9b3ba]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [9c4c3127-7f38-4735-8159-55cd42d9b3ba]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [9c4c3127-7f38-4735-8159-55cd42d9b3ba] [36m  Disk Storage (2.7ms) [0m[32mUploaded file to key: 8PrnmbmMeQof3RmjQZtK5sPq (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [9c4c3127-7f38-4735-8159-55cd42d9b3ba]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [9c4c3127-7f38-4735-8159-55cd42d9b3ba]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "8PrnmbmMeQof3RmjQZtK5sPq"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:42:15.984396"]]
[ActiveJob] [UploadArticleImageJob] [9c4c3127-7f38-4735-8159-55cd42d9b3ba]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [9c4c3127-7f38-4735-8159-55cd42d9b3ba]   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [9c4c3127-7f38-4735-8159-55cd42d9b3ba]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [9c4c3127-7f38-4735-8159-55cd42d9b3ba]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:42:15.987410"]]
[ActiveJob] [UploadArticleImageJob] [9c4c3127-7f38-4735-8159-55cd42d9b3ba]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:42:15.988101"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [9c4c3127-7f38-4735-8159-55cd42d9b3ba]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [9c4c3127-7f38-4735-8159-55cd42d9b3ba] Enqueued ActiveStorage::AnalyzeJob (Job ID: 735bd200-da79-4216-acd6-4e88c7bf7118) to Async(default) with arguments: #<GlobalID:0x00007f8b929cf188 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [9c4c3127-7f38-4735-8159-55cd42d9b3ba] Enqueued ActiveStorage::PurgeJob (Job ID: 1f2cd0b0-eb20-4068-b086-2e4be51d81b6) to Async(default) with arguments: #<GlobalID:0x00007f8b90175f48 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [9c4c3127-7f38-4735-8159-55cd42d9b3ba] Performed UploadArticleImageJob (Job ID: 9c4c3127-7f38-4735-8159-55cd42d9b3ba) from Async(default) in 127.29ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [1f2cd0b0-eb20-4068-b086-2e4be51d81b6] Performing ActiveStorage::PurgeJob (Job ID: 1f2cd0b0-eb20-4068-b086-2e4be51d81b6) from Async(default) with arguments: #<GlobalID:0x00007f8b901856a0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [1f2cd0b0-eb20-4068-b086-2e4be51d81b6]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (1.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [735bd200-da79-4216-acd6-4e88c7bf7118] Performing ActiveStorage::AnalyzeJob (Job ID: 735bd200-da79-4216-acd6-4e88c7bf7118) from Async(default) with arguments: #<GlobalID:0x00007f8b92a1d068 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [1f2cd0b0-eb20-4068-b086-2e4be51d81b6]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [1f2cd0b0-eb20-4068-b086-2e4be51d81b6]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [1f2cd0b0-eb20-4068-b086-2e4be51d81b6]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [1f2cd0b0-eb20-4068-b086-2e4be51d81b6]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [735bd200-da79-4216-acd6-4e88c7bf7118] [36m  Disk Storage (2.1ms) [0m[34mDownloaded file from key: 8PrnmbmMeQof3RmjQZtK5sPq[0m
[ActiveJob] [ActiveStorage::PurgeJob] [1f2cd0b0-eb20-4068-b086-2e4be51d81b6] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [1f2cd0b0-eb20-4068-b086-2e4be51d81b6] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [1f2cd0b0-eb20-4068-b086-2e4be51d81b6] Performed ActiveStorage::PurgeJob (Job ID: 1f2cd0b0-eb20-4068-b086-2e4be51d81b6) from Async(default) in 8.6ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [735bd200-da79-4216-acd6-4e88c7bf7118] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [735bd200-da79-4216-acd6-4e88c7bf7118]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [735bd200-da79-4216-acd6-4e88c7bf7118]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [735bd200-da79-4216-acd6-4e88c7bf7118]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [735bd200-da79-4216-acd6-4e88c7bf7118] Performed ActiveStorage::AnalyzeJob (Job ID: 735bd200-da79-4216-acd6-4e88c7bf7118) from Async(default) in 7.27ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:42:16 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:42:17.496133', '2019-03-10 14:42:17.496133', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:42:17.496133', '2019-03-10 14:42:17.496133', 298486374)[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:42:17 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:42:17.598260"], ["updated_at", "2019-03-10 14:42:17.598260"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 87990129-da3d-445b-a797-50cc567ed0b8) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b903f4288 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 16ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [87990129-da3d-445b-a797-50cc567ed0b8] Performing UploadArticleImageJob (Job ID: 87990129-da3d-445b-a797-50cc567ed0b8) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b904261c0 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [87990129-da3d-445b-a797-50cc567ed0b8]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [87990129-da3d-445b-a797-50cc567ed0b8]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [87990129-da3d-445b-a797-50cc567ed0b8] [36m  Disk Storage (3.2ms) [0m[32mUploaded file to key: J7ZLYdHBEYQsveecPge49x5H (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [87990129-da3d-445b-a797-50cc567ed0b8]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [87990129-da3d-445b-a797-50cc567ed0b8]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "J7ZLYdHBEYQsveecPge49x5H"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:42:17.713796"]]
[ActiveJob] [UploadArticleImageJob] [87990129-da3d-445b-a797-50cc567ed0b8]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [87990129-da3d-445b-a797-50cc567ed0b8]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [87990129-da3d-445b-a797-50cc567ed0b8]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [87990129-da3d-445b-a797-50cc567ed0b8]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:42:17.717182"]]
[ActiveJob] [UploadArticleImageJob] [87990129-da3d-445b-a797-50cc567ed0b8]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:42:17.717900"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [87990129-da3d-445b-a797-50cc567ed0b8]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [87990129-da3d-445b-a797-50cc567ed0b8] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8b2c41bd-3b81-496c-85d0-80d466426a47) to Async(default) with arguments: #<GlobalID:0x00007f8b9122fe60 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8b2c41bd-3b81-496c-85d0-80d466426a47] Performing ActiveStorage::AnalyzeJob (Job ID: 8b2c41bd-3b81-496c-85d0-80d466426a47) from Async(default) with arguments: #<GlobalID:0x00007f8b9013cd38 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [8b2c41bd-3b81-496c-85d0-80d466426a47] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: J7ZLYdHBEYQsveecPge49x5H[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8b2c41bd-3b81-496c-85d0-80d466426a47] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [8b2c41bd-3b81-496c-85d0-80d466426a47]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8b2c41bd-3b81-496c-85d0-80d466426a47]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8b2c41bd-3b81-496c-85d0-80d466426a47]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8b2c41bd-3b81-496c-85d0-80d466426a47] Performed ActiveStorage::AnalyzeJob (Job ID: 8b2c41bd-3b81-496c-85d0-80d466426a47) from Async(default) in 4.37ms
[ActiveJob] [UploadArticleImageJob] [87990129-da3d-445b-a797-50cc567ed0b8] Enqueued ActiveStorage::PurgeJob (Job ID: fea43281-80e1-498a-971e-c6e344d939e1) to Async(default) with arguments: #<GlobalID:0x00007f8b912c3458 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [87990129-da3d-445b-a797-50cc567ed0b8] Performed UploadArticleImageJob (Job ID: 87990129-da3d-445b-a797-50cc567ed0b8) from Async(default) in 121.1ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [fea43281-80e1-498a-971e-c6e344d939e1] Performing ActiveStorage::PurgeJob (Job ID: fea43281-80e1-498a-971e-c6e344d939e1) from Async(default) with arguments: #<GlobalID:0x00007f8b9019cd78 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [fea43281-80e1-498a-971e-c6e344d939e1]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [fea43281-80e1-498a-971e-c6e344d939e1]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [fea43281-80e1-498a-971e-c6e344d939e1]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [fea43281-80e1-498a-971e-c6e344d939e1]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [fea43281-80e1-498a-971e-c6e344d939e1]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [fea43281-80e1-498a-971e-c6e344d939e1] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [fea43281-80e1-498a-971e-c6e344d939e1] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [fea43281-80e1-498a-971e-c6e344d939e1] Performed ActiveStorage::PurgeJob (Job ID: fea43281-80e1-498a-971e-c6e344d939e1) from Async(default) in 5.22ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:42:17 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:42:17 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:42:17.800082"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:46:03.690482', '2019-03-10 14:46:03.690482', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:46:03.690482', '2019-03-10 14:46:03.690482', 298486374)[0m
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:46:03 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:46:03.902341"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 21ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:46:04 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:46:04.025346"], ["updated_at", "2019-03-10 14:46:04.025346"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 1cedd96b-37b6-4b36-ab81-c4217e1d18a1) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9146b328 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [1cedd96b-37b6-4b36-ab81-c4217e1d18a1] Performing UploadArticleImageJob (Job ID: 1cedd96b-37b6-4b36-ab81-c4217e1d18a1) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90b771e0 @uri=#<URI::GID gid://blog/Article/980190963>>
[ActiveJob] [UploadArticleImageJob] [1cedd96b-37b6-4b36-ab81-c4217e1d18a1]   [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [1cedd96b-37b6-4b36-ab81-c4217e1d18a1]   [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [1cedd96b-37b6-4b36-ab81-c4217e1d18a1] [36m  Disk Storage (2.7ms) [0m[32mUploaded file to key: vuMmV6FovxNHCBA7Dpv9H4Gf (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [1cedd96b-37b6-4b36-ab81-c4217e1d18a1]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [1cedd96b-37b6-4b36-ab81-c4217e1d18a1]   [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "vuMmV6FovxNHCBA7Dpv9H4Gf"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:46:04.135847"]]
[ActiveJob] [UploadArticleImageJob] [1cedd96b-37b6-4b36-ab81-c4217e1d18a1]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [1cedd96b-37b6-4b36-ab81-c4217e1d18a1]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [1cedd96b-37b6-4b36-ab81-c4217e1d18a1]   [1m[36mActiveStorage::Attachment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [1cedd96b-37b6-4b36-ab81-c4217e1d18a1]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:46:04.141895"]]
[ActiveJob] [UploadArticleImageJob] [1cedd96b-37b6-4b36-ab81-c4217e1d18a1]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:46:04.142769"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [1cedd96b-37b6-4b36-ab81-c4217e1d18a1]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [1cedd96b-37b6-4b36-ab81-c4217e1d18a1] Enqueued ActiveStorage::AnalyzeJob (Job ID: f5cd97de-7935-4fce-8a6d-41d2931ab048) to Async(default) with arguments: #<GlobalID:0x00007f8b916148a0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [1cedd96b-37b6-4b36-ab81-c4217e1d18a1] Enqueued ActiveStorage::PurgeJob (Job ID: fbc00517-5903-4055-9594-45222441f131) to Async(default) with arguments: #<GlobalID:0x00007f8b903ff188 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
  [1m[36mActiveStorage::Blob Load (2.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f5cd97de-7935-4fce-8a6d-41d2931ab048] Performing ActiveStorage::AnalyzeJob (Job ID: f5cd97de-7935-4fce-8a6d-41d2931ab048) from Async(default) with arguments: #<GlobalID:0x00007f8b91625128 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [1cedd96b-37b6-4b36-ab81-c4217e1d18a1] Performed UploadArticleImageJob (Job ID: 1cedd96b-37b6-4b36-ab81-c4217e1d18a1) from Async(default) in 115.77ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [fbc00517-5903-4055-9594-45222441f131] Performing ActiveStorage::PurgeJob (Job ID: fbc00517-5903-4055-9594-45222441f131) from Async(default) with arguments: #<GlobalID:0x00007f8b92cb6018 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [fbc00517-5903-4055-9594-45222441f131]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [fbc00517-5903-4055-9594-45222441f131]   [1m[36mActiveStorage::Attachment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [fbc00517-5903-4055-9594-45222441f131]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [fbc00517-5903-4055-9594-45222441f131]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [fbc00517-5903-4055-9594-45222441f131]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f5cd97de-7935-4fce-8a6d-41d2931ab048] [36m  Disk Storage (20.1ms) [0m[34mDownloaded file from key: vuMmV6FovxNHCBA7Dpv9H4Gf[0m
[ActiveJob] [ActiveStorage::PurgeJob] [fbc00517-5903-4055-9594-45222441f131] [36m  Disk Storage (0.3ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [fbc00517-5903-4055-9594-45222441f131] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [fbc00517-5903-4055-9594-45222441f131] Performed ActiveStorage::PurgeJob (Job ID: fbc00517-5903-4055-9594-45222441f131) from Async(default) in 21.02ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [f5cd97de-7935-4fce-8a6d-41d2931ab048] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [f5cd97de-7935-4fce-8a6d-41d2931ab048]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f5cd97de-7935-4fce-8a6d-41d2931ab048]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f5cd97de-7935-4fce-8a6d-41d2931ab048]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f5cd97de-7935-4fce-8a6d-41d2931ab048] Performed ActiveStorage::AnalyzeJob (Job ID: f5cd97de-7935-4fce-8a6d-41d2931ab048) from Async(default) in 25.54ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:46:04 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.4ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:46:05.724329', '2019-03-10 14:46:05.724329', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:46:05.724329', '2019-03-10 14:46:05.724329', 298486374)[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:46:05 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:46:05.827928"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:46:05 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:46:05.892685"], ["updated_at", "2019-03-10 14:46:05.892685"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: bec46681-2866-4a23-9dc4-897a582bd781) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b904054c0 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [bec46681-2866-4a23-9dc4-897a582bd781] Performing UploadArticleImageJob (Job ID: bec46681-2866-4a23-9dc4-897a582bd781) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9041e8a8 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [bec46681-2866-4a23-9dc4-897a582bd781]   [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [bec46681-2866-4a23-9dc4-897a582bd781]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [bec46681-2866-4a23-9dc4-897a582bd781] [36m  Disk Storage (2.7ms) [0m[32mUploaded file to key: Xw1NiG8aymzgeP6MW3QcQLT5 (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [bec46681-2866-4a23-9dc4-897a582bd781]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bec46681-2866-4a23-9dc4-897a582bd781]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "Xw1NiG8aymzgeP6MW3QcQLT5"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:46:06.009227"]]
[ActiveJob] [UploadArticleImageJob] [bec46681-2866-4a23-9dc4-897a582bd781]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bec46681-2866-4a23-9dc4-897a582bd781]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bec46681-2866-4a23-9dc4-897a582bd781]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [bec46681-2866-4a23-9dc4-897a582bd781]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:46:06.012340"]]
[ActiveJob] [UploadArticleImageJob] [bec46681-2866-4a23-9dc4-897a582bd781]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:46:06.013063"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [bec46681-2866-4a23-9dc4-897a582bd781]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [bec46681-2866-4a23-9dc4-897a582bd781] Enqueued ActiveStorage::AnalyzeJob (Job ID: fe3fa620-d6a2-4ffa-96a6-c0ee3747c583) to Async(default) with arguments: #<GlobalID:0x00007f8b92b5f3e0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [bec46681-2866-4a23-9dc4-897a582bd781] Enqueued ActiveStorage::PurgeJob (Job ID: 3707fd27-7292-4e67-91cf-8cc4f6f07f54) to Async(default) with arguments: #<GlobalID:0x00007f8b903046e8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [bec46681-2866-4a23-9dc4-897a582bd781] Performed UploadArticleImageJob (Job ID: bec46681-2866-4a23-9dc4-897a582bd781) from Async(default) in 119.47ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [3707fd27-7292-4e67-91cf-8cc4f6f07f54] Performing ActiveStorage::PurgeJob (Job ID: 3707fd27-7292-4e67-91cf-8cc4f6f07f54) from Async(default) with arguments: #<GlobalID:0x00007f8b90313378 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [3707fd27-7292-4e67-91cf-8cc4f6f07f54]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [fe3fa620-d6a2-4ffa-96a6-c0ee3747c583] Performing ActiveStorage::AnalyzeJob (Job ID: fe3fa620-d6a2-4ffa-96a6-c0ee3747c583) from Async(default) with arguments: #<GlobalID:0x00007f8b914fa050 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [3707fd27-7292-4e67-91cf-8cc4f6f07f54]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [3707fd27-7292-4e67-91cf-8cc4f6f07f54]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [3707fd27-7292-4e67-91cf-8cc4f6f07f54]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [3707fd27-7292-4e67-91cf-8cc4f6f07f54]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [3707fd27-7292-4e67-91cf-8cc4f6f07f54] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [3707fd27-7292-4e67-91cf-8cc4f6f07f54] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [3707fd27-7292-4e67-91cf-8cc4f6f07f54] Performed ActiveStorage::PurgeJob (Job ID: 3707fd27-7292-4e67-91cf-8cc4f6f07f54) from Async(default) in 6.85ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [fe3fa620-d6a2-4ffa-96a6-c0ee3747c583] [36m  Disk Storage (2.5ms) [0m[34mDownloaded file from key: Xw1NiG8aymzgeP6MW3QcQLT5[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fe3fa620-d6a2-4ffa-96a6-c0ee3747c583] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [fe3fa620-d6a2-4ffa-96a6-c0ee3747c583]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fe3fa620-d6a2-4ffa-96a6-c0ee3747c583]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [fe3fa620-d6a2-4ffa-96a6-c0ee3747c583]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fe3fa620-d6a2-4ffa-96a6-c0ee3747c583] Performed ActiveStorage::AnalyzeJob (Job ID: fe3fa620-d6a2-4ffa-96a6-c0ee3747c583) from Async(default) in 7.71ms
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:46:06 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 14:46:08.026024', '2019-03-10 14:46:08.026024', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 14:46:08.026024', '2019-03-10 14:46:08.026024', 298486374)[0m
  [1m[35m (3.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:46:08 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 14:46:08.134126"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 18:46:08 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 14:46:08.229404"], ["updated_at", "2019-03-10 14:46:08.229404"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 679f943f-828a-47e7-b513-c1a884f29f9c) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b908a2690 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [679f943f-828a-47e7-b513-c1a884f29f9c] Performing UploadArticleImageJob (Job ID: 679f943f-828a-47e7-b513-c1a884f29f9c) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b91237e30 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [679f943f-828a-47e7-b513-c1a884f29f9c]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [679f943f-828a-47e7-b513-c1a884f29f9c]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [679f943f-828a-47e7-b513-c1a884f29f9c] [36m  Disk Storage (2.7ms) [0m[32mUploaded file to key: iVoVbfTmy2Z4b3rCh7Z6WMbp (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [679f943f-828a-47e7-b513-c1a884f29f9c]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [679f943f-828a-47e7-b513-c1a884f29f9c]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "iVoVbfTmy2Z4b3rCh7Z6WMbp"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 14:46:08.279801"]]
[ActiveJob] [UploadArticleImageJob] [679f943f-828a-47e7-b513-c1a884f29f9c]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [679f943f-828a-47e7-b513-c1a884f29f9c]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [679f943f-828a-47e7-b513-c1a884f29f9c]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [679f943f-828a-47e7-b513-c1a884f29f9c]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 14:46:08.282913"]]
[ActiveJob] [UploadArticleImageJob] [679f943f-828a-47e7-b513-c1a884f29f9c]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 14:46:08.283661"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [679f943f-828a-47e7-b513-c1a884f29f9c]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [679f943f-828a-47e7-b513-c1a884f29f9c] Enqueued ActiveStorage::AnalyzeJob (Job ID: bfdf749f-fc79-4f73-a579-f087f4035849) to Async(default) with arguments: #<GlobalID:0x00007f8b904179e0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [679f943f-828a-47e7-b513-c1a884f29f9c] Enqueued ActiveStorage::PurgeJob (Job ID: 054117f0-314d-4d4a-af1a-65d26ccfde25) to Async(default) with arguments: #<GlobalID:0x00007f8b9162fee8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [679f943f-828a-47e7-b513-c1a884f29f9c] Performed UploadArticleImageJob (Job ID: 679f943f-828a-47e7-b513-c1a884f29f9c) from Async(default) in 53.53ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [054117f0-314d-4d4a-af1a-65d26ccfde25] Performing ActiveStorage::PurgeJob (Job ID: 054117f0-314d-4d4a-af1a-65d26ccfde25) from Async(default) with arguments: #<GlobalID:0x00007f8b9163f118 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [054117f0-314d-4d4a-af1a-65d26ccfde25]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [bfdf749f-fc79-4f73-a579-f087f4035849] Performing ActiveStorage::AnalyzeJob (Job ID: bfdf749f-fc79-4f73-a579-f087f4035849) from Async(default) with arguments: #<GlobalID:0x00007f8b92ca72e8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [054117f0-314d-4d4a-af1a-65d26ccfde25]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [054117f0-314d-4d4a-af1a-65d26ccfde25]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [054117f0-314d-4d4a-af1a-65d26ccfde25]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [054117f0-314d-4d4a-af1a-65d26ccfde25]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [054117f0-314d-4d4a-af1a-65d26ccfde25] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [054117f0-314d-4d4a-af1a-65d26ccfde25] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [054117f0-314d-4d4a-af1a-65d26ccfde25] Performed ActiveStorage::PurgeJob (Job ID: 054117f0-314d-4d4a-af1a-65d26ccfde25) from Async(default) in 8.23ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [bfdf749f-fc79-4f73-a579-f087f4035849] [36m  Disk Storage (4.0ms) [0m[34mDownloaded file from key: iVoVbfTmy2Z4b3rCh7Z6WMbp[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [bfdf749f-fc79-4f73-a579-f087f4035849] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [bfdf749f-fc79-4f73-a579-f087f4035849]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [bfdf749f-fc79-4f73-a579-f087f4035849]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [bfdf749f-fc79-4f73-a579-f087f4035849]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [bfdf749f-fc79-4f73-a579-f087f4035849] Performed ActiveStorage::AnalyzeJob (Job ID: bfdf749f-fc79-4f73-a579-f087f4035849) from Async(default) in 9.48ms
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 18:46:08 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 15:11:58.311006', '2019-03-10 15:11:58.311006', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 15:11:58.311006', '2019-03-10 15:11:58.311006', 298486374)[0m
  [1m[35m (2.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 19:11:58 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (1.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 15:11:58.538212"], ["updated_at", "2019-03-10 15:11:58.538212"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: a7090aba-85b5-480b-a6f0-26c30ddd3775) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b915a3d58 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 16ms (ActiveRecord: 1.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [a7090aba-85b5-480b-a6f0-26c30ddd3775] Performing UploadArticleImageJob (Job ID: a7090aba-85b5-480b-a6f0-26c30ddd3775) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b915bf6c0 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [a7090aba-85b5-480b-a6f0-26c30ddd3775]   [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [a7090aba-85b5-480b-a6f0-26c30ddd3775]   [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [a7090aba-85b5-480b-a6f0-26c30ddd3775] [36m  Disk Storage (3.9ms) [0m[32mUploaded file to key: rGpj36rb5curmmgFy4ey5dmZ (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [a7090aba-85b5-480b-a6f0-26c30ddd3775]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [a7090aba-85b5-480b-a6f0-26c30ddd3775]   [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "rGpj36rb5curmmgFy4ey5dmZ"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 15:11:58.712764"]]
[ActiveJob] [UploadArticleImageJob] [a7090aba-85b5-480b-a6f0-26c30ddd3775]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [a7090aba-85b5-480b-a6f0-26c30ddd3775]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [a7090aba-85b5-480b-a6f0-26c30ddd3775]   [1m[36mActiveStorage::Attachment Destroy (0.6ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [a7090aba-85b5-480b-a6f0-26c30ddd3775]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 15:11:58.716855"]]
[ActiveJob] [UploadArticleImageJob] [a7090aba-85b5-480b-a6f0-26c30ddd3775]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 15:11:58.717565"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [a7090aba-85b5-480b-a6f0-26c30ddd3775]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [a7090aba-85b5-480b-a6f0-26c30ddd3775] Enqueued ActiveStorage::AnalyzeJob (Job ID: d7077a27-aee2-44cc-9ad8-caf8cd271690) to Async(default) with arguments: #<GlobalID:0x00007f8b909ef908 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d7077a27-aee2-44cc-9ad8-caf8cd271690] Performing ActiveStorage::AnalyzeJob (Job ID: d7077a27-aee2-44cc-9ad8-caf8cd271690) from Async(default) with arguments: #<GlobalID:0x00007f8b929df498 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d7077a27-aee2-44cc-9ad8-caf8cd271690] [36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: rGpj36rb5curmmgFy4ey5dmZ[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d7077a27-aee2-44cc-9ad8-caf8cd271690] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [d7077a27-aee2-44cc-9ad8-caf8cd271690]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d7077a27-aee2-44cc-9ad8-caf8cd271690]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d7077a27-aee2-44cc-9ad8-caf8cd271690]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d7077a27-aee2-44cc-9ad8-caf8cd271690] Performed ActiveStorage::AnalyzeJob (Job ID: d7077a27-aee2-44cc-9ad8-caf8cd271690) from Async(default) in 4.25ms
[ActiveJob] [UploadArticleImageJob] [a7090aba-85b5-480b-a6f0-26c30ddd3775] Enqueued ActiveStorage::PurgeJob (Job ID: 1d349f87-c285-4464-996a-ad4ad4ee1406) to Async(default) with arguments: #<GlobalID:0x00007f8b901adee8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [a7090aba-85b5-480b-a6f0-26c30ddd3775] Performed UploadArticleImageJob (Job ID: a7090aba-85b5-480b-a6f0-26c30ddd3775) from Async(default) in 175.06ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [1d349f87-c285-4464-996a-ad4ad4ee1406] Performing ActiveStorage::PurgeJob (Job ID: 1d349f87-c285-4464-996a-ad4ad4ee1406) from Async(default) with arguments: #<GlobalID:0x00007f8b912d0a18 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [1d349f87-c285-4464-996a-ad4ad4ee1406]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [1d349f87-c285-4464-996a-ad4ad4ee1406]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [1d349f87-c285-4464-996a-ad4ad4ee1406]   [1m[36mActiveStorage::Blob Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [1d349f87-c285-4464-996a-ad4ad4ee1406]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [1d349f87-c285-4464-996a-ad4ad4ee1406]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [1d349f87-c285-4464-996a-ad4ad4ee1406] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [1d349f87-c285-4464-996a-ad4ad4ee1406] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [1d349f87-c285-4464-996a-ad4ad4ee1406] Performed ActiveStorage::PurgeJob (Job ID: 1d349f87-c285-4464-996a-ad4ad4ee1406) from Async(default) in 6.89ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:11:58 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:11:58 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 15:11:58.806022"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 15:12:00.280523', '2019-03-10 15:12:00.280523', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 15:12:00.280523', '2019-03-10 15:12:00.280523', 298486374)[0m
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:12:00 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 15:12:00.421268"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 19:12:00 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 15:12:00.516663"], ["updated_at", "2019-03-10 15:12:00.516663"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 79f168a3-ef1a-4e03-a2bb-05beab27f747) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b928a4538 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [79f168a3-ef1a-4e03-a2bb-05beab27f747] Performing UploadArticleImageJob (Job ID: 79f168a3-ef1a-4e03-a2bb-05beab27f747) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b91228a20 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [79f168a3-ef1a-4e03-a2bb-05beab27f747]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [79f168a3-ef1a-4e03-a2bb-05beab27f747]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [79f168a3-ef1a-4e03-a2bb-05beab27f747] [36m  Disk Storage (2.8ms) [0m[32mUploaded file to key: xYnur4aZWJR38HgrMbKScLcN (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [79f168a3-ef1a-4e03-a2bb-05beab27f747]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [79f168a3-ef1a-4e03-a2bb-05beab27f747]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xYnur4aZWJR38HgrMbKScLcN"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 15:12:00.566288"]]
[ActiveJob] [UploadArticleImageJob] [79f168a3-ef1a-4e03-a2bb-05beab27f747]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [79f168a3-ef1a-4e03-a2bb-05beab27f747]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [79f168a3-ef1a-4e03-a2bb-05beab27f747]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [79f168a3-ef1a-4e03-a2bb-05beab27f747]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 15:12:00.569472"]]
[ActiveJob] [UploadArticleImageJob] [79f168a3-ef1a-4e03-a2bb-05beab27f747]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 15:12:00.570198"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [79f168a3-ef1a-4e03-a2bb-05beab27f747]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [79f168a3-ef1a-4e03-a2bb-05beab27f747] Enqueued ActiveStorage::AnalyzeJob (Job ID: b1da9539-804e-420f-b6d9-77683274c6ee) to Async(default) with arguments: #<GlobalID:0x00007f8b90407ab8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1da9539-804e-420f-b6d9-77683274c6ee] Performing ActiveStorage::AnalyzeJob (Job ID: b1da9539-804e-420f-b6d9-77683274c6ee) from Async(default) with arguments: #<GlobalID:0x00007f8b90cb2938 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1da9539-804e-420f-b6d9-77683274c6ee] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: xYnur4aZWJR38HgrMbKScLcN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1da9539-804e-420f-b6d9-77683274c6ee] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1da9539-804e-420f-b6d9-77683274c6ee]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1da9539-804e-420f-b6d9-77683274c6ee]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1da9539-804e-420f-b6d9-77683274c6ee]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1da9539-804e-420f-b6d9-77683274c6ee] Performed ActiveStorage::AnalyzeJob (Job ID: b1da9539-804e-420f-b6d9-77683274c6ee) from Async(default) in 4.2ms
[ActiveJob] [UploadArticleImageJob] [79f168a3-ef1a-4e03-a2bb-05beab27f747] Enqueued ActiveStorage::PurgeJob (Job ID: 7bd003d7-c2ed-4d2b-b42f-305d0760c717) to Async(default) with arguments: #<GlobalID:0x00007f8b9041f4b0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [7bd003d7-c2ed-4d2b-b42f-305d0760c717] Performing ActiveStorage::PurgeJob (Job ID: 7bd003d7-c2ed-4d2b-b42f-305d0760c717) from Async(default) with arguments: #<GlobalID:0x00007f8b904247d0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [7bd003d7-c2ed-4d2b-b42f-305d0760c717]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [79f168a3-ef1a-4e03-a2bb-05beab27f747] Performed UploadArticleImageJob (Job ID: 79f168a3-ef1a-4e03-a2bb-05beab27f747) from Async(default) in 56.22ms
[ActiveJob] [ActiveStorage::PurgeJob] [7bd003d7-c2ed-4d2b-b42f-305d0760c717]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [7bd003d7-c2ed-4d2b-b42f-305d0760c717]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [7bd003d7-c2ed-4d2b-b42f-305d0760c717]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [7bd003d7-c2ed-4d2b-b42f-305d0760c717]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [7bd003d7-c2ed-4d2b-b42f-305d0760c717] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [7bd003d7-c2ed-4d2b-b42f-305d0760c717] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [7bd003d7-c2ed-4d2b-b42f-305d0760c717] Performed ActiveStorage::PurgeJob (Job ID: 7bd003d7-c2ed-4d2b-b42f-305d0760c717) from Async(default) in 5.84ms
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:12:00 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 15:12:02.784527', '2019-03-10 15:12:02.784527', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 15:12:02.784527', '2019-03-10 15:12:02.784527', 298486374)[0m
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:12:02 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 13ms (ActiveRecord: 0.8ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 19:12:03 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 15:12:03.022253"], ["updated_at", "2019-03-10 15:12:03.022253"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 3248c982-f544-4993-8c58-7a5ee1ff9a2f) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9026a9a8 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3248c982-f544-4993-8c58-7a5ee1ff9a2f] Performing UploadArticleImageJob (Job ID: 3248c982-f544-4993-8c58-7a5ee1ff9a2f) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9029a6a8 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3248c982-f544-4993-8c58-7a5ee1ff9a2f]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3248c982-f544-4993-8c58-7a5ee1ff9a2f]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [3248c982-f544-4993-8c58-7a5ee1ff9a2f] [36m  Disk Storage (2.7ms) [0m[32mUploaded file to key: cdis7vpiKEd6D6M98G3Rnbj9 (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [3248c982-f544-4993-8c58-7a5ee1ff9a2f]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3248c982-f544-4993-8c58-7a5ee1ff9a2f]   [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "cdis7vpiKEd6D6M98G3Rnbj9"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 15:12:03.068872"]]
[ActiveJob] [UploadArticleImageJob] [3248c982-f544-4993-8c58-7a5ee1ff9a2f]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3248c982-f544-4993-8c58-7a5ee1ff9a2f]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3248c982-f544-4993-8c58-7a5ee1ff9a2f]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [3248c982-f544-4993-8c58-7a5ee1ff9a2f]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 15:12:03.071949"]]
[ActiveJob] [UploadArticleImageJob] [3248c982-f544-4993-8c58-7a5ee1ff9a2f]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 15:12:03.072674"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [3248c982-f544-4993-8c58-7a5ee1ff9a2f]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [3248c982-f544-4993-8c58-7a5ee1ff9a2f] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1e123ed6-adc8-4021-aa80-21fcbc5549e7) to Async(default) with arguments: #<GlobalID:0x00007f8b90416b58 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [3248c982-f544-4993-8c58-7a5ee1ff9a2f] Enqueued ActiveStorage::PurgeJob (Job ID: afa91f14-16f3-49ed-9d9f-600b8d91e529) to Async(default) with arguments: #<GlobalID:0x00007f8b91634970 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [3248c982-f544-4993-8c58-7a5ee1ff9a2f] Performed UploadArticleImageJob (Job ID: 3248c982-f544-4993-8c58-7a5ee1ff9a2f) from Async(default) in 48.2ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [afa91f14-16f3-49ed-9d9f-600b8d91e529] Performing ActiveStorage::PurgeJob (Job ID: afa91f14-16f3-49ed-9d9f-600b8d91e529) from Async(default) with arguments: #<GlobalID:0x00007f8b90424398 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [afa91f14-16f3-49ed-9d9f-600b8d91e529]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1e123ed6-adc8-4021-aa80-21fcbc5549e7] Performing ActiveStorage::AnalyzeJob (Job ID: 1e123ed6-adc8-4021-aa80-21fcbc5549e7) from Async(default) with arguments: #<GlobalID:0x00007f8b9164c250 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [afa91f14-16f3-49ed-9d9f-600b8d91e529]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [afa91f14-16f3-49ed-9d9f-600b8d91e529]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [afa91f14-16f3-49ed-9d9f-600b8d91e529]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [afa91f14-16f3-49ed-9d9f-600b8d91e529]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [afa91f14-16f3-49ed-9d9f-600b8d91e529] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [afa91f14-16f3-49ed-9d9f-600b8d91e529] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [afa91f14-16f3-49ed-9d9f-600b8d91e529] Performed ActiveStorage::PurgeJob (Job ID: afa91f14-16f3-49ed-9d9f-600b8d91e529) from Async(default) in 6.81ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [1e123ed6-adc8-4021-aa80-21fcbc5549e7] [36m  Disk Storage (2.8ms) [0m[34mDownloaded file from key: cdis7vpiKEd6D6M98G3Rnbj9[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1e123ed6-adc8-4021-aa80-21fcbc5549e7] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [1e123ed6-adc8-4021-aa80-21fcbc5549e7]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1e123ed6-adc8-4021-aa80-21fcbc5549e7]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1e123ed6-adc8-4021-aa80-21fcbc5549e7]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1e123ed6-adc8-4021-aa80-21fcbc5549e7] Performed ActiveStorage::AnalyzeJob (Job ID: 1e123ed6-adc8-4021-aa80-21fcbc5549e7) from Async(default) in 7.87ms
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:12:03 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 15:12:03.096220"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 15:12:06.680921', '2019-03-10 15:12:06.680921', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 15:12:06.680921', '2019-03-10 15:12:06.680921', 298486374)[0m
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 19:12:06 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 15:12:06.822605"], ["updated_at", "2019-03-10 15:12:06.822605"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 8677bce2-813d-4530-be94-36d78b58a6df) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b90c87968 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Completed 302 Found in 15ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [8677bce2-813d-4530-be94-36d78b58a6df] Performing UploadArticleImageJob (Job ID: 8677bce2-813d-4530-be94-36d78b58a6df) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9381ac60 @uri=#<URI::GID gid://blog/Article/980190963>>
[ActiveJob] [UploadArticleImageJob] [8677bce2-813d-4530-be94-36d78b58a6df]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [8677bce2-813d-4530-be94-36d78b58a6df]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [8677bce2-813d-4530-be94-36d78b58a6df] [36m  Disk Storage (4.6ms) [0m[32mUploaded file to key: r7ezG9xT4CxdgeTQAfjPQLp8 (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [8677bce2-813d-4530-be94-36d78b58a6df]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [8677bce2-813d-4530-be94-36d78b58a6df]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "r7ezG9xT4CxdgeTQAfjPQLp8"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 15:12:06.921809"]]
[ActiveJob] [UploadArticleImageJob] [8677bce2-813d-4530-be94-36d78b58a6df]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [8677bce2-813d-4530-be94-36d78b58a6df]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [8677bce2-813d-4530-be94-36d78b58a6df]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [8677bce2-813d-4530-be94-36d78b58a6df]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 15:12:06.926164"]]
[ActiveJob] [UploadArticleImageJob] [8677bce2-813d-4530-be94-36d78b58a6df]   [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 15:12:06.927324"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [8677bce2-813d-4530-be94-36d78b58a6df]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [8677bce2-813d-4530-be94-36d78b58a6df] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5e5ea7ae-6d91-4603-8f3b-fc4775b81f55) to Async(default) with arguments: #<GlobalID:0x00007f8b9052e7c0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [8677bce2-813d-4530-be94-36d78b58a6df] Enqueued ActiveStorage::PurgeJob (Job ID: 2178c280-1775-4157-a866-8589e10b1caf) to Async(default) with arguments: #<GlobalID:0x00007f8b91105d00 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [8677bce2-813d-4530-be94-36d78b58a6df] Performed UploadArticleImageJob (Job ID: 8677bce2-813d-4530-be94-36d78b58a6df) from Async(default) in 107.53ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [2178c280-1775-4157-a866-8589e10b1caf] Performing ActiveStorage::PurgeJob (Job ID: 2178c280-1775-4157-a866-8589e10b1caf) from Async(default) with arguments: #<GlobalID:0x00007f8b92926010 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [2178c280-1775-4157-a866-8589e10b1caf]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5e5ea7ae-6d91-4603-8f3b-fc4775b81f55] Performing ActiveStorage::AnalyzeJob (Job ID: 5e5ea7ae-6d91-4603-8f3b-fc4775b81f55) from Async(default) with arguments: #<GlobalID:0x00007f8b900e9ca0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [2178c280-1775-4157-a866-8589e10b1caf]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [2178c280-1775-4157-a866-8589e10b1caf]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [2178c280-1775-4157-a866-8589e10b1caf]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [2178c280-1775-4157-a866-8589e10b1caf]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [2178c280-1775-4157-a866-8589e10b1caf] [36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [2178c280-1775-4157-a866-8589e10b1caf] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [2178c280-1775-4157-a866-8589e10b1caf] Performed ActiveStorage::PurgeJob (Job ID: 2178c280-1775-4157-a866-8589e10b1caf) from Async(default) in 7.04ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [5e5ea7ae-6d91-4603-8f3b-fc4775b81f55] [36m  Disk Storage (2.5ms) [0m[34mDownloaded file from key: r7ezG9xT4CxdgeTQAfjPQLp8[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5e5ea7ae-6d91-4603-8f3b-fc4775b81f55] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [5e5ea7ae-6d91-4603-8f3b-fc4775b81f55]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5e5ea7ae-6d91-4603-8f3b-fc4775b81f55]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5e5ea7ae-6d91-4603-8f3b-fc4775b81f55]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5e5ea7ae-6d91-4603-8f3b-fc4775b81f55] Performed ActiveStorage::AnalyzeJob (Job ID: 5e5ea7ae-6d91-4603-8f3b-fc4775b81f55) from Async(default) in 7.96ms
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:12:07 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:12:07 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 15:12:07.016629"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (1.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 15:12:09.588654', '2019-03-10 15:12:09.588654', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 15:12:09.588654', '2019-03-10 15:12:09.588654', 298486374)[0m
  [1m[35m (2.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:12:09 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 15:12:09.710379"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:12:09 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 19:12:09 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 15:12:09.820657"], ["updated_at", "2019-03-10 15:12:09.820657"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: d82b0f5c-d9c2-4337-a8a5-85efbcc2302d) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b902c1140 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d82b0f5c-d9c2-4337-a8a5-85efbcc2302d] Performing UploadArticleImageJob (Job ID: d82b0f5c-d9c2-4337-a8a5-85efbcc2302d) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b914d0958 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d82b0f5c-d9c2-4337-a8a5-85efbcc2302d]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d82b0f5c-d9c2-4337-a8a5-85efbcc2302d]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [d82b0f5c-d9c2-4337-a8a5-85efbcc2302d] [36m  Disk Storage (2.7ms) [0m[32mUploaded file to key: AGN63Jav8uayMZXxsrPM89Vr (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [d82b0f5c-d9c2-4337-a8a5-85efbcc2302d]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d82b0f5c-d9c2-4337-a8a5-85efbcc2302d]   [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "AGN63Jav8uayMZXxsrPM89Vr"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 15:12:09.883686"]]
[ActiveJob] [UploadArticleImageJob] [d82b0f5c-d9c2-4337-a8a5-85efbcc2302d]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d82b0f5c-d9c2-4337-a8a5-85efbcc2302d]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d82b0f5c-d9c2-4337-a8a5-85efbcc2302d]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [d82b0f5c-d9c2-4337-a8a5-85efbcc2302d]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 15:12:09.887694"]]
[ActiveJob] [UploadArticleImageJob] [d82b0f5c-d9c2-4337-a8a5-85efbcc2302d]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 15:12:09.888602"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [d82b0f5c-d9c2-4337-a8a5-85efbcc2302d]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [d82b0f5c-d9c2-4337-a8a5-85efbcc2302d] Enqueued ActiveStorage::AnalyzeJob (Job ID: 589769a3-0c30-439e-8b25-7cbed9de989b) to Async(default) with arguments: #<GlobalID:0x00007f8b92cb5a00 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [589769a3-0c30-439e-8b25-7cbed9de989b] Performing ActiveStorage::AnalyzeJob (Job ID: 589769a3-0c30-439e-8b25-7cbed9de989b) from Async(default) with arguments: #<GlobalID:0x00007f8b92cbd458 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [589769a3-0c30-439e-8b25-7cbed9de989b] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: AGN63Jav8uayMZXxsrPM89Vr[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [589769a3-0c30-439e-8b25-7cbed9de989b] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [589769a3-0c30-439e-8b25-7cbed9de989b]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [589769a3-0c30-439e-8b25-7cbed9de989b]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [589769a3-0c30-439e-8b25-7cbed9de989b]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [589769a3-0c30-439e-8b25-7cbed9de989b] Performed ActiveStorage::AnalyzeJob (Job ID: 589769a3-0c30-439e-8b25-7cbed9de989b) from Async(default) in 4.67ms
[ActiveJob] [UploadArticleImageJob] [d82b0f5c-d9c2-4337-a8a5-85efbcc2302d] Enqueued ActiveStorage::PurgeJob (Job ID: 23a722fb-296a-4f39-b033-eaa0753befa5) to Async(default) with arguments: #<GlobalID:0x00007f8b9172f078 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [d82b0f5c-d9c2-4337-a8a5-85efbcc2302d] Performed UploadArticleImageJob (Job ID: d82b0f5c-d9c2-4337-a8a5-85efbcc2302d) from Async(default) in 69.18ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [23a722fb-296a-4f39-b033-eaa0753befa5] Performing ActiveStorage::PurgeJob (Job ID: 23a722fb-296a-4f39-b033-eaa0753befa5) from Async(default) with arguments: #<GlobalID:0x00007f8b92dae510 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [23a722fb-296a-4f39-b033-eaa0753befa5]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [23a722fb-296a-4f39-b033-eaa0753befa5]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [23a722fb-296a-4f39-b033-eaa0753befa5]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [23a722fb-296a-4f39-b033-eaa0753befa5]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [23a722fb-296a-4f39-b033-eaa0753befa5]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [23a722fb-296a-4f39-b033-eaa0753befa5] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [23a722fb-296a-4f39-b033-eaa0753befa5] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [23a722fb-296a-4f39-b033-eaa0753befa5] Performed ActiveStorage::PurgeJob (Job ID: 23a722fb-296a-4f39-b033-eaa0753befa5) from Async(default) in 6.7ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 15:12:13.244788', '2019-03-10 15:12:13.244788', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 15:12:13.244788', '2019-03-10 15:12:13.244788', 298486374)[0m
  [1m[35m (2.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:12:13 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 29ms (ActiveRecord: 0.9ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 19:12:13 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 15:12:13.457132"], ["updated_at", "2019-03-10 15:12:13.457132"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 199832de-38fb-4927-8969-2973daad5e5d) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b92a25470 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [199832de-38fb-4927-8969-2973daad5e5d] Performing UploadArticleImageJob (Job ID: 199832de-38fb-4927-8969-2973daad5e5d) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b913cef00 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [199832de-38fb-4927-8969-2973daad5e5d]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [199832de-38fb-4927-8969-2973daad5e5d]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [199832de-38fb-4927-8969-2973daad5e5d] [36m  Disk Storage (6.2ms) [0m[32mUploaded file to key: EZ8oVS4m8hT3yNyQ2EU3xopz (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [199832de-38fb-4927-8969-2973daad5e5d]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [199832de-38fb-4927-8969-2973daad5e5d]   [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "EZ8oVS4m8hT3yNyQ2EU3xopz"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 15:12:13.506518"]]
[ActiveJob] [UploadArticleImageJob] [199832de-38fb-4927-8969-2973daad5e5d]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [199832de-38fb-4927-8969-2973daad5e5d]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [199832de-38fb-4927-8969-2973daad5e5d]   [1m[36mActiveStorage::Attachment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [199832de-38fb-4927-8969-2973daad5e5d]   [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 15:12:13.512704"]]
[ActiveJob] [UploadArticleImageJob] [199832de-38fb-4927-8969-2973daad5e5d]   [1m[36mArticle Update (0.2ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 15:12:13.513853"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [199832de-38fb-4927-8969-2973daad5e5d]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [199832de-38fb-4927-8969-2973daad5e5d] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9661ab5b-201d-4d3e-a92d-11dcd1f4a569) to Async(default) with arguments: #<GlobalID:0x00007f8b92c96380 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [UploadArticleImageJob] [199832de-38fb-4927-8969-2973daad5e5d] Enqueued ActiveStorage::PurgeJob (Job ID: 47119ece-2364-42aa-8147-da6a8e789dc2) to Async(default) with arguments: #<GlobalID:0x00007f8b92c9c3e8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [199832de-38fb-4927-8969-2973daad5e5d] Performed UploadArticleImageJob (Job ID: 199832de-38fb-4927-8969-2973daad5e5d) from Async(default) in 57.63ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [47119ece-2364-42aa-8147-da6a8e789dc2] Performing ActiveStorage::PurgeJob (Job ID: 47119ece-2364-42aa-8147-da6a8e789dc2) from Async(default) with arguments: #<GlobalID:0x00007f8b90424b68 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [47119ece-2364-42aa-8147-da6a8e789dc2]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (1.4ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9661ab5b-201d-4d3e-a92d-11dcd1f4a569] Performing ActiveStorage::AnalyzeJob (Job ID: 9661ab5b-201d-4d3e-a92d-11dcd1f4a569) from Async(default) with arguments: #<GlobalID:0x00007f8b92cbe6c8 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::PurgeJob] [47119ece-2364-42aa-8147-da6a8e789dc2]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [47119ece-2364-42aa-8147-da6a8e789dc2]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [47119ece-2364-42aa-8147-da6a8e789dc2]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [47119ece-2364-42aa-8147-da6a8e789dc2]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [47119ece-2364-42aa-8147-da6a8e789dc2] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [47119ece-2364-42aa-8147-da6a8e789dc2] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [47119ece-2364-42aa-8147-da6a8e789dc2] Performed ActiveStorage::PurgeJob (Job ID: 47119ece-2364-42aa-8147-da6a8e789dc2) from Async(default) in 6.98ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [9661ab5b-201d-4d3e-a92d-11dcd1f4a569] [36m  Disk Storage (2.6ms) [0m[34mDownloaded file from key: EZ8oVS4m8hT3yNyQ2EU3xopz[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9661ab5b-201d-4d3e-a92d-11dcd1f4a569] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [9661ab5b-201d-4d3e-a92d-11dcd1f4a569]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9661ab5b-201d-4d3e-a92d-11dcd1f4a569]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9661ab5b-201d-4d3e-a92d-11dcd1f4a569]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9661ab5b-201d-4d3e-a92d-11dcd1f4a569] Performed ActiveStorage::AnalyzeJob (Job ID: 9661ab5b-201d-4d3e-a92d-11dcd1f4a569) from Async(default) in 7.79ms
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:12:13 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.6ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 15:12:13.541912"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 15:12:15.151833', '2019-03-10 15:12:15.151833', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 15:12:15.151833', '2019-03-10 15:12:15.151833', 298486374)[0m
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
ArticleTest: test_should_not_save_article_without_title
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_create_an_article
----------------------------------------
Started POST "/articles" for 127.0.0.1 at 2019-03-10 19:12:15 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"article"=>{"title"=>"New title", "body"=>"New body"}, "image_url"=>"/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "New title"], ["body", "New body"], ["created_at", "2019-03-10 15:12:15.294932"], ["updated_at", "2019-03-10 15:12:15.294932"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190963
[ActiveJob] Enqueued UploadArticleImageJob (Job ID: 5a412d59-b42c-476b-96d9-e09f6a6200e6) to Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b91507818 @uri=#<URI::GID gid://blog/Article/980190963>>
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [5a412d59-b42c-476b-96d9-e09f6a6200e6] Performing UploadArticleImageJob (Job ID: 5a412d59-b42c-476b-96d9-e09f6a6200e6) from Async(default) with arguments: "/Users/Alex/thinknetica/blog/test/integration/../fixtures/files/test_image.jpeg", #<GlobalID:0x00007f8b9151f670 @uri=#<URI::GID gid://blog/Article/980190963>>
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "New title"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [5a412d59-b42c-476b-96d9-e09f6a6200e6]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [5a412d59-b42c-476b-96d9-e09f6a6200e6]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [UploadArticleImageJob] [5a412d59-b42c-476b-96d9-e09f6a6200e6] [36m  Disk Storage (4.2ms) [0m[32mUploaded file to key: QxqaRWAXpGZCyCG73ZBEDz93 (checksum: OdScI/3f/RJq6NfxmbvK4w==)[0m
[ActiveJob] [UploadArticleImageJob] [5a412d59-b42c-476b-96d9-e09f6a6200e6]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [5a412d59-b42c-476b-96d9-e09f6a6200e6]   [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "QxqaRWAXpGZCyCG73ZBEDz93"], ["filename", "article_980190963"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["byte_size", 327533], ["checksum", "OdScI/3f/RJq6NfxmbvK4w=="], ["created_at", "2019-03-10 15:12:15.344724"]]
[ActiveJob] [UploadArticleImageJob] [5a412d59-b42c-476b-96d9-e09f6a6200e6]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [5a412d59-b42c-476b-96d9-e09f6a6200e6]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [5a412d59-b42c-476b-96d9-e09f6a6200e6]   [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
[ActiveJob] [UploadArticleImageJob] [5a412d59-b42c-476b-96d9-e09f6a6200e6]   [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Article"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2019-03-10 15:12:15.348104"]]
[ActiveJob] [UploadArticleImageJob] [5a412d59-b42c-476b-96d9-e09f6a6200e6]   [1m[36mArticle Update (0.1ms)[0m  [1m[33mUPDATE "articles" SET "updated_at" = ? WHERE "articles"."id" = ?[0m  [["updated_at", "2019-03-10 15:12:15.349004"], ["id", 980190963]]
[ActiveJob] [UploadArticleImageJob] [5a412d59-b42c-476b-96d9-e09f6a6200e6]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [UploadArticleImageJob] [5a412d59-b42c-476b-96d9-e09f6a6200e6] Enqueued ActiveStorage::AnalyzeJob (Job ID: d61ac9c8-ec03-42a1-88b6-91f356475c1a) to Async(default) with arguments: #<GlobalID:0x00007f8b905a8d90 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d61ac9c8-ec03-42a1-88b6-91f356475c1a] Performing ActiveStorage::AnalyzeJob (Job ID: d61ac9c8-ec03-42a1-88b6-91f356475c1a) from Async(default) with arguments: #<GlobalID:0x00007f8b905bbbc0 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d61ac9c8-ec03-42a1-88b6-91f356475c1a] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: QxqaRWAXpGZCyCG73ZBEDz93[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d61ac9c8-ec03-42a1-88b6-91f356475c1a] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [d61ac9c8-ec03-42a1-88b6-91f356475c1a]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d61ac9c8-ec03-42a1-88b6-91f356475c1a]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d61ac9c8-ec03-42a1-88b6-91f356475c1a]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d61ac9c8-ec03-42a1-88b6-91f356475c1a] Performed ActiveStorage::AnalyzeJob (Job ID: d61ac9c8-ec03-42a1-88b6-91f356475c1a) from Async(default) in 4.4ms
[ActiveJob] [UploadArticleImageJob] [5a412d59-b42c-476b-96d9-e09f6a6200e6] Enqueued ActiveStorage::PurgeJob (Job ID: 5f4fc703-5ad1-401c-9298-7c462e111d5f) to Async(default) with arguments: #<GlobalID:0x00007f8b92d64668 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [UploadArticleImageJob] [5a412d59-b42c-476b-96d9-e09f6a6200e6] Performed UploadArticleImageJob (Job ID: 5a412d59-b42c-476b-96d9-e09f6a6200e6) from Async(default) in 57.96ms
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [5f4fc703-5ad1-401c-9298-7c462e111d5f] Performing ActiveStorage::PurgeJob (Job ID: 5f4fc703-5ad1-401c-9298-7c462e111d5f) from Async(default) with arguments: #<GlobalID:0x00007f8b9136bb58 @uri=#<URI::GID gid://blog/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [5f4fc703-5ad1-401c-9298-7c462e111d5f]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [5f4fc703-5ad1-401c-9298-7c462e111d5f]   [1m[36mActiveStorage::Attachment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ? LIMIT ?[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [5f4fc703-5ad1-401c-9298-7c462e111d5f]   [1m[36mActiveStorage::Blob Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [5f4fc703-5ad1-401c-9298-7c462e111d5f]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::PurgeJob] [5f4fc703-5ad1-401c-9298-7c462e111d5f]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [5f4fc703-5ad1-401c-9298-7c462e111d5f] [36m  Disk Storage (0.1ms) [0m[31mDeleted file from key: 4i6rP7asAPeS62NqUrnhSe79[0m
[ActiveJob] [ActiveStorage::PurgeJob] [5f4fc703-5ad1-401c-9298-7c462e111d5f] [36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/4i6rP7asAPeS62NqUrnhSe79/[0m
[ActiveJob] [ActiveStorage::PurgeJob] [5f4fc703-5ad1-401c-9298-7c462e111d5f] Performed ActiveStorage::PurgeJob (Job ID: 5f4fc703-5ad1-401c-9298-7c462e111d5f) from Async(default) in 5.53ms
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_delete_an_article
----------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:12:15 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.2ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://www.example.com/articles
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mArticle Load (0.0ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
BlogFlowTest: test_can_update_an_article
----------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:12:15 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"article"=>{"title"=>"Updated title"}, "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "title" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["title", "Updated title"], ["updated_at", "2019-03-10 15:12:15.430179"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 15:12:29.527166', '2019-03-10 15:12:29.527166', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 15:12:29.527166', '2019-03-10 15:12:29.527166', 298486374)[0m
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-10 19:12:33 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (12.9ms)
  Rendered articles/index.html.slim within layouts/application (44.6ms)
Completed 200 OK in 327ms (Views: 320.1ms | ActiveRecord: 0.3ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-10 19:12:33 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-10 19:12:33 +0400
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:12:34 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.6ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:57259/articles
Completed 302 Found in 19ms (ActiveRecord: 1.7ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-10 19:12:34 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.5ms)
  Rendered articles/index.html.slim within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-10 19:12:34 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.1ms)
  Rendered articles/index.html.slim within layouts/application (2.3ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
Started GET "/articles/new" for 127.0.0.1 at 2019-03-10 19:12:34 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (24.3ms)
  Rendered articles/new.html.slim within layouts/application (143.5ms)
Completed 200 OK in 147ms (Views: 145.2ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-10 19:12:35 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"", "commit"=>"Create Article"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 15:12:35.287210"], ["updated_at", "2019-03-10 15:12:35.287210"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:57259/articles/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-10 19:12:35 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered articles/show.html.slim within layouts/application (75.5ms)
Completed 200 OK in 80ms (Views: 75.0ms | ActiveRecord: 2.0ms)
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e07ffc5ee00df6958419da80a2f2b3256944b929/article_980190963" for 127.0.0.1 at 2019-03-10 19:12:35 +0400
Processing by ActiveStorage::BlobsController#show as HTML
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e07ffc5ee00df6958419da80a2f2b3256944b929", "filename"=>"article_980190963"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (1.0ms) [0m[34mGenerated URL for file at key: 4i6rP7asAPeS62NqUrnhSe79 (http://127.0.0.1:57259/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWROR2syY2xBM1lYTkJVR1ZUTmpKT2NWVnlibWhUWlRjNUJqb0dSVlE2RUdScGMzQnZjMmwwYVc5dVNTSk5hVzVzYVc1bE95Qm1hV3hsYm1GdFpUMGlZWEowYVdOc1pWODVPREF4T1RBNU5qTWlPeUJtYVd4bGJtRnRaU285VlZSR0xUZ25KMkZ5ZEdsamJHVmZPVGd3TVRrd09UWXpCanNHVkRvUlkyOXVkR1Z1ZEY5MGVYQmxTU0lQYVcxaFoyVXZhbkJsWndZN0JsUT0iLCJleHAiOiIyMDE5LTAzLTEwVDE1OjE3OjM1LjQwN1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fc286e935e5ff0af9cb2441bbb19f711a17d2591/article_980190963?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22article_980190963%22%3B+filename%2A%3DUTF-8%27%27article_980190963)[0m
Redirected to http://127.0.0.1:57259/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWROR2syY2xBM1lYTkJVR1ZUTmpKT2NWVnlibWhUWlRjNUJqb0dSVlE2RUdScGMzQnZjMmwwYVc5dVNTSk5hVzVzYVc1bE95Qm1hV3hsYm1GdFpUMGlZWEowYVdOc1pWODVPREF4T1RBNU5qTWlPeUJtYVd4bGJtRnRaU285VlZSR0xUZ25KMkZ5ZEdsamJHVmZPVGd3TVRrd09UWXpCanNHVkRvUlkyOXVkR1Z1ZEY5MGVYQmxTU0lQYVcxaFoyVXZhbkJsWndZN0JsUT0iLCJleHAiOiIyMDE5LTAzLTEwVDE1OjE3OjM1LjQwN1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fc286e935e5ff0af9cb2441bbb19f711a17d2591/article_980190963?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22article_980190963%22%3B+filename%2A%3DUTF-8%27%27article_980190963
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWROR2syY2xBM1lYTkJVR1ZUTmpKT2NWVnlibWhUWlRjNUJqb0dSVlE2RUdScGMzQnZjMmwwYVc5dVNTSk5hVzVzYVc1bE95Qm1hV3hsYm1GdFpUMGlZWEowYVdOc1pWODVPREF4T1RBNU5qTWlPeUJtYVd4bGJtRnRaU285VlZSR0xUZ25KMkZ5ZEdsamJHVmZPVGd3TVRrd09UWXpCanNHVkRvUlkyOXVkR1Z1ZEY5MGVYQmxTU0lQYVcxaFoyVXZhbkJsWndZN0JsUT0iLCJleHAiOiIyMDE5LTAzLTEwVDE1OjE3OjM1LjQwN1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fc286e935e5ff0af9cb2441bbb19f711a17d2591/article_980190963?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22article_980190963%22%3B+filename%2A%3DUTF-8%27%27article_980190963" for 127.0.0.1 at 2019-03-10 19:12:35 +0400
Processing by ActiveStorage::DiskController#show as HTML
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"article_980190963\"; filename*=UTF-8''article_980190963", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWROR2syY2xBM1lYTkJVR1ZUTmpKT2NWVnlibWhUWlRjNUJqb0dSVlE2RUdScGMzQnZjMmwwYVc5dVNTSk5hVzVzYVc1bE95Qm1hV3hsYm1GdFpUMGlZWEowYVdOc1pWODVPREF4T1RBNU5qTWlPeUJtYVd4bGJtRnRaU285VlZSR0xUZ25KMkZ5ZEdsamJHVmZPVGd3TVRrd09UWXpCanNHVkRvUlkyOXVkR1Z1ZEY5MGVYQmxTU0lQYVcxaFoyVXZhbkJsWndZN0JsUT0iLCJleHAiOiIyMDE5LTAzLTEwVDE1OjE3OjM1LjQwN1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fc286e935e5ff0af9cb2441bbb19f711a17d2591", "filename"=>"article_980190963"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-10 19:12:35 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.1ms)
  Rendered articles/index.html.slim within layouts/application (2.2ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.1ms)
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-10 19:12:35 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (3.6ms)
  Rendered articles/edit.html.slim within layouts/application (8.2ms)
Completed 200 OK in 14ms (Views: 10.0ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:12:35 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Title1", "body"=>"New body"}, "image_url"=>"", "commit"=>"Update Article", "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.3ms)[0m  [1m[33mUPDATE "articles" SET "body" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["body", "New body"], ["updated_at", "2019-03-10 15:12:35.786537"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:57259/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:12:35 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  Rendered articles/show.html.slim within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "articles"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title1', 'Body1', '2019-03-10 15:13:37.184051', '2019-03-10 15:13:37.184051', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at", "id") VALUES ('Title2', 'Body2', '2019-03-10 15:13:37.184051', '2019-03-10 15:13:37.184051', 298486374)[0m
  [1m[35m (2.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_create_an_article
------------------------------------
Started GET "/articles" for 127.0.0.1 at 2019-03-10 19:13:39 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (5.9ms)
  Rendered articles/index.html.slim within layouts/application (50.7ms)
Completed 200 OK in 372ms (Views: 363.3ms | ActiveRecord: 0.4ms)
Started GET "/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" for 127.0.0.1 at 2019-03-10 19:13:40 +0400
Started GET "/assets/application-4a37cb132a22ff50cf7a2f885181b6b1cd47e8b2977a30f8ba8f49d6836ece07.js" for 127.0.0.1 at 2019-03-10 19:13:40 +0400
Started GET "/articles/new" for 127.0.0.1 at 2019-03-10 19:13:40 +0400
Processing by ArticlesController#new as HTML
  Rendering articles/new.html.slim within layouts/application
  Rendered articles/_form.html.slim (11.6ms)
  Rendered articles/new.html.slim within layouts/application (59.9ms)
Completed 200 OK in 64ms (Views: 61.5ms | ActiveRecord: 0.0ms)
Started POST "/articles" for 127.0.0.1 at 2019-03-10 19:13:41 +0400
Processing by ArticlesController#create as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Title", "body"=>"Body"}, "image_url"=>"", "commit"=>"Create Article"}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Create (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "Title"], ["body", "Body"], ["created_at", "2019-03-10 15:13:41.207499"], ["updated_at", "2019-03-10 15:13:41.207499"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:57630/articles/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
Started GET "/articles/980190963" for 127.0.0.1 at 2019-03-10 19:13:41 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190963], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered articles/show.html.slim within layouts/application (63.0ms)
Completed 200 OK in 68ms (Views: 62.7ms | ActiveRecord: 1.8ms)
Started GET "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e07ffc5ee00df6958419da80a2f2b3256944b929/article_980190963" for 127.0.0.1 at 2019-03-10 19:13:41 +0400
Processing by ActiveStorage::BlobsController#show as HTML
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e07ffc5ee00df6958419da80a2f2b3256944b929", "filename"=>"article_980190963"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (0.9ms) [0m[34mGenerated URL for file at key: 4i6rP7asAPeS62NqUrnhSe79 (http://127.0.0.1:57630/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWROR2syY2xBM1lYTkJVR1ZUTmpKT2NWVnlibWhUWlRjNUJqb0dSVlE2RUdScGMzQnZjMmwwYVc5dVNTSk5hVzVzYVc1bE95Qm1hV3hsYm1GdFpUMGlZWEowYVdOc1pWODVPREF4T1RBNU5qTWlPeUJtYVd4bGJtRnRaU285VlZSR0xUZ25KMkZ5ZEdsamJHVmZPVGd3TVRrd09UWXpCanNHVkRvUlkyOXVkR1Z1ZEY5MGVYQmxTU0lQYVcxaFoyVXZhbkJsWndZN0JsUT0iLCJleHAiOiIyMDE5LTAzLTEwVDE1OjE4OjQxLjMxNVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--31929b75471f8e0f67746470ea6ea1080d63e008/article_980190963?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22article_980190963%22%3B+filename%2A%3DUTF-8%27%27article_980190963)[0m
Redirected to http://127.0.0.1:57630/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWROR2syY2xBM1lYTkJVR1ZUTmpKT2NWVnlibWhUWlRjNUJqb0dSVlE2RUdScGMzQnZjMmwwYVc5dVNTSk5hVzVzYVc1bE95Qm1hV3hsYm1GdFpUMGlZWEowYVdOc1pWODVPREF4T1RBNU5qTWlPeUJtYVd4bGJtRnRaU285VlZSR0xUZ25KMkZ5ZEdsamJHVmZPVGd3TVRrd09UWXpCanNHVkRvUlkyOXVkR1Z1ZEY5MGVYQmxTU0lQYVcxaFoyVXZhbkJsWndZN0JsUT0iLCJleHAiOiIyMDE5LTAzLTEwVDE1OjE4OjQxLjMxNVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--31929b75471f8e0f67746470ea6ea1080d63e008/article_980190963?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22article_980190963%22%3B+filename%2A%3DUTF-8%27%27article_980190963
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWROR2syY2xBM1lYTkJVR1ZUTmpKT2NWVnlibWhUWlRjNUJqb0dSVlE2RUdScGMzQnZjMmwwYVc5dVNTSk5hVzVzYVc1bE95Qm1hV3hsYm1GdFpUMGlZWEowYVdOc1pWODVPREF4T1RBNU5qTWlPeUJtYVd4bGJtRnRaU285VlZSR0xUZ25KMkZ5ZEdsamJHVmZPVGd3TVRrd09UWXpCanNHVkRvUlkyOXVkR1Z1ZEY5MGVYQmxTU0lQYVcxaFoyVXZhbkJsWndZN0JsUT0iLCJleHAiOiIyMDE5LTAzLTEwVDE1OjE4OjQxLjMxNVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--31929b75471f8e0f67746470ea6ea1080d63e008/article_980190963?content_type=image%2Fjpeg&disposition=inline%3B+filename%3D%22article_980190963%22%3B+filename%2A%3DUTF-8%27%27article_980190963" for 127.0.0.1 at 2019-03-10 19:13:41 +0400
Processing by ActiveStorage::DiskController#show as HTML
  Parameters: {"content_type"=>"image/jpeg", "disposition"=>"inline; filename=\"article_980190963\"; filename*=UTF-8''article_980190963", "encoded_key"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9JYTJWNVNTSWROR2syY2xBM1lYTkJVR1ZUTmpKT2NWVnlibWhUWlRjNUJqb0dSVlE2RUdScGMzQnZjMmwwYVc5dVNTSk5hVzVzYVc1bE95Qm1hV3hsYm1GdFpUMGlZWEowYVdOc1pWODVPREF4T1RBNU5qTWlPeUJtYVd4bGJtRnRaU285VlZSR0xUZ25KMkZ5ZEdsamJHVmZPVGd3TVRrd09UWXpCanNHVkRvUlkyOXVkR1Z1ZEY5MGVYQmxTU0lQYVcxaFoyVXZhbkJsWndZN0JsUT0iLCJleHAiOiIyMDE5LTAzLTEwVDE1OjE4OjQxLjMxNVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--31929b75471f8e0f67746470ea6ea1080d63e008", "filename"=>"article_980190963"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."title" = ? LIMIT ?[0m  [["title", "Title"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_update_an_article
------------------------------------
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-10 19:13:41 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (1.2ms)
  Rendered articles/index.html.slim within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.1ms)
Started GET "/articles/980190962/edit" for 127.0.0.1 at 2019-03-10 19:13:41 +0400
Processing by ArticlesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/edit.html.slim within layouts/application
  Rendered articles/_form.html.slim (2.9ms)
  Rendered articles/edit.html.slim within layouts/application (8.7ms)
Completed 200 OK in 14ms (Views: 10.6ms | ActiveRecord: 0.1ms)
Started PATCH "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:13:41 +0400
Processing by ArticlesController#update as HTML
  Parameters: {"utf8"=>"✓", "article"=>{"title"=>"Title1", "body"=>"New body"}, "image_url"=>"", "commit"=>"Update Article", "id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Update (0.4ms)[0m  [1m[33mUPDATE "articles" SET "body" = ?, "updated_at" = ? WHERE "articles"."id" = ?[0m  [["body", "New body"], ["updated_at", "2019-03-10 15:13:41.750556"], ["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:57630/articles/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started GET "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:13:41 +0400
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering articles/show.html.slim within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
  Rendered articles/show.html.slim within layouts/application (1.8ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
ArticlesTest: test_delete_an_article
------------------------------------
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/articles" for 127.0.0.1 at 2019-03-10 19:13:41 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [2 times] (0.8ms)
  Rendered articles/index.html.slim within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started DELETE "/articles/980190962" for 127.0.0.1 at 2019-03-10 19:13:41 +0400
Processing by ArticlesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Destroy (0.4ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 980190962], ["record_type", "Article"], ["name", "image"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:57630/articles
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
Started GET "/articles" for 127.0.0.1 at 2019-03-10 19:13:41 +0400
Processing by ArticlesController#index as HTML
  Rendering articles/index.html.slim within layouts/application
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles"[0m
  Rendered collection of articles/_article.html.slim [1 times] (0.4ms)
  Rendered articles/index.html.slim within layouts/application (1.1ms)
Completed 200 OK in 30ms (Views: 29.1ms | ActiveRecord: 0.1ms)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
